<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>å°ä¿Šçš„ä¸ªäººåšå®¢</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="å°ä¿Šçš„ä¸ªäººåšå®¢æ˜¯ä¸€ä¸ªè®°å½•å·¥ä½œä¸­æ€»ç»“çš„ç»éªŒå’Œä¸€äº›æ–°çŸ¥è¯†å­¦ä¹ æ–°å°è¯•çš„ä¸ªäººå¼€å‘çºªå®åšå®¢,ä¸»è¦å…³æ³¨webå‰ç«¯ä»¥åŠå…¨æ ˆæŠ€æœ¯çš„å­¦ä¹ å’Œç ”ç©¶ã€‚">
<meta property="og:type" content="website">
<meta property="og:title" content="å°ä¿Šçš„ä¸ªäººåšå®¢">
<meta property="og:url" content="https://770746548.github.io/index.html">
<meta property="og:site_name" content="å°ä¿Šçš„ä¸ªäººåšå®¢">
<meta property="og:description" content="å°ä¿Šçš„ä¸ªäººåšå®¢æ˜¯ä¸€ä¸ªè®°å½•å·¥ä½œä¸­æ€»ç»“çš„ç»éªŒå’Œä¸€äº›æ–°çŸ¥è¯†å­¦ä¹ æ–°å°è¯•çš„ä¸ªäººå¼€å‘çºªå®åšå®¢,ä¸»è¦å…³æ³¨webå‰ç«¯ä»¥åŠå…¨æ ˆæŠ€æœ¯çš„å­¦ä¹ å’Œç ”ç©¶ã€‚">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="å°ä¿Š">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="å°ä¿Šçš„ä¸ªäººåšå®¢" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">å°ä¿Šçš„ä¸ªäººåšå®¢</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://770746548.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-æ­å»ºç»„ä»¶åº“" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2026/01/16/%E6%90%AD%E5%BB%BA%E7%BB%84%E4%BB%B6%E5%BA%93/" class="article-date">
  <time class="dt-published" datetime="2026-01-16T03:00:00.000Z" itemprop="datePublished">2026-01-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2026/01/16/%E6%90%AD%E5%BB%BA%E7%BB%84%E4%BB%B6%E5%BA%93/">åŸºäº Vue3 + VitePress + Element Plus çš„ç»„ä»¶åº“æ–‡æ¡£</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>è¯¦ç»†å®ç°æ­¥éª¤ã€è‡ªç”¨ã€‘<br>ä¸‹é¢æ­¥éª¤ä»…ä»…åšä¸ªäººæ­å»ºå‘å¯¼ï¼Œæ ¹æ®æ­¥éª¤è¿›è¡Œç†è§£é…ç½®ã€‚</p>
<p>ç¬¬ä¸€æ­¥ã€é¡¹ç›®ç›®å½•ç»“æ„åŠè¯´æ˜<br>MY-VITEPRESS&#x2F;<br>â”œâ”€â”€ docs&#x2F; # æ–‡æ¡£å†…å®¹ï¼ˆMarkdownï¼‰<br>â”‚ â””â”€â”€ components&#x2F; # ç¤ºä¾‹é¡µé¢<br>â”‚ â”œâ”€â”€ btn-examples.md<br>â”‚ â””â”€â”€ index.md<br>â”œâ”€â”€ packages&#x2F; # å°è£…çš„ç»„ä»¶æºç <br>â”‚ â”œâ”€â”€ components&#x2F; # Vue ç»„ä»¶<br>â”‚ â”‚ â””â”€â”€ MyButton.vue<br>â”‚ â”œâ”€â”€ directives&#x2F;<br>â”‚ â”œâ”€â”€ examples&#x2F; # ä½¿ç”¨ç¤ºä¾‹ä»£ç <br>â”‚ â””â”€â”€ theme-chalk&#x2F; # æ ·å¼å˜é‡<br>â”œâ”€â”€ .vitepress&#x2F; # VitePress é…ç½®<br>â”‚ â”œâ”€â”€ config.ts<br>â”‚ â””â”€â”€ theme&#x2F;<br>â”œâ”€â”€ vite.config.ts<br>â””â”€â”€ package.json</p>
<p>æ³¨æ„ï¼šdocs æ˜¯æ–‡æ¡£å…¥å£ï¼Œpackages æ˜¯ç»„ä»¶æºç ï¼Œä¸¤è€…åˆ†ç¦»ä½†é€šè¿‡ VitePress åŠ¨æ€ç»‘å®šã€‚</p>
<p>ç¬¬äºŒæ­¥ã€é¡¹ç›®åˆå§‹åŒ–<br>æ–°å»ºMY-VITEPRESSæ–‡ä»¶å¤¹</p>
<p>mkdir MY-VITEPRESS<br>cd MY-VITEPRESS<br>npm init -y</p>
<p>ç¬¬ä¸‰æ­¥ã€å®‰è£…æ ¸å¿ƒä¾èµ–<br>npm install vue@3 vite @vitejs&#x2F;plugin-vue -D</p>
<p>ç¬¬å››æ­¥ã€å®‰è£… VitePress<br>vitepress æ˜¯ç‹¬ç«‹è¿è¡Œçš„ï¼Œä¸ä¾èµ– vite é¡¹ç›®æœ¬èº«ï¼Œä½†å¯ä»¥å…±å­˜ã€‚</p>
<p>npm install vitepress -D<br>ç¬¬äº”æ­¥ã€åˆ›å»º VitePress æ–‡æ¡£ç«™ç‚¹<br>åˆ›å»º&#x2F;docs&#x2F;index.mdï¼Œå¹¶å†™å…¥å†…å®¹</p>
<h1 id="æ¬¢è¿ä½¿ç”¨æˆ‘çš„ç»„ä»¶åº“"><a href="#æ¬¢è¿ä½¿ç”¨æˆ‘çš„ç»„ä»¶åº“" class="headerlink" title="æ¬¢è¿ä½¿ç”¨æˆ‘çš„ç»„ä»¶åº“"></a>æ¬¢è¿ä½¿ç”¨æˆ‘çš„ç»„ä»¶åº“</h1><p>è¿™æ˜¯ä¸€ä¸ªåŸºäº Vue3ã€VitePress æ„å»ºçš„ç»„ä»¶åº“æ–‡æ¡£å¹³å°ï¼Œé›†æˆäº† Element Plus çš„åŠŸèƒ½ã€‚</p>
<h2 id="å¿«é€Ÿå¼€å§‹"><a href="#å¿«é€Ÿå¼€å§‹" class="headerlink" title="å¿«é€Ÿå¼€å§‹"></a>å¿«é€Ÿå¼€å§‹</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;my-button type=&quot;primary&quot;&gt;ç‚¹å‡»æˆ‘&lt;/my-button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup&gt;</span><br><span class="line">import MyButton from &#x27;../packages/components/button/index.vue&#x27;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">åœ¨æ ¹ç›®å½•æ‰§è¡Œnpm run docs:dev</span><br><span class="line">Vue3 + VitePress æ­å»ºç»„ä»¶åº“æ–‡æ¡£å¹³å°ï¼ˆç»“åˆ Element Plus ä¸ Arco Design Vueï¼‰â€”â€” è¶…è¯¦ç»†å›¾æ–‡æ•™ç¨‹</span><br><span class="line"></span><br><span class="line">ç¬¬å…­æ­¥ã€æ„å»ºç»„ä»¶åº“ï¼ˆpackagesï¼‰</span><br><span class="line">åˆ›å»º packages æ–‡ä»¶å¤¹ï¼Œä¸docsåŒçº§ç›®å½•ã€‚</span><br><span class="line">Vue3 + VitePress æ­å»ºç»„ä»¶åº“æ–‡æ¡£å¹³å°ï¼ˆç»“åˆ Element Plus ä¸ Arco Design Vueï¼‰â€”â€” è¶…è¯¦ç»†å›¾æ–‡æ•™ç¨‹</span><br><span class="line"></span><br><span class="line">åˆ›å»º components/button,å°è£…ä½ çš„ç»„ä»¶ã€‚</span><br><span class="line">Vue3 + VitePress æ­å»ºç»„ä»¶åº“æ–‡æ¡£å¹³å°ï¼ˆç»“åˆ Element Plus ä¸ Arco Design Vueï¼‰â€”â€” è¶…è¯¦ç»†å›¾æ–‡æ•™ç¨‹</span><br><span class="line">Vue3 + VitePress æ­å»ºç»„ä»¶åº“æ–‡æ¡£å¹³å°ï¼ˆç»“åˆ Element Plus ä¸ Arco Design Vueï¼‰â€”â€” è¶…è¯¦ç»†å›¾æ–‡æ•™ç¨‹</span><br><span class="line"></span><br><span class="line">åˆ›å»ºpackages/components/index.ts</span><br><span class="line">Vue3 + VitePress æ­å»ºç»„ä»¶åº“æ–‡æ¡£å¹³å°ï¼ˆç»“åˆ Element Plus ä¸ Arco Design Vueï¼‰â€”â€” è¶…è¯¦ç»†å›¾æ–‡æ•™ç¨‹</span><br><span class="line"></span><br><span class="line">åˆ›å»º packages/directives/domResize.ts</span><br><span class="line">// packages/directives/domResize.ts</span><br><span class="line">import &#123;</span><br><span class="line">     </span><br><span class="line">      DirectiveBinding &#125; from &#x27;vue&#x27;;</span><br><span class="line"></span><br><span class="line">export const domResize = &#123;</span><br><span class="line">     </span><br><span class="line">     </span><br><span class="line">  mounted(el: HTMLElement, binding: DirectiveBinding) &#123;</span><br><span class="line">     </span><br><span class="line">     </span><br><span class="line">    const resizeHandler = () =&gt; &#123;</span><br><span class="line">     </span><br><span class="line">     </span><br><span class="line">      binding.value?.(el.offsetWidth, el.offsetHeight);</span><br><span class="line">    &#125;;</span><br><span class="line">    window.addEventListener(&#x27;resize&#x27;, resizeHandler);</span><br><span class="line">    resizeHandler();</span><br><span class="line">  &#125;,</span><br><span class="line">  unmounted(el: HTMLElement) &#123;</span><br><span class="line">     </span><br><span class="line">     </span><br><span class="line">    window.removeEventListener(&#x27;resize&#x27;, () =&gt; &#123;</span><br><span class="line">     </span><br><span class="line">     &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">ç¬¬ä¸ƒæ­¥ã€é›†æˆ Element Plus &amp; Arco Design UI</span><br><span class="line">å®‰è£… Element Plusï¼Œå®‰è£… Arco Design Vue</span><br><span class="line"></span><br><span class="line">npm install element-plus -S</span><br><span class="line">npm install @arco-design/web-vue -S</span><br><span class="line"></span><br><span class="line">å¼•å…¥æ ·å¼ï¼ˆåœ¨ main.ts ä¸­ï¼‰</span><br><span class="line"></span><br><span class="line">import &#123; createApp &#125; from &quot;vue&quot;;</span><br><span class="line">import App from &quot;./App.vue&quot;;</span><br><span class="line">/* æ ·å¼æ–‡ä»¶ */</span><br><span class="line">import router from &quot;./router&quot;;</span><br><span class="line">import &#123;domResize &#125; from &quot;./directives/domResize&quot;;</span><br><span class="line">import &quot;./theme-chalk/global.scss&quot;;</span><br><span class="line">import ArcoVue from &#x27;@arco-design/web-vue&#x27;;</span><br><span class="line">import ElementPlus from &#x27;element-plus&#x27;</span><br><span class="line">import &#x27;@arco-design/web-vue/dist/arco.css&#x27;;</span><br><span class="line">import &#x27;./styles/element/index.scss&#x27;</span><br><span class="line"></span><br><span class="line">const app = createApp(App);</span><br><span class="line">app.directive(&quot;domResize&quot;, domResize);</span><br><span class="line">app.use(ArcoVue);</span><br><span class="line">app.use(ElementPlus)</span><br><span class="line">app.use(router).mount(&quot;#app&quot;);</span><br><span class="line"></span><br><span class="line">ç¬¬å…«æ­¥ã€æ‰¹é‡æ³¨å†Œç»„ä»¶</span><br><span class="line">åˆ›å»ºpackages/index.tsæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</span><br><span class="line">export * from &quot;./components&quot;;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://770746548.github.io/2026/01/16/%E6%90%AD%E5%BB%BA%E7%BB%84%E4%BB%B6%E5%BA%93/" data-id="cmkgdulh5000ly4mhhwymel5w" data-title="åŸºäº Vue3 + VitePress + Element Plus çš„ç»„ä»¶åº“æ–‡æ¡£" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%90%AD%E5%BB%BA%E7%BB%84%E4%BB%B6%E5%BA%93/" rel="tag">æ­å»ºç»„ä»¶åº“</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-jenkinséƒ¨ç½²" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2026/01/15/jenkins%E9%83%A8%E7%BD%B2/" class="article-date">
  <time class="dt-published" datetime="2026-01-15T02:00:00.000Z" itemprop="datePublished">2026-01-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2026/01/15/jenkins%E9%83%A8%E7%BD%B2/">jenkins éƒ¨ç½²æ•™ç¨‹æŒ‡å—</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>æœ¬æ–‡ä¸»è¦æ•´ç† jenkins éƒ¨ç½²é¡¹ç›®æ•™ç¨‹<br>æ³¨ï¼šæ–‡ç« å†…å®¹ç›¸å¯¹è€Œè¨€æœ‰ä¸€å®šçš„éš¾åº¦ï¼Œæ‰€ä»¥éœ€è¦è¯»è€…æœ‰ä¸€å®šçš„åŸºç¡€ã€‚å¦å¤–ï¼Œè‹¥æ–‡ç« æœ‰ä½•ä¸å¦¥ä¹‹å¤„æˆ–è€…ä½ æœ‰ä»»ä½•ç–‘é—®ï¼Œæ¬¢è¿ç•™è¨€è®¨è®ºã€‚</p>
<h1 id="jenkins-éƒ¨ç½²å‘½ä»¤"><a href="#jenkins-éƒ¨ç½²å‘½ä»¤" class="headerlink" title="jenkins éƒ¨ç½²å‘½ä»¤"></a>jenkins éƒ¨ç½²å‘½ä»¤</h1><p>docker pull jenkins&#x2F;jenkins:lts<br>mkdir &#x2F;var&#x2F;jenkins_home<br>chmod 777 &#x2F;var &#x2F;jenkins_home&#x2F;<br>docker run -itd -p 2080:8080 -p 50001:50000 <br>â€“name jenkins <br>â€“privileged&#x3D;true <br>-v &#x2F;usr&#x2F;lib&#x2F;jvm&#x2F;openjdk-11:&#x2F;usr&#x2F;lib&#x2F;jvm&#x2F;openjdk-11 <br>-v &#x2F;var&#x2F;jenkins_home:&#x2F;var&#x2F;jenkins_home \ jenkins&#x2F;jenkins:lts</p>
<p>æ‰§è¡Œ shell å‘½ä»¤<br>node -v<br>npm install -g yarn<br>yarn -v<br>yarn install<br>yarn build</p>
<p>é¡¹ç›®æ„å»º ssh å‘½ä»¤<br>mkdir &#x2F;home&#x2F;tianxing&#x2F;data&#x2F;poilt<br>cp -rf &#x2F;home&#x2F;tianxing&#x2F;data&#x2F;backups&#x2F;poilt<br>rm -rf &#x2F;home&#x2F;tianxing&#x2F;data&#x2F;backups&#x2F;poilt</p>
<p>æ’ä»¶å®‰è£…<br>Publish Over SSH<br>nodejs<br>gitlab<br>é’‰é’‰æœºå™¨äºº</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://770746548.github.io/2026/01/15/jenkins%E9%83%A8%E7%BD%B2/" data-id="cmkgdulh00009y4mh2pgs1wwj" data-title="jenkins éƒ¨ç½²æ•™ç¨‹æŒ‡å—" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-TypeScript" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/03/28/TypeScript/" class="article-date">
  <time class="dt-published" datetime="2025-03-28T01:00:00.000Z" itemprop="datePublished">2025-03-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/03/28/TypeScript/">ğŸ”¥ TypeScript</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>1ã€ä»€ä¹ˆæ˜¯ TypeScriptï¼Ÿ<br>TypeScript æ˜¯ JavaScript çš„åŠ å¼ºç‰ˆï¼Œå®ƒç»™ JavaScript æ·»åŠ äº†å¯é€‰çš„é™æ€ç±»å‹å’ŒåŸºäºç±»çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œå®ƒæ‹“å±•äº† JavaScript çš„è¯­æ³•ã€‚</p>
<p>è€Œä¸” TypeScript ä¸å­˜åœ¨è·Ÿæµè§ˆå™¨ä¸å…¼å®¹çš„é—®é¢˜ï¼Œå› ä¸ºåœ¨ç¼–è¯‘æ—¶ï¼Œå®ƒäº§ç”Ÿçš„éƒ½æ˜¯ JavaScript ä»£ç ã€‚</p>
<p>2ã€TypeScript å’Œ JavaScript çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ<br>Typescript æ˜¯ JavaScript çš„è¶…é›†ï¼Œå¯ä»¥è¢«ç¼–è¯‘æˆ JavaScript ä»£ç ã€‚ ç”¨ JavaScript ç¼–å†™çš„åˆæ³•ä»£ç ï¼Œåœ¨ TypeScript ä¸­ä¾ç„¶æœ‰æ•ˆã€‚Typescript æ˜¯çº¯é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ï¼ŒåŒ…å«ç±»å’Œæ¥å£çš„æ¦‚å¿µã€‚ ç¨‹åºå‘˜å¯ä»¥ç”¨å®ƒæ¥ç¼–å†™é¢å‘å¯¹è±¡çš„æœåŠ¡ç«¯æˆ–å®¢æˆ·ç«¯ç¨‹åºï¼Œå¹¶å°†å®ƒä»¬ç¼–è¯‘æˆ JavaScript ä»£ç ã€‚</p>
<p>TypeScript å’Œ JavaScript çš„å…³ç³»<br>TypeScript å¼•å…¥äº†å¾ˆå¤šé¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡çš„ç‰¹å¾ï¼ŒåŒ…æ‹¬ï¼š</p>
<p>interfaces æ¥å£<br>classes ç±»<br>enumerated types æšä¸¾ç±»å‹<br>generics æ³›å‹<br>modules æ¨¡å—<br>ä¸»è¦ä¸åŒç‚¹å¦‚ä¸‹ï¼š<br>TS æ˜¯ä¸€ç§é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€ï¼Œè€Œ JS æ˜¯ä¸€ç§è„šæœ¬è¯­è¨€ï¼ˆå°½ç®¡ JS æ˜¯åŸºäºå¯¹è±¡çš„ï¼‰ã€‚<br>TS æ”¯æŒå¯é€‰å‚æ•°ï¼Œ JS åˆ™ä¸æ”¯æŒè¯¥ç‰¹æ€§ã€‚<br>TS æ”¯æŒé™æ€ç±»å‹ï¼ŒJS ä¸æ”¯æŒã€‚<br>TS æ”¯æŒæ¥å£ï¼ŒJS ä¸æ”¯æŒæ¥å£ã€‚</p>
<p>3 ä¸ºä»€ä¹ˆè¦ç”¨ TypeScript ï¼Ÿ<br>TS åœ¨å¼€å‘æ—¶å°±èƒ½ç»™å‡ºç¼–è¯‘é”™è¯¯ï¼Œ è€Œ JS é”™è¯¯åˆ™éœ€è¦åœ¨è¿è¡Œæ—¶æ‰èƒ½æš´éœ²ã€‚<br>ä½œä¸ºå¼ºç±»å‹è¯­è¨€ï¼Œä½ å¯ä»¥æ˜ç¡®çŸ¥é“æ•°æ®çš„ç±»å‹ã€‚ä»£ç å¯è¯»æ€§æå¼ºï¼Œå‡ ä¹æ¯ä¸ªäººéƒ½èƒ½ç†è§£ã€‚<br>TS éå¸¸æµè¡Œï¼Œè¢«å¾ˆå¤šä¸šç•Œå¤§ä½¬ä½¿ç”¨ã€‚åƒ Asanaã€Circle CI å’Œ Slack è¿™äº›å…¬å¸éƒ½åœ¨ç”¨ TSã€‚</p>
<p>4ã€TypeScript å’Œ JavaScript å“ªä¸ªæ›´å¥½ï¼Ÿ<br>ç”±äº TS çš„å…ˆå¤©ä¼˜åŠ¿ï¼ŒTS è¶Šæ¥è¶Šå—æ¬¢è¿ã€‚ä½†æ˜¯ TS æœ€ç»ˆä¸å¯èƒ½å–ä»£ JSï¼Œå› ä¸º JS æ˜¯ TS çš„æ ¸å¿ƒã€‚</p>
<p>é€‰æ‹© TypeScript è¿˜æ˜¯ JavaScript è¦ç”±å¼€å‘è€…è‡ªå·±å»åšå†³å®šã€‚å¦‚æœä½ å–œæ¬¢ç±»å‹å®‰å…¨çš„è¯­è¨€ï¼Œé‚£ä¹ˆæ¨èä½ é€‰æ‹© TSã€‚ å¦‚æœä½ å·²ç»ç”¨ JS å¥½ä¹…äº†ï¼Œä½ å¯ä»¥é€‰æ‹©èµ°å‡ºèˆ’é€‚åŒºå­¦ä¹  TSï¼Œä¹Ÿå¯ä»¥é€‰æ‹©åšæŒè‡ªå·±çš„å¼ºé¡¹ï¼Œç»§ç»­ä½¿ç”¨ JSã€‚</p>
<p>5ã€ä»€ä¹ˆæ˜¯æ³›å‹ï¼Ÿ<br>æ³›å‹æ˜¯æŒ‡åœ¨å®šä¹‰å‡½æ•°ã€æ¥å£æˆ–ç±»çš„æ—¶å€™ï¼Œä¸é¢„å…ˆæŒ‡å®šå…·ä½“çš„ç±»å‹ï¼Œä½¿ç”¨æ—¶å†å»æŒ‡å®šç±»å‹çš„ä¸€ç§ç‰¹æ€§ã€‚<br>å¯ä»¥æŠŠæ³›å‹ç†è§£ä¸ºä»£è¡¨ç±»å‹çš„å‚æ•°<br>&#x2F;&#x2F; æˆ‘ä»¬å¸Œæœ›ä¼ å…¥çš„å€¼æ˜¯ä»€ä¹ˆç±»å‹ï¼Œè¿”å›çš„å€¼å°±æ˜¯ä»€ä¹ˆç±»å‹<br>&#x2F;&#x2F; ä¼ å…¥çš„å€¼å¯ä»¥æ˜¯ä»»æ„çš„ç±»å‹ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ç”¨åˆ° æ³›å‹</p>
<p>&#x2F;&#x2F; å¦‚æœä½¿ç”¨ any çš„è¯ï¼Œå°±å¤±å»äº†ç±»å‹æ£€æŸ¥çš„æ„ä¹‰</p>
<p>function createArray1(length: any, value: any): Array<any> {<br>let result: any &#x3D; [];<br>for (let i &#x3D; 0; i &lt; length; i++) {<br>result[i] &#x3D; value;<br>}<br>return result;<br>}</p>
<p>let result &#x3D; createArray1(3, â€˜xâ€™);<br>console.log(result);</p>
<p>&#x2F;&#x2F; æœ€å‚»çš„å†™æ³•ï¼šæ¯ç§ç±»å‹éƒ½å¾—å®šä¹‰ä¸€ç§å‡½æ•°<br>function createArray2(length: number, value: string): Array<string> {<br>let result: Array<string> &#x3D; [];<br>for (let i &#x3D; 0; i &lt; length; i++) {<br>result[i] &#x3D; value;<br>}<br>return result;<br>}</p>
<p>function createArray3(length: number, value: number): Array<number> {<br>let result: Array<number> &#x3D; [];<br>for (let i &#x3D; 0; i &lt; length; i++) {<br>result[i] &#x3D; value;<br>}<br>return result;<br>}<br>&#x2F;&#x2F; æˆ–è€…ä½¿ç”¨å‡½æ•°é‡è½½ï¼Œå†™æ³•æœ‰ç‚¹éº»çƒ¦<br>function createArray4(length: number, value: number): Array<number><br>function createArray4(length: number, value: string): Array<string><br>function createArray4(length: number, value: any): Array<any> {<br>let result: Array<number> &#x3D; [];<br>for (let i &#x3D; 0; i &lt; length; i++) {<br>result[i] &#x3D; value;<br>}<br>return result;<br>}<br>createArray4(6, â€˜666â€™);<br>&#x2F;&#x2F;ä½¿ç”¨æ³›å‹<br>&#x2F;&#x2F; æœ‰å…³è”çš„åœ°æ–¹éƒ½æ”¹æˆ <T><br>function createArray<T>(length: number, value: T): Array<T> {<br>let result: T[] &#x3D; [];<br>for (let i &#x3D; 0; i &lt; length; i++) {<br>result[i] &#x3D; value;<br>}<br>return result;<br>}<br>&#x2F;&#x2F; ä½¿ç”¨çš„æ—¶å€™å†æŒ‡å®šç±»å‹<br>let result &#x3D; createArray<string>(3, â€˜xâ€™);<br>&#x2F;&#x2F; ä¹Ÿå¯ä»¥ä¸æŒ‡å®šç±»å‹ï¼ŒTS ä¼šè‡ªåŠ¨ç±»å‹æ¨å¯¼<br>let result2 &#x3D; createArray(3, â€˜xâ€™);<br>console.log(result);<br>6ã€TS ä¸­çš„ç±»<br>TypeScript æ˜¯é¢å‘å¯¹è±¡çš„ JavaScriptã€‚è€Œå…¶ä¸­çš„ç±»æè¿°äº†æ‰€åˆ›å»ºçš„å¯¹è±¡å…±åŒçš„å±æ€§å’Œæ–¹æ³•ã€‚</p>
<p>ä¼ ç»Ÿçš„ JavaScript ç¨‹åºä½¿ç”¨å‡½æ•°å’ŒåŸºäºåŸå‹çš„ç»§æ‰¿æ¥åˆ›å»ºå¯é‡ç”¨çš„ç»„ä»¶ï¼Œä½†è¿™å¯¹äºç†Ÿæ‚‰ä½¿ç”¨é¢å‘å¯¹è±¡æ–¹å¼çš„ç¨‹åºå‘˜æ¥è¯´æœ‰äº›æ£˜æ‰‹ï¼Œå› ä¸ºä»–ä»¬ç”¨çš„æ˜¯åŸºäºç±»çš„ç»§æ‰¿å¹¶ä¸”å¯¹è±¡æ˜¯ä»ç±»æ„å»ºå‡ºæ¥çš„ã€‚</p>
<p>ä» ECMAScript 2015ï¼Œä¹Ÿå°±æ˜¯ ECMAScript 6ï¼ŒJavaScript ç¨‹åºå°†å¯ä»¥ä½¿ç”¨è¿™ç§åŸºäºç±»çš„é¢å‘å¯¹è±¡æ–¹æ³•ã€‚åœ¨ TypeScript é‡Œå…è®¸å¼€å‘è€…ç°åœ¨å°±ä½¿ç”¨è¿™äº›ç‰¹æ€§ï¼Œå¹¶ä¸”ç¼–è¯‘åçš„ JavaScript å¯ä»¥åœ¨æ‰€æœ‰ä¸»æµæµè§ˆå™¨å’Œå¹³å°ä¸Šè¿è¡Œï¼Œ</p>
<p>7ã€ä»€ä¹ˆæ˜¯æ„é€ å‡½æ•°ï¼Œæ„é€ å‡½æ•°ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ<br>æ„é€ å‡½æ•° ï¼Œæ˜¯ä¸€ç§ç‰¹æ®Šçš„æ–¹æ³•ã€‚ä¸»è¦ç”¨æ¥åœ¨åˆ›å»ºå¯¹è±¡æ—¶åˆå§‹åŒ–å¯¹è±¡ï¼Œ å³ä¸ºå¯¹è±¡æˆå‘˜å˜é‡èµ‹åˆå§‹å€¼ï¼Œæ€»ä¸ new è¿ç®—ç¬¦ä¸€èµ·ä½¿ç”¨åœ¨åˆ›å»ºå¯¹è±¡çš„è¯­å¥ä¸­ã€‚è€Œ TypeScript çš„æ„é€ å‡½æ•°ç”¨å…³é”®å­— constructor æ¥å®ç°ã€‚å¯ä»¥é€šè¿‡ thisï¼ˆå’Œ java&#x2F;C#ä¸€æ ·ä»£è¡¨å¯¹è±¡å®ä¾‹çš„æˆå‘˜è®¿é—®ï¼‰å…³é”®å­—æ¥è®¿é—®å½“å‰ç±»ä½“ä¸­çš„å±æ€§å’Œæ–¹æ³•ã€‚</p>
<p>8ã€å®ä¾‹åŒ–æ˜¯ä»€ä¹ˆï¼Ÿ<br>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªç±»åå¹¶ä¸èƒ½ç›´æ¥çš„å¯¹å±æ€§å’Œæ–¹æ³•è¿›è¡Œå¼•ç”¨ï¼Œå¿…é¡»å¯¹ç±»è¿›è¡Œå®ä¾‹åŒ–ï¼Œå³åˆ›å»ºä¸€ä¸ªå¯¹è±¡ã€‚TypeScript ä¸­ç”¨ new å…³é”®å­—åˆ›å»ºå¯¹è±¡ã€‚å®ä¾‹åŒ–åé€šè¿‡â€œ.â€æ¥è®¿é—®å±æ€§å’Œæ–¹æ³•</p>
<p>9ã€æ–¹æ³•é‡å†™æ˜¯ä»€ä¹ˆï¼Ÿ<br>å­ç±»å¯ç»§æ‰¿çˆ¶ç±»ä¸­çš„æ–¹æ³•ï¼Œè€Œä¸éœ€è¦é‡æ–°ç¼–å†™ç›¸åŒçš„æ–¹æ³•ã€‚ä½†æœ‰æ—¶å­ç±»å¹¶ä¸æƒ³åŸå°ä¸åŠ¨åœ°ç»§æ‰¿çˆ¶ç±»çš„æ–¹æ³•ï¼Œè€Œæ˜¯æƒ³ä½œä¸€å®šçš„ä¿®æ”¹ï¼Œè¿™å°±éœ€è¦é‡‡ç”¨æ–¹æ³•çš„é‡å†™</p>
<p>é‡å†™çš„ä½œç”¨åœ¨äºå­ç±»å¯ä»¥æ ¹æ®éœ€è¦ï¼Œå®šä¹‰ç‰¹å®šäºè‡ªå·±çš„è¡Œä¸ºã€‚ä¹Ÿå°±æ˜¯è¯´å­ç±»èƒ½å¤Ÿæ ¹æ®éœ€è¦å®ç°çˆ¶ç±»çš„æ–¹æ³•ã€‚</p>
<p>10ã€ä»€ä¹ˆæ˜¯å¯ç´¢å¼•ç±»å‹æ¥å£ï¼Ÿ<br>ä¸€èˆ¬ç”¨æ¥çº¦æŸæ•°ç»„å’Œå¯¹è±¡</p>
<p>&#x2F; æ•°å­—ç´¢å¼•â€”â€”çº¦æŸæ•°ç»„<br>&#x2F;&#x2F; index æ˜¯éšä¾¿å–çš„åå­—ï¼Œå¯ä»¥ä»»æ„å–å<br>&#x2F;&#x2F; åªè¦ index çš„ç±»å‹æ˜¯ numberï¼Œé‚£ä¹ˆå€¼çš„ç±»å‹å¿…é¡»æ˜¯ string<br>interface StringArray {<br>&#x2F;&#x2F; key çš„ç±»å‹ä¸º number ï¼Œä¸€èˆ¬éƒ½ä»£è¡¨æ˜¯æ•°ç»„<br>&#x2F;&#x2F; é™åˆ¶ value çš„ç±»å‹ä¸º string<br>[index:number]:string<br>}<br>let arr:StringArray &#x3D; [â€˜aaaâ€™,â€™bbbâ€™];<br>console.log(arr);</p>
<p>&#x2F;&#x2F; å­—ç¬¦ä¸²ç´¢å¼•â€”â€”çº¦æŸå¯¹è±¡<br>&#x2F;&#x2F; åªè¦ index çš„ç±»å‹æ˜¯ stringï¼Œé‚£ä¹ˆå€¼çš„ç±»å‹å¿…é¡»æ˜¯ string<br>interface StringObject {<br>&#x2F;&#x2F; key çš„ç±»å‹ä¸º string ï¼Œä¸€èˆ¬éƒ½ä»£è¡¨æ˜¯å¯¹è±¡<br>&#x2F;&#x2F; é™åˆ¶ value çš„ç±»å‹ä¸º string<br>[index:string]:string<br>}<br>let obj:StringObject &#x3D; {name:â€™cccâ€™};<br>11ã€ä»€ä¹ˆæ˜¯å‡½æ•°ç±»å‹æ¥å£ï¼Ÿ<br>å¯¹æ–¹æ³•ä¼ å…¥çš„å‚æ•°å’Œè¿”å›å€¼è¿›è¡Œçº¦æŸ<br>&#x2F;&#x2F; æ³¨æ„åŒºåˆ«</p>
<p>&#x2F;&#x2F; æ™®é€šçš„æ¥å£<br>interface discount1{<br>getNum : (price:number) &#x3D;&gt; number<br>}</p>
<p>&#x2F;&#x2F; å‡½æ•°ç±»å‹æ¥å£<br>interface discount2{<br>&#x2F;&#x2F; æ³¨æ„:<br>&#x2F;&#x2F; â€œ:â€ å‰é¢çš„æ˜¯å‡½æ•°çš„ç­¾åï¼Œç”¨æ¥çº¦æŸå‡½æ•°çš„å‚æ•°<br>&#x2F;&#x2F; â€œ:â€ åé¢çš„ç”¨æ¥çº¦æŸå‡½æ•°çš„è¿”å›å€¼<br>(price:number):number<br>}<br>let cost:discount2 &#x3D; function(price:number):number{<br>return price * .8;<br>}</p>
<p>&#x2F;&#x2F; ä¹Ÿå¯ä»¥ä½¿ç”¨ç±»å‹åˆ«å<br>type Add &#x3D; (x: number, y: number) &#x3D;&gt; number<br>let add: Add &#x3D; (a: number, b: number) &#x3D;&gt; a + b<br>12ã€ä»€ä¹ˆæ˜¯ç±»ç±»å‹æ¥å£ï¼Ÿ<br>å¦‚æœæ¥å£ç”¨äºä¸€ä¸ªç±»çš„è¯ï¼Œé‚£ä¹ˆæ¥å£ä¼šè¡¨ç¤ºâ€œè¡Œä¸ºçš„æŠ½è±¡â€<br>å¯¹ç±»çš„çº¦æŸï¼Œè®©ç±»å»å®ç°æ¥å£ï¼Œç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£<br>æ¥å£åªèƒ½çº¦æŸç±»çš„å…¬æœ‰æˆå‘˜ï¼ˆå®ä¾‹å±æ€§&#x2F;æ–¹æ³•ï¼‰ï¼Œæ— æ³•çº¦æŸç§æœ‰æˆå‘˜ã€æ„é€ å‡½æ•°ã€é™æ€å±æ€§&#x2F;æ–¹æ³•</p>
<p>&#x2F;&#x2F; æ¥å£å¯ä»¥åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­è¡¨ç¤ºä¸ºè¡Œä¸ºçš„æŠ½è±¡<br>interface Speakable {<br>name: string;</p>
<pre><code> // &quot;:&quot; å‰é¢çš„æ˜¯å‡½æ•°ç­¾åï¼Œç”¨æ¥çº¦æŸå‡½æ•°çš„å‚æ•°
// &quot;:&quot; åé¢çš„ç”¨æ¥çº¦æŸå‡½æ•°çš„è¿”å›å€¼
speak(words: string): void
</code></pre>
<p>}</p>
<p>interface Speakable2 {<br>age: number;<br>}</p>
<p>class Dog implements Speakable, Speakable2 {<br>name!: string;<br>age &#x3D; 18;</p>
<pre><code>speak(words: string) &#123;
    console.log(words);
&#125;
</code></pre>
<p>}</p>
<p>let dog &#x3D; new Dog();<br>dog.speak(â€˜æ±ªæ±ªæ±ªâ€™);<br>13ã€ä»€ä¹ˆæ˜¯æ··åˆç±»å‹æ¥å£ï¼Ÿ<br>ä¸€ä¸ªå¯¹è±¡å¯ä»¥åŒæ—¶åšä¸ºå‡½æ•°å’Œå¯¹è±¡ä½¿ç”¨</p>
<p>interface FnType {<br>(getName:string):string;<br>}</p>
<p>interface MixedType extends FnType{<br>name:string;<br>age:number;<br>}<br>interface Counter {<br>(start: number): string;<br>interval: number;<br>reset(): void;<br>}</p>
<p>function getCounter(): Counter {<br>let counter &#x3D; <Counter>function (start: number) { };<br>counter.interval &#x3D; 123;<br>counter.reset &#x3D; function () { };<br>return counter;<br>}</p>
<p>let c &#x3D; getCounter();<br>c(10);<br>c.reset();<br>c.interval &#x3D; 5.0;<br>14ã€never å’Œ void çš„åŒºåˆ«ï¼Ÿ<br>void è¡¨ç¤ºæ²¡æœ‰ä»»ä½•ç±»å‹ï¼ˆå¯ä»¥è¢«èµ‹å€¼ä¸º null å’Œ undefinedï¼‰ã€‚<br>never è¡¨ç¤ºä¸€ä¸ªä¸åŒ…å«å€¼çš„ç±»å‹ï¼Œå³è¡¨ç¤ºæ°¸è¿œä¸å­˜åœ¨çš„å€¼ã€‚<br>æ‹¥æœ‰ void è¿”å›å€¼ç±»å‹çš„å‡½æ•°èƒ½æ­£å¸¸è¿è¡Œã€‚æ‹¥æœ‰ never è¿”å›å€¼ç±»å‹çš„å‡½æ•°æ— æ³•æ­£å¸¸è¿”å›ï¼Œæ— æ³•ç»ˆæ­¢ï¼Œæˆ–ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p>
<p>15ã€TS çš„å­¦å‰åŸºç¡€ï¼Ÿ<br>å› ä¸º TypeScript æ˜¯å¯¹ JavaScript çš„æ‰©å±•ï¼Œæ›´å‡†ç¡®çš„è¯´æ˜¯ ECMAScriptã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å­¦ä¹ æˆ‘ä»¬è¿™å¥— TypeScript çš„è¯¾ç¨‹ï¼Œéœ€è¦å…·å¤‡ ECMAScript è¯­è¨€çš„åŸºç¡€ï¼š</p>
<p>ç†Ÿæ‚‰è¯­æ³•åŸºç¡€ï¼ˆå˜é‡ã€è¯­å¥ã€å‡½æ•°ç­‰åŸºç¡€æ¦‚å¿µï¼‰<br>æŒæ¡å†…ç½®å¯¹è±¡ï¼ˆArrayã€Date ç­‰ï¼‰çš„ä½¿ç”¨<br>é¢å‘å¯¹è±¡åŸºæœ¬æ¦‚å¿µï¼ˆæ„é€ å‡½æ•°ã€åŸå‹ã€ç»§æ‰¿ï¼‰</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://770746548.github.io/2025/03/28/TypeScript/" data-id="cmkgdulh00008y4mhesgv27je" data-title="ğŸ”¥ TypeScript" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%85%AB%E8%82%A1%E6%96%87/" rel="tag">å‰ç«¯å…«è‚¡æ–‡</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-vueé¢è¯•ä¸“é¢˜" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/03/28/vue%E9%9D%A2%E8%AF%95%E4%B8%93%E9%A2%98/" class="article-date">
  <time class="dt-published" datetime="2025-03-28T01:00:00.000Z" itemprop="datePublished">2025-03-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/03/28/vue%E9%9D%A2%E8%AF%95%E4%B8%93%E9%A2%98/">ğŸ”¥ vueé¢è¯•ä¸“é¢˜</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="Vue-é¢è¯•ä¸“é¢˜"><a href="#Vue-é¢è¯•ä¸“é¢˜" class="headerlink" title="Vue é¢è¯•ä¸“é¢˜"></a>Vue é¢è¯•ä¸“é¢˜</h2><h3 id="ç®€è¿°-MVVM"><a href="#ç®€è¿°-MVVM" class="headerlink" title="ç®€è¿° MVVM"></a>ç®€è¿° MVVM</h3><p><strong>ä»€ä¹ˆæ˜¯ MVVMï¼Ÿ</strong></p>
<p><code>è§†å›¾æ¨¡å‹åŒå‘ç»‘å®š</code>ï¼Œæ˜¯<code>Model-View-ViewModel</code>çš„ç¼©å†™ï¼Œä¹Ÿå°±æ˜¯æŠŠ<code>MVC</code>ä¸­çš„<code>Controller</code>æ¼”å˜æˆ<code>ViewModelã€‚Model</code>å±‚ä»£è¡¨æ•°æ®æ¨¡å‹ï¼Œ<code>View</code>ä»£è¡¨ UI ç»„ä»¶ï¼Œ<code>ViewModel</code>æ˜¯<code>View</code>å’Œ<code>Model</code>å±‚çš„æ¡¥æ¢ï¼Œæ•°æ®ä¼šç»‘å®šåˆ°<code>viewModel</code>å±‚å¹¶è‡ªåŠ¨å°†æ•°æ®æ¸²æŸ“åˆ°é¡µé¢ä¸­ï¼Œè§†å›¾å˜åŒ–çš„æ—¶å€™ä¼šé€šçŸ¥<code>viewModel</code>å±‚æ›´æ–°æ•°æ®ã€‚ä»¥å‰æ˜¯æ“ä½œ DOM ç»“æ„æ›´æ–°è§†å›¾ï¼Œç°åœ¨æ˜¯<code>æ•°æ®é©±åŠ¨è§†å›¾</code>ã€‚</p>
<p><strong>MVVM çš„ä¼˜ç‚¹ï¼š</strong></p>
<p>1.<code>ä½è€¦åˆ</code>ã€‚è§†å›¾ï¼ˆViewï¼‰å¯ä»¥ç‹¬ç«‹äº Model å˜åŒ–å’Œä¿®æ”¹ï¼Œä¸€ä¸ª Model å¯ä»¥ç»‘å®šåˆ°ä¸åŒçš„ View ä¸Šï¼Œå½“ View å˜åŒ–çš„æ—¶å€™ Model å¯ä»¥ä¸å˜åŒ–ï¼Œå½“ Model å˜åŒ–çš„æ—¶å€™ View ä¹Ÿå¯ä»¥ä¸å˜ï¼›<br>2.<code>å¯é‡ç”¨æ€§</code>ã€‚ä½ å¯ä»¥æŠŠä¸€äº›è§†å›¾é€»è¾‘æ”¾åœ¨ä¸€ä¸ª Model é‡Œé¢ï¼Œè®©å¾ˆå¤š View é‡ç”¨è¿™æ®µè§†å›¾é€»è¾‘ã€‚<br>3.<code>ç‹¬ç«‹å¼€å‘</code>ã€‚å¼€å‘äººå‘˜å¯ä»¥ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘å’Œæ•°æ®çš„å¼€å‘(ViewModel)ï¼Œè®¾è®¡äººå‘˜å¯ä»¥ä¸“æ³¨äºé¡µé¢è®¾è®¡ã€‚<br>4.<code>å¯æµ‹è¯•</code>ã€‚</p>
<h3 id="Vue-åº•å±‚å®ç°åŸç†"><a href="#Vue-åº•å±‚å®ç°åŸç†" class="headerlink" title="Vue åº•å±‚å®ç°åŸç†"></a>Vue åº•å±‚å®ç°åŸç†</h3><p>vue.js æ˜¯é‡‡ç”¨æ•°æ®åŠ«æŒç»“åˆå‘å¸ƒè€…-è®¢é˜…è€…æ¨¡å¼çš„æ–¹å¼ï¼Œé€šè¿‡ Object.defineProperty()æ¥åŠ«æŒå„ä¸ªå±æ€§çš„ setter å’Œ getterï¼Œåœ¨æ•°æ®å˜åŠ¨æ—¶å‘å¸ƒæ¶ˆæ¯ç»™è®¢é˜…è€…ï¼Œè§¦å‘ç›¸åº”çš„ç›‘å¬å›è°ƒ<br>Vue æ˜¯ä¸€ä¸ªå…¸å‹çš„ MVVM æ¡†æ¶ï¼Œæ¨¡å‹ï¼ˆModelï¼‰åªæ˜¯æ™®é€šçš„ javascript å¯¹è±¡ï¼Œä¿®æ”¹å®ƒåˆ™è¯•å›¾ï¼ˆViewï¼‰ä¼šè‡ªåŠ¨æ›´æ–°ã€‚è¿™ç§è®¾è®¡è®©çŠ¶æ€ç®¡ç†å˜å¾—éå¸¸ç®€å•è€Œç›´è§‚</p>
<p><strong>Observerï¼ˆæ•°æ®ç›‘å¬å™¨ï¼‰</strong> : Observer çš„æ ¸å¿ƒæ˜¯é€šè¿‡ Object.defineProprtty()æ¥ç›‘å¬æ•°æ®çš„å˜åŠ¨ï¼Œè¿™ä¸ªå‡½æ•°å†…éƒ¨å¯ä»¥å®šä¹‰ setter å’Œ getterï¼Œæ¯å½“æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œå°±ä¼šè§¦å‘ setterã€‚è¿™æ—¶å€™ Observer å°±è¦é€šçŸ¥è®¢é˜…è€…ï¼Œè®¢é˜…è€…å°±æ˜¯ Watcher</p>
<p><strong>Watcherï¼ˆè®¢é˜…è€…ï¼‰</strong> : Watcher è®¢é˜…è€…ä½œä¸º Observer å’Œ Compile ä¹‹é—´é€šä¿¡çš„æ¡¥æ¢ï¼Œä¸»è¦åšçš„äº‹æƒ…æ˜¯ï¼š</p>
<ol>
<li>åœ¨è‡ªèº«å®ä¾‹åŒ–æ—¶å¾€å±æ€§è®¢é˜…å™¨(dep)é‡Œé¢æ·»åŠ è‡ªå·±</li>
<li>è‡ªèº«å¿…é¡»æœ‰ä¸€ä¸ª update()æ–¹æ³•</li>
<li>å¾…å±æ€§å˜åŠ¨ dep.notice()é€šçŸ¥æ—¶ï¼Œèƒ½è°ƒç”¨è‡ªèº«çš„ update()æ–¹æ³•ï¼Œå¹¶è§¦å‘ Compile ä¸­ç»‘å®šçš„å›è°ƒ</li>
</ol>
<p><strong>Compileï¼ˆæŒ‡ä»¤è§£æå™¨ï¼‰</strong> : Compile ä¸»è¦åšçš„äº‹æƒ…æ˜¯è§£ææ¨¡æ¿æŒ‡ä»¤ï¼Œå°†æ¨¡æ¿ä¸­å˜é‡æ›¿æ¢æˆæ•°æ®ï¼Œç„¶ååˆå§‹åŒ–æ¸²æŸ“é¡µé¢è§†å›¾ï¼Œå¹¶å°†æ¯ä¸ªæŒ‡ä»¤å¯¹åº”çš„èŠ‚ç‚¹ç»‘å®šæ›´æ–°å‡½æ•°ï¼Œæ·»åŠ é‰´å®šæ•°æ®çš„è®¢é˜…è€…ï¼Œä¸€æ—¦æ•°æ®æœ‰å˜åŠ¨ï¼Œæ”¶åˆ°é€šçŸ¥ï¼Œæ›´æ–°è¯•å›¾</p>
<p>ä¼ é€é—¨ï¼šâ˜ <a target="_blank" rel="noopener" href="https://juejin.cn/post/6994959998283907102#heading-2">20 åˆ†é’Ÿåƒé€ Diff ç®—æ³•æ ¸å¿ƒåŸç†</a></p>
<h3 id="è°ˆè°ˆå¯¹-vue-ç”Ÿå‘½å‘¨æœŸçš„ç†è§£ï¼Ÿ"><a href="#è°ˆè°ˆå¯¹-vue-ç”Ÿå‘½å‘¨æœŸçš„ç†è§£ï¼Ÿ" class="headerlink" title="è°ˆè°ˆå¯¹ vue ç”Ÿå‘½å‘¨æœŸçš„ç†è§£ï¼Ÿ"></a>è°ˆè°ˆå¯¹ vue ç”Ÿå‘½å‘¨æœŸçš„ç†è§£ï¼Ÿ</h3><p>æ¯ä¸ª<code>Vue</code>å®ä¾‹åœ¨åˆ›å»ºæ—¶éƒ½ä¼šç»è¿‡ä¸€ç³»åˆ—çš„åˆå§‹åŒ–è¿‡ç¨‹ï¼Œ<code>vue</code>çš„ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œå°±æ˜¯è¯´åœ¨è¾¾åˆ°æŸä¸€é˜¶æ®µæˆ–æ¡ä»¶æ—¶å»è§¦å‘çš„å‡½æ•°ï¼Œç›®çš„å°±æ˜¯ä¸ºäº†å®Œæˆä¸€äº›åŠ¨ä½œæˆ–è€…äº‹ä»¶</p>
<ul>
<li><code>createé˜¶æ®µ</code>ï¼švue å®ä¾‹è¢«åˆ›å»º<br><code>beforeCreate</code>: æœ€åˆè°ƒç”¨è§¦å‘ï¼Œåˆ›å»ºå‰ï¼Œæ­¤æ—¶ data å’Œ methods ä¸­çš„æ•°æ®éƒ½è¿˜æ²¡æœ‰åˆå§‹åŒ–ï¼Œdata å’Œ events éƒ½ä¸èƒ½ç”¨<br><code>created</code>ï¼š åˆ›å»ºå®Œæ¯•ï¼Œdata ä¸­æœ‰å€¼ï¼ŒæœªæŒ‚è½½ï¼Œdata å’Œ events å·²ç»åˆå§‹åŒ–å¥½ï¼Œdata å·²ç»å…·æœ‰å“åº”å¼ï¼›åœ¨è¿™é‡Œå¯ä»¥å‘é€è¯·æ±‚</li>
<li><code>mounté˜¶æ®µ</code>ï¼š vue å®ä¾‹è¢«æŒ‚è½½åˆ°çœŸå® DOM èŠ‚ç‚¹<br><code>beforeMount</code>ï¼šåœ¨æ¨¡ç‰ˆç¼–è¯‘ä¹‹åï¼Œæ¸²æŸ“ä¹‹å‰è§¦å‘ï¼Œå¯ä»¥å‘èµ·æœåŠ¡ç«¯è¯·æ±‚ï¼Œå»æ•°æ®ï¼Œssr ä¸­ä¸å¯ç”¨ï¼ŒåŸºæœ¬ç”¨ä¸ä¸Šè¿™ä¸ª hook<br><code>mounted</code>: åœ¨æ¸²æŸ“ä¹‹åè§¦å‘ï¼Œæ­¤æ—¶å¯ä»¥æ“ä½œ DOMï¼Œå¹¶èƒ½è®¿é—®ç»„ä»¶ä¸­çš„ DOM ä»¥åŠ$ref,SSR ä¸­ä¸å¯ç”¨</li>
<li><code>updateé˜¶æ®µ</code>ï¼šå½“ vue å®ä¾‹é‡Œé¢çš„ data æ•°æ®å˜åŒ–æ—¶ï¼Œè§¦å‘ç»„ä»¶çš„é‡æ–°æ¸²æŸ“<br><code>beforeUpdate</code> :æ›´æ–°å‰ï¼Œåœ¨æ•°æ®å˜åŒ–åï¼Œæ¨¡ç‰ˆæ”¹å˜å‰è§¦å‘ï¼Œåˆ‡å‹¿ä½¿ç”¨å®ƒç›‘å¬æ•°æ®å˜åŒ–<br><code>updated</code>ï¼šæ›´æ–°åï¼Œåœ¨æ•°æ®æ”¹å˜åï¼Œæ¨¡ç‰ˆæ”¹å˜åè§¦å‘ï¼Œå¸¸ç”¨äºé‡æ¸²æŸ“æ¡ˆåçš„æ‰“ç‚¹ï¼Œæ€§èƒ½æ£€æµ‹æˆ–è§¦å‘ vue ç»„ä»¶ä¸­é vue ç»„ä»¶çš„æ›´æ–°</li>
<li><code>destroyé˜¶æ®µ</code>ï¼švue å®ä¾‹è¢«é”€æ¯<br><code>beforeDestroy</code>ï¼šå®ä¾‹è¢«é”€æ¯å‰ï¼Œç»„ä»¶å¸è½½å‰è§¦å‘ï¼Œæ­¤æ—¶å¯ä»¥æ‰‹åŠ¨é”€æ¯ä¸€äº›æ–¹æ³•ï¼Œå¯ä»¥åœ¨æ­¤æ—¶æ¸…ç†äº‹ä»¶ã€è®¡æ—¶å™¨æˆ–è€…å–æ¶ˆè®¢é˜…æ“ä½œ<br><code>destroyed</code>:å¸è½½å®Œæ¯•åè§¦å‘ï¼Œé”€æ¯åï¼Œå¯ä»¥åšæœ€åçš„æ‰“ç‚¹æˆ–äº‹ä»¶è§¦å‘æ“ä½œ</li>
</ul>
<h4 id="ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ"><a href="#ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ"></a>ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</h4><p>ç”Ÿå‘½å‘¨æœŸï¼ˆçˆ¶å­ç»„ä»¶ï¼‰ çˆ¶ç»„ä»¶ beforeCreate â€“&gt; çˆ¶ç»„ä»¶ created â€“&gt; çˆ¶ç»„ä»¶ beforeMount â€“&gt; å­ç»„ä»¶ beforeCreate â€“&gt; å­ç»„ä»¶ created â€“&gt; å­ç»„ä»¶ beforeMount â€“&gt; å­ç»„ä»¶ mounted â€“&gt; çˆ¶ç»„ä»¶ mounted â€“&gt;çˆ¶ç»„ä»¶ beforeUpdate â€“&gt;å­ç»„ä»¶ beforeDestroyâ€“&gt; å­ç»„ä»¶ destroyed â€“&gt; çˆ¶ç»„ä»¶ updated</p>
<p><strong>åŠ è½½æ¸²æŸ“è¿‡ç¨‹</strong> çˆ¶ beforeCreate-&gt;çˆ¶ created-&gt;çˆ¶ beforeMount-&gt;å­ beforeCreate-&gt;å­ created-&gt;å­ beforeMount-&gt;å­ mounted-&gt;çˆ¶ mounted</p>
<p><strong>æŒ‚è½½é˜¶æ®µ</strong> çˆ¶ created-&gt;å­ created-&gt;å­ mounted-&gt;çˆ¶ mounted</p>
<p><strong>çˆ¶ç»„ä»¶æ›´æ–°é˜¶æ®µ</strong> çˆ¶ beforeUpdate-&gt;çˆ¶ updated</p>
<p><strong>å­ç»„ä»¶æ›´æ–°é˜¶æ®µ</strong> çˆ¶ beforeUpdate-&gt;å­ beforeUpdate-&gt;å­ updated-&gt;çˆ¶ updated</p>
<p><strong>é”€æ¯é˜¶æ®µ</strong> çˆ¶ beforeDestroy-&gt;å­ beforeDestroy-&gt;å­ destroyed-&gt;çˆ¶ destroyed</p>
<h3 id="computedä¸watch"><a href="#computedä¸watch" class="headerlink" title="computedä¸watch"></a><code>computedä¸watch</code></h3><p>é€šä¿—æ¥è®²ï¼Œæ—¢èƒ½ç”¨ computed å®ç°åˆå¯ä»¥ç”¨ watch ç›‘å¬æ¥å®ç°çš„åŠŸèƒ½ï¼Œæ¨èç”¨ computedï¼Œ é‡ç‚¹åœ¨äº computed çš„ç¼“å­˜åŠŸèƒ½ computed è®¡ç®—å±æ€§æ˜¯ç”¨æ¥å£°æ˜å¼çš„æè¿°ä¸€ä¸ªå€¼ä¾èµ–äº†å…¶å®ƒçš„å€¼ï¼Œå½“æ‰€ä¾èµ–çš„å€¼æˆ–è€…å˜é‡ æ”¹å˜æ—¶ï¼Œè®¡ç®—å±æ€§ä¹Ÿä¼šè·Ÿç€æ”¹å˜ï¼› watch ç›‘å¬çš„æ˜¯å·²ç»åœ¨ data ä¸­å®šä¹‰çš„å˜é‡ï¼Œå½“è¯¥å˜é‡å˜åŒ–æ—¶ï¼Œä¼šè§¦å‘ watch ä¸­çš„æ–¹æ³•ã€‚</p>
<p><strong>watch å±æ€§ç›‘å¬</strong> æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé”®æ˜¯éœ€è¦è§‚å¯Ÿçš„å±æ€§ï¼Œå€¼æ˜¯å¯¹åº”å›è°ƒå‡½æ•°ï¼Œä¸»è¦ç”¨æ¥ç›‘å¬æŸäº›ç‰¹å®šæ•°æ®çš„å˜åŒ–ï¼Œä»è€Œè¿›è¡ŒæŸäº›å…·ä½“çš„ä¸šåŠ¡é€»è¾‘æ“ä½œ,ç›‘å¬å±æ€§çš„å˜åŒ–ï¼Œéœ€è¦åœ¨æ•°æ®å˜åŒ–æ—¶æ‰§è¡Œå¼‚æ­¥æˆ–å¼€é”€è¾ƒå¤§çš„æ“ä½œæ—¶ä½¿ç”¨</p>
<p><strong>computed è®¡ç®—å±æ€§</strong> å±æ€§çš„ç»“æœä¼šè¢«<code>ç¼“å­˜</code>ï¼Œå½“<code>computed</code>ä¸­çš„å‡½æ•°æ‰€ä¾èµ–çš„å±æ€§æ²¡æœ‰å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ï¼Œé‚£ä¹ˆè°ƒç”¨å½“å‰å‡½æ•°çš„æ—¶å€™ç»“æœä¼šä»ç¼“å­˜ä¸­è¯»å–ã€‚é™¤éä¾èµ–çš„å“åº”å¼å±æ€§å˜åŒ–æ—¶æ‰ä¼šé‡æ–°è®¡ç®—ï¼Œä¸»è¦å½“åšå±æ€§æ¥ä½¿ç”¨ <code>computed</code>ä¸­çš„å‡½æ•°å¿…é¡»ç”¨<code>return</code>è¿”å›æœ€ç»ˆçš„ç»“æœ <code>computed</code>æ›´é«˜æ•ˆï¼Œä¼˜å…ˆä½¿ç”¨ã€‚<code>data ä¸æ”¹å˜ï¼Œcomputed ä¸æ›´æ–°ã€‚</code></p>
<p><strong>ä½¿ç”¨åœºæ™¯</strong> <code>computed</code>ï¼šå½“ä¸€ä¸ªå±æ€§å—å¤šä¸ªå±æ€§å½±å“çš„æ—¶å€™ä½¿ç”¨ï¼Œä¾‹ï¼šè´­ç‰©è½¦å•†å“ç»“ç®—åŠŸèƒ½ <code>watch</code>ï¼šå½“ä¸€æ¡æ•°æ®å½±å“å¤šæ¡æ•°æ®çš„æ—¶å€™ä½¿ç”¨ï¼Œä¾‹ï¼šæœç´¢æ•°æ®</p>
<h4 id="ç»„ä»¶ä¸­çš„-data-ä¸ºä»€ä¹ˆæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Ÿ"><a href="#ç»„ä»¶ä¸­çš„-data-ä¸ºä»€ä¹ˆæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Ÿ" class="headerlink" title="ç»„ä»¶ä¸­çš„ data ä¸ºä»€ä¹ˆæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Ÿ"></a>ç»„ä»¶ä¸­çš„ data ä¸ºä»€ä¹ˆæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Ÿ</h4><p>1.ä¸€ä¸ªç»„ä»¶è¢«å¤ç”¨å¤šæ¬¡çš„è¯ï¼Œä¹Ÿå°±ä¼šåˆ›å»ºå¤šä¸ªå®ä¾‹ã€‚æœ¬è´¨ä¸Šï¼Œè¿™äº›å®ä¾‹ç”¨çš„éƒ½æ˜¯åŒä¸€ä¸ªæ„é€ å‡½æ•°ã€‚ 2.å¦‚æœ data æ˜¯å¯¹è±¡çš„è¯ï¼Œå¯¹è±¡å±äºå¼•ç”¨ç±»å‹ï¼Œä¼šå½±å“åˆ°æ‰€æœ‰çš„å®ä¾‹ã€‚æ‰€ä»¥ä¸ºäº†ä¿è¯ç»„ä»¶ä¸åŒçš„å®ä¾‹ä¹‹é—´ data ä¸å†²çªï¼Œdata å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚</p>
<h4 id="ä¸ºä»€ä¹ˆ-v-for-å’Œ-v-if-ä¸å»ºè®®ç”¨åœ¨ä¸€èµ·"><a href="#ä¸ºä»€ä¹ˆ-v-for-å’Œ-v-if-ä¸å»ºè®®ç”¨åœ¨ä¸€èµ·" class="headerlink" title="ä¸ºä»€ä¹ˆ v-for å’Œ v-if ä¸å»ºè®®ç”¨åœ¨ä¸€èµ·"></a>ä¸ºä»€ä¹ˆ v-for å’Œ v-if ä¸å»ºè®®ç”¨åœ¨ä¸€èµ·</h4><p>1.å½“ v-for å’Œ v-if å¤„äºåŒä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œv-for çš„ä¼˜å…ˆçº§æ¯” v-if æ›´é«˜ï¼Œè¿™æ„å‘³ç€ v-if å°†åˆ†åˆ«é‡å¤è¿è¡Œäºæ¯ä¸ª v-for å¾ªç¯ä¸­ã€‚å¦‚æœè¦éå†çš„æ•°ç»„å¾ˆå¤§ï¼Œè€ŒçœŸæ­£è¦å±•ç¤ºçš„æ•°æ®å¾ˆå°‘æ—¶ï¼Œè¿™å°†é€ æˆå¾ˆå¤§çš„æ€§èƒ½æµªè´¹ 2.è¿™ç§åœºæ™¯å»ºè®®ä½¿ç”¨ computedï¼Œå…ˆå¯¹æ•°æ®è¿›è¡Œè¿‡æ»¤</p>
<p>æ³¨æ„ï¼š3.x ç‰ˆæœ¬ä¸­ <code>v-if</code> æ€»æ˜¯ä¼˜å…ˆäº <code>v-for</code> ç”Ÿæ•ˆã€‚ç”±äºè¯­æ³•ä¸Šå­˜åœ¨æ­§ä¹‰ï¼Œå»ºè®®é¿å…åœ¨åŒä¸€å…ƒç´ ä¸ŠåŒæ—¶ä½¿ç”¨ä¸¤è€…ã€‚æ¯”èµ·åœ¨æ¨¡æ¿å±‚é¢ç®¡ç†ç›¸å…³é€»è¾‘ï¼Œæ›´å¥½çš„åŠæ³•æ˜¯é€šè¿‡åˆ›å»ºè®¡ç®—å±æ€§ç­›é€‰å‡ºåˆ—è¡¨ï¼Œå¹¶ä»¥æ­¤åˆ›å»ºå¯è§å…ƒç´ ã€‚</p>
<p>è§£æƒ‘ä¼ é€é—¨ â˜ <a target="_blank" rel="noopener" href="https://v3.cn.vuejs.org/guide/migration/v-if-v-for.html#%E6%A6%82%E8%A7%88"># v-if ä¸ v-for çš„ä¼˜å…ˆçº§å¯¹æ¯”éå…¼å®¹</a></p>
<h3 id="React-x2F-Vue-é¡¹ç›®ä¸­-key-çš„ä½œç”¨"><a href="#React-x2F-Vue-é¡¹ç›®ä¸­-key-çš„ä½œç”¨" class="headerlink" title="React&#x2F;Vue é¡¹ç›®ä¸­ key çš„ä½œç”¨"></a>React&#x2F;Vue é¡¹ç›®ä¸­ key çš„ä½œç”¨</h3><ul>
<li><p>key çš„ä½œç”¨æ˜¯ä¸ºäº†åœ¨ diff ç®—æ³•æ‰§è¡Œæ—¶æ›´å¿«çš„æ‰¾åˆ°å¯¹åº”çš„èŠ‚ç‚¹ï¼Œ<code>æé«˜diffé€Ÿåº¦ï¼Œæ›´é«˜æ•ˆçš„æ›´æ–°è™šæ‹ŸDOM</code>;</p>
<p>vue å’Œ react éƒ½æ˜¯é‡‡ç”¨ diff ç®—æ³•æ¥å¯¹æ¯”æ–°æ—§è™šæ‹ŸèŠ‚ç‚¹ï¼Œä»è€Œæ›´æ–°èŠ‚ç‚¹ã€‚åœ¨ vue çš„ diff å‡½æ•°ä¸­ï¼Œä¼šæ ¹æ®æ–°èŠ‚ç‚¹çš„ key å»å¯¹æ¯”æ—§èŠ‚ç‚¹æ•°ç»„ä¸­çš„ keyï¼Œä»è€Œæ‰¾åˆ°ç›¸åº”æ—§èŠ‚ç‚¹ã€‚å¦‚æœæ²¡æ‰¾åˆ°å°±è®¤ä¸ºæ˜¯ä¸€ä¸ªæ–°å¢èŠ‚ç‚¹ã€‚è€Œå¦‚æœæ²¡æœ‰ keyï¼Œé‚£ä¹ˆå°±ä¼šé‡‡ç”¨éå†æŸ¥æ‰¾çš„æ–¹å¼å»æ‰¾åˆ°å¯¹åº”çš„æ—§èŠ‚ç‚¹ã€‚ä¸€ç§ä¸€ä¸ª map æ˜ å°„ï¼Œå¦ä¸€ç§æ˜¯éå†æŸ¥æ‰¾ã€‚ç›¸æ¯”è€Œè¨€ã€‚map æ˜ å°„çš„é€Ÿåº¦æ›´å¿«ã€‚</p>
</li>
<li><p>ä¸ºäº†åœ¨æ•°æ®å˜åŒ–æ—¶å¼ºåˆ¶æ›´æ–°ç»„ä»¶ï¼Œä»¥é¿å…<code>â€œå°±åœ°å¤ç”¨â€</code>å¸¦æ¥çš„å‰¯ä½œç”¨ã€‚</p>
<p>å½“ Vue.js ç”¨ <code>v-for</code> æ›´æ–°å·²æ¸²æŸ“è¿‡çš„å…ƒç´ åˆ—è¡¨æ—¶ï¼Œå®ƒé»˜è®¤ç”¨â€œå°±åœ°å¤ç”¨â€ç­–ç•¥ã€‚å¦‚æœæ•°æ®é¡¹çš„é¡ºåºè¢«æ”¹å˜ï¼ŒVue å°†ä¸ä¼šç§»åŠ¨ DOM å…ƒç´ æ¥åŒ¹é…æ•°æ®é¡¹çš„é¡ºåºï¼Œè€Œæ˜¯ç®€å•å¤ç”¨æ­¤å¤„æ¯ä¸ªå…ƒç´ ï¼Œå¹¶ä¸”ç¡®ä¿å®ƒåœ¨ç‰¹å®šç´¢å¼•ä¸‹æ˜¾ç¤ºå·²è¢«æ¸²æŸ“è¿‡çš„æ¯ä¸ªå…ƒç´ ã€‚é‡å¤çš„ key ä¼šé€ æˆæ¸²æŸ“é”™è¯¯ã€‚</p>
</li>
</ul>
<h3 id="æ•°ç»„æ‰å¹³åŒ–è½¬æ¢"><a href="#æ•°ç»„æ‰å¹³åŒ–è½¬æ¢" class="headerlink" title="æ•°ç»„æ‰å¹³åŒ–è½¬æ¢"></a>æ•°ç»„æ‰å¹³åŒ–è½¬æ¢</h3><p>åœ¨è¯´åˆ°æ¨¡ç‰ˆç¼–è¯‘çš„æ—¶å€™ï¼Œæœ‰å¯èƒ½ä¼šæåˆ°æ•°ç»„çš„è½¬æ¢ï¼Œä¸€èˆ¬å°±ç”¨é€’å½’å¤„ç†<br>å°† [1,2,3,[4,5]] è½¬æ¢æˆ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    children:[</span><br><span class="line">        &#123;</span><br><span class="line">            value:1</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            value:2</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            value:3</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            children:[</span><br><span class="line">                &#123;</span><br><span class="line">                    value:4</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    value:5</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æµ‹è¯•æ•°ç»„</span></span><br><span class="line"><span class="keyword">var</span> arr =[<span class="number">1</span>,<span class="number">2</span>ï¼Œ<span class="number">3</span>ï¼Œ[<span class="number">4</span>,<span class="number">5</span>]];</span><br><span class="line"><span class="comment">// è½¬æ¢å‡½æ•°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">convert</span>(<span class="params">arr</span>)&#123;</span><br><span class="line">    <span class="comment">//å‡†å¤‡ä¸€ä¸ªæ¥æ”¶ç»“æœæ•°ç»„</span></span><br><span class="line">    <span class="keyword">var</span> result = [];</span><br><span class="line">    <span class="comment">// éå†ä¼ å…¥çš„ arr çš„æ¯ä¸€é¡¹</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;arr.<span class="property">length</span>;i++)&#123;</span><br><span class="line">        <span class="comment">//å¦‚æœéå†åˆ°çš„æ•°å­—æ˜¯numberï¼Œç›´æ¥æ”¾è¿›å…¥</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">typeof</span> arr[i] == <span class="string">&#x27;number&#x27;</span>)&#123;</span><br><span class="line">            result.<span class="title function_">push</span>(&#123;</span><br><span class="line">                <span class="attr">value</span>:arr[i]</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(<span class="title class_">Array</span>.<span class="title function_">isArray</span>(arr[i]))&#123;</span><br><span class="line">            <span class="comment">//å¦‚æœéå†åˆ°è¿™ä¸ªé¡¹ç›®æ˜¯æ•°ç»„ï¼Œé‚£ä¹ˆå°±é€’å½’</span></span><br><span class="line">            result.<span class="title function_">push</span>(&#123;</span><br><span class="line">                <span class="attr">children</span>: <span class="title function_">convert</span>(arr[i])</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> o = <span class="title function_">convert</span>(arr);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o);</span><br></pre></td></tr></table></figure>

<h3 id="vue-ç»„ä»¶çš„é€šä¿¡æ–¹å¼"><a href="#vue-ç»„ä»¶çš„é€šä¿¡æ–¹å¼" class="headerlink" title="vue ç»„ä»¶çš„é€šä¿¡æ–¹å¼"></a>vue ç»„ä»¶çš„é€šä¿¡æ–¹å¼</h3><ul>
<li><p><code>props</code>&#x2F;<code>$emit</code> çˆ¶å­ç»„ä»¶é€šä¿¡</p>
<p>çˆ¶-&gt;å­<code>props</code>ï¼Œå­-&gt;çˆ¶ <code>$onã€$emit</code> è·å–çˆ¶å­ç»„ä»¶å®ä¾‹ <code>parentã€children</code> <code>Ref</code>è·å–å®ä¾‹çš„æ–¹å¼è°ƒç”¨ç»„ä»¶çš„å±æ€§æˆ–è€…æ–¹æ³• çˆ¶-&gt;å­å­™ <code>Provideã€inject</code> å®˜æ–¹ä¸æ¨èä½¿ç”¨ï¼Œä½†æ˜¯å†™ç»„ä»¶åº“æ—¶å¾ˆå¸¸ç”¨</p>
</li>
<li><p><code>$emit</code>&#x2F;<code>$on</code> è‡ªå®šä¹‰äº‹ä»¶ å…„å¼Ÿç»„ä»¶é€šä¿¡</p>
<p><code>Event Bus</code> å®ç°è·¨ç»„ä»¶é€šä¿¡ <code>Vue.prototype.$bus = new Vue()</code> è‡ªå®šä¹‰äº‹ä»¶</p>
</li>
<li><p>vuex è·¨çº§ç»„ä»¶é€šä¿¡</p>
<p>Vuexã€<code>$attrsã€$listeners</code> <code>Provideã€inject</code></p>
</li>
</ul>
<h3 id="emit-åé¢çš„ä¸¤ä¸ªå‚æ•°æ˜¯ä»€ä¹ˆ"><a href="#emit-åé¢çš„ä¸¤ä¸ªå‚æ•°æ˜¯ä»€ä¹ˆ" class="headerlink" title="$emit åé¢çš„ä¸¤ä¸ªå‚æ•°æ˜¯ä»€ä¹ˆ"></a>$emit åé¢çš„ä¸¤ä¸ªå‚æ•°æ˜¯ä»€ä¹ˆ</h3><p>1ã€çˆ¶ç»„ä»¶å¯ä»¥ä½¿ç”¨ props æŠŠæ•°æ®ä¼ ç»™å­ç»„ä»¶ã€‚<br>2ã€å­ç»„ä»¶å¯ä»¥ä½¿ç”¨ $emit,è®©çˆ¶ç»„ä»¶ç›‘å¬åˆ°è‡ªå®šä¹‰äº‹ä»¶ ã€‚</p>
<p><code>vm.$emit( event, arg );</code>&#x2F;&#x2F;è§¦å‘å½“å‰å®ä¾‹ä¸Šçš„äº‹ä»¶ï¼Œè¦ä¼ é€’çš„å‚æ•°<br><code>vm.$on( event, fn );</code>&#x2F;&#x2F;ç›‘å¬ event äº‹ä»¶åè¿è¡Œ fnï¼›</p>
<p>å­ç»„ä»¶</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div class=&quot;train-city&quot;&gt;</span><br><span class="line">		&lt;h3&gt;çˆ¶ç»„ä»¶ä¼ ç»™å­ç»„ä»¶çš„toCity:&#123;&#123; sendData &#125;&#125;&lt;/h3&gt;</span><br><span class="line">		&lt;br /&gt;&lt;button @click=&quot;select(`å¤§è¿`)&quot;&gt;ç‚¹å‡»æ­¤å¤„å°†â€˜å¤§è¿â€™å‘å°„ç»™çˆ¶ç»„ä»¶&lt;/button&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">	name: &#x27;trainCity&#x27;,</span><br><span class="line">	props: [&#x27;sendData&#x27;], // ç”¨æ¥æ¥æ”¶çˆ¶ç»„ä»¶ä¼ ç»™å­ç»„ä»¶çš„æ•°æ®</span><br><span class="line">	methods: &#123;</span><br><span class="line">		select(val) &#123;</span><br><span class="line">			let data = &#123;</span><br><span class="line">				cityName: val,</span><br><span class="line">			&#125;;</span><br><span class="line">			this.$emit(&#x27;showCityName&#x27;, data); //selectäº‹ä»¶è§¦å‘åï¼Œè‡ªåŠ¨è§¦å‘showCityNameäº‹ä»¶</span><br><span class="line">		&#125;,</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>çˆ¶ç»„ä»¶</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div&gt;</span><br><span class="line">		&lt;div&gt;çˆ¶ç»„ä»¶çš„toCity&#123;&#123; toCity &#125;&#125;&lt;/div&gt;</span><br><span class="line">		&lt;train-city @showCityName=&quot;updateCity&quot; :sendData=&quot;toCity&quot;&gt;&lt;/train-city&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">	&lt;template&gt;</span><br><span class="line">		&lt;script&gt;</span><br><span class="line">			export default &#123;</span><br><span class="line">				name: &#x27;index&#x27;,</span><br><span class="line">				components: &#123;&#125;,</span><br><span class="line">				data() &#123;</span><br><span class="line">					return &#123;</span><br><span class="line">						toCity: &#x27;åŒ—äº¬&#x27;,</span><br><span class="line">					&#125;;</span><br><span class="line">				&#125;,</span><br><span class="line">				methods: &#123;</span><br><span class="line">					updateCity(data) &#123;</span><br><span class="line">						//è§¦å‘å­ç»„ä»¶åŸå¸‚é€‰æ‹©-é€‰æ‹©åŸå¸‚çš„äº‹ä»¶</span><br><span class="line">						this.toCity = data.cityName; //æ”¹å˜äº†çˆ¶ç»„ä»¶çš„å€¼</span><br><span class="line">						console.log(&#x27;toCity:&#x27; + this.toCity);</span><br><span class="line">					&#125;,</span><br><span class="line">				&#125;,</span><br><span class="line">			&#125;;</span><br><span class="line">		&lt;/script&gt;&lt;/template</span><br><span class="line">	&gt;&lt;/template</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>

<h3 id="nextTick-çš„å®ç°"><a href="#nextTick-çš„å®ç°" class="headerlink" title="nextTick çš„å®ç°"></a>nextTick çš„å®ç°</h3><ol>
<li><code>nextTick</code>æ˜¯<code>Vue</code>æä¾›çš„ä¸€ä¸ªå…¨å±€<code>API</code>,æ˜¯åœ¨ä¸‹æ¬¡<code>DOM</code>æ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œå»¶è¿Ÿå›è°ƒï¼Œåœ¨ä¿®æ”¹æ•°æ®ä¹‹åä½¿ç”¨<code>$nextTick</code>ï¼Œåˆ™å¯ä»¥åœ¨å›è°ƒä¸­è·å–æ›´æ–°åçš„<code>DOM</code>ï¼›</li>
<li>Vue åœ¨æ›´æ–° DOM æ—¶æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ã€‚åªè¦ä¾¦å¬åˆ°æ•°æ®å˜åŒ–ï¼Œ<code>Vue</code>å°†å¼€å¯ 1 ä¸ªé˜Ÿåˆ—ï¼Œå¹¶ç¼“å†²åœ¨åŒä¸€äº‹ä»¶å¾ªç¯ä¸­å‘ç”Ÿçš„æ‰€æœ‰æ•°æ®å˜æ›´ã€‚å¦‚æœåŒä¸€ä¸ª<code>watcher</code>è¢«å¤šæ¬¡è§¦å‘ï¼Œåªä¼šè¢«æ¨å…¥åˆ°é˜Ÿåˆ—ä¸­-æ¬¡ã€‚è¿™ç§åœ¨ç¼“å†²æ—¶å»é™¤é‡å¤æ•°æ®å¯¹äºé¿å…ä¸å¿…è¦çš„è®¡ç®—å’Œ<code>DOM</code>æ“ä½œæ˜¯éå¸¸é‡è¦çš„ã€‚<code>nextTick</code>æ–¹æ³•ä¼šåœ¨é˜Ÿåˆ—ä¸­åŠ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œç¡®ä¿è¯¥å‡½æ•°åœ¨å‰é¢çš„ dom æ“ä½œå®Œæˆåæ‰è°ƒç”¨ï¼›</li>
<li>æ¯”å¦‚ï¼Œæˆ‘åœ¨å¹²ä»€ä¹ˆçš„æ—¶å€™å°±ä¼šä½¿ç”¨ nextTickï¼Œä¼ ä¸€ä¸ªå›è°ƒå‡½æ•°è¿›å»ï¼Œåœ¨é‡Œé¢æ‰§è¡Œ dom æ“ä½œå³å¯ï¼›</li>
<li>æˆ‘ä¹Ÿæœ‰ç®€å•äº†è§£<code>nextTick</code>å®ç°ï¼Œå®ƒä¼šåœ¨<code>callbacks</code>é‡Œé¢åŠ å…¥æˆ‘ä»¬ä¼ å…¥çš„å‡½æ•°ï¼Œç„¶åç”¨<code>timerFunc</code>å¼‚æ­¥æ–¹å¼è°ƒç”¨å®ƒä»¬ï¼Œé¦–é€‰çš„å¼‚æ­¥æ–¹å¼ä¼šæ˜¯<code>Promise</code>ã€‚è¿™è®©æˆ‘æ˜ç™½äº†ä¸ºä»€ä¹ˆå¯ä»¥åœ¨<code>nextTick</code>ä¸­çœ‹åˆ°<code>dom</code>æ“ä½œç»“æœã€‚</li>
</ol>
<h3 id="nextTick-çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#nextTick-çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="nextTick çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"></a>nextTick çš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>åœ¨ä¸‹æ¬¡ DOM æ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œå»¶è¿Ÿå›è°ƒï¼Œåœ¨ä¿®æ”¹æ•°æ®ä¹‹åç«‹å³ä½¿ç”¨ nextTick æ¥è·å–æ›´æ–°åçš„ DOMã€‚ nextTick ä¸»è¦ä½¿ç”¨äº†å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ã€‚ æ ¹æ®æ‰§è¡Œç¯å¢ƒåˆ†åˆ«å°è¯•é‡‡ç”¨ Promiseã€MutationObserverã€setImmediateï¼Œå¦‚æœä»¥ä¸Šéƒ½ä¸è¡Œåˆ™é‡‡ç”¨ setTimeout å®šä¹‰äº†ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•ï¼Œå¤šæ¬¡è°ƒç”¨ nextTick ä¼šå°†æ–¹æ³•å­˜å…¥é˜Ÿåˆ—ä¸­ï¼Œé€šè¿‡è¿™ä¸ªå¼‚æ­¥æ–¹æ³•æ¸…ç©ºå½“å‰é˜Ÿåˆ—ã€‚</p>
<h3 id="ä½¿ç”¨è¿‡æ’æ§½ä¹ˆï¼Ÿç”¨çš„æ˜¯å…·åæ’æ§½è¿˜æ˜¯åŒ¿åæ’æ§½æˆ–ä½œç”¨åŸŸæ’æ§½"><a href="#ä½¿ç”¨è¿‡æ’æ§½ä¹ˆï¼Ÿç”¨çš„æ˜¯å…·åæ’æ§½è¿˜æ˜¯åŒ¿åæ’æ§½æˆ–ä½œç”¨åŸŸæ’æ§½" class="headerlink" title="ä½¿ç”¨è¿‡æ’æ§½ä¹ˆï¼Ÿç”¨çš„æ˜¯å…·åæ’æ§½è¿˜æ˜¯åŒ¿åæ’æ§½æˆ–ä½œç”¨åŸŸæ’æ§½"></a>ä½¿ç”¨è¿‡æ’æ§½ä¹ˆï¼Ÿç”¨çš„æ˜¯å…·åæ’æ§½è¿˜æ˜¯åŒ¿åæ’æ§½æˆ–ä½œç”¨åŸŸæ’æ§½</h3><p>vue ä¸­çš„æ’æ§½æ˜¯ä¸€ä¸ªéå¸¸å¥½ç”¨çš„ä¸œè¥¿ slot è¯´ç™½äº†å°±æ˜¯ä¸€ä¸ªå ä½çš„ åœ¨ vue å½“ä¸­æ’æ§½åŒ…å«ä¸‰ç§ä¸€ç§æ˜¯é»˜è®¤æ’æ§½ï¼ˆåŒ¿åï¼‰ä¸€ç§æ˜¯å…·åæ’æ§½è¿˜æœ‰ä¸€ç§å°±æ˜¯ä½œç”¨åŸŸæ’æ§½ åŒ¿åæ’æ§½å°±æ˜¯æ²¡æœ‰åå­—çš„åªè¦é»˜è®¤çš„éƒ½å¡«åˆ°è¿™é‡Œå…·åæ’æ§½æŒ‡çš„æ˜¯å…·æœ‰åå­—çš„</p>
<h3 id="keep-alive-çš„å®ç°"><a href="#keep-alive-çš„å®ç°" class="headerlink" title="keep-alive çš„å®ç°"></a>keep-alive çš„å®ç°</h3><p>keep-alive æ˜¯ Vue.js çš„ä¸€ä¸ªå†…ç½®ç»„ä»¶ã€‚å®ƒèƒ½å¤Ÿä¸æ´»åŠ¨çš„ç»„ä»¶å®ä¾‹ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œè€Œä¸æ˜¯ç›´æ¥å°†å…¶é”€æ¯ï¼Œå®ƒæ˜¯ä¸€ä¸ªæŠ½è±¡ç»„ä»¶ï¼Œä¸ä¼šè¢«æ¸²æŸ“åˆ°çœŸå® DOM ä¸­ï¼Œä¹Ÿä¸ä¼šå‡ºç°åœ¨çˆ¶ç»„ä»¶é“¾ä¸­ã€‚</p>
<p>ä½œç”¨ï¼šå®ç°ç»„ä»¶ç¼“å­˜ï¼Œä¿æŒè¿™äº›ç»„ä»¶çš„çŠ¶æ€ï¼Œä»¥é¿å…åå¤æ¸²æŸ“å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ã€‚ éœ€è¦ç¼“å­˜ç»„ä»¶ é¢‘ç¹åˆ‡æ¢ï¼Œä¸éœ€è¦é‡å¤æ¸²æŸ“</p>
<p>åœºæ™¯ï¼štabs æ ‡ç­¾é¡µ åå°å¯¼èˆªï¼Œvue æ€§èƒ½ä¼˜åŒ–</p>
<p>åŸç†ï¼š<code>Vue.js</code>å†…éƒ¨å°†<code>DOM</code>èŠ‚ç‚¹æŠ½è±¡æˆäº†ä¸€ä¸ªä¸ªçš„<code>VNode</code>èŠ‚ç‚¹ï¼Œ<code>keep-alive</code>ç»„ä»¶çš„ç¼“å­˜ä¹Ÿæ˜¯åŸºäº<code>VNode</code>èŠ‚ç‚¹çš„è€Œä¸æ˜¯ç›´æ¥å­˜å‚¨<code>DOM</code>ç»“æ„ã€‚å®ƒå°†æ»¡è¶³æ¡ä»¶<code>ï¼ˆpruneCacheä¸pruneCacheï¼‰</code>çš„ç»„ä»¶åœ¨<code>cache</code>å¯¹è±¡ä¸­ç¼“å­˜èµ·æ¥ï¼Œåœ¨éœ€è¦é‡æ–°æ¸²æŸ“çš„æ—¶å€™å†å°†<code>vnode</code>èŠ‚ç‚¹ä»<code>cache</code>å¯¹è±¡ä¸­å–å‡ºå¹¶æ¸²æŸ“ã€‚</p>
<h3 id="keep-alive-çš„å±æ€§"><a href="#keep-alive-çš„å±æ€§" class="headerlink" title="keep-alive çš„å±æ€§"></a>keep-alive çš„å±æ€§</h3><p>å®ƒæä¾›äº† include ä¸ exclude ä¸¤ä¸ªå±æ€§ï¼Œå…è®¸ç»„ä»¶æœ‰æ¡ä»¶åœ°è¿›è¡Œç¼“å­˜ã€‚</p>
<p>include å®šä¹‰ç¼“å­˜ç™½åå•ï¼Œkeep-alive ä¼šç¼“å­˜å‘½ä¸­çš„ç»„ä»¶ï¼›exclude å®šä¹‰ç¼“å­˜é»‘åå•ï¼Œè¢«å‘½ä¸­çš„ç»„ä»¶å°†ä¸ä¼šè¢«ç¼“å­˜ï¼›max å®šä¹‰ç¼“å­˜ç»„ä»¶ä¸Šé™ï¼Œè¶…å‡ºä¸Šé™ä½¿ç”¨ LRU çš„ç­–ç•¥ç½®æ¢ç¼“å­˜æ•°æ®ã€‚</p>
<p>åœ¨åŠ¨æ€ç»„ä»¶ä¸­çš„åº”ç”¨</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;keep-alive :include=<span class="string">&quot;whiteList&quot;</span> :exclude=<span class="string">&quot;blackList&quot;</span> :max=<span class="string">&quot;amount&quot;</span>&gt;</span><br><span class="line">     <span class="language-xml"><span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">&quot;currentComponent&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span></span><br><span class="line">&lt;/keep-alive&gt;</span><br></pre></td></tr></table></figure>

<p>åœ¨ vue-router ä¸­çš„åº”ç”¨</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;keep-alive :include=<span class="string">&quot;whiteList&quot;</span> :exclude=<span class="string">&quot;blackList&quot;</span> :max=<span class="string">&quot;amount&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span></span><br><span class="line">&lt;/keep-alive&gt;</span><br></pre></td></tr></table></figure>

<p>vue ä¸­å®Œæ•´ç¤ºä¾‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;keep-alive&gt;</span><br><span class="line">    &lt;coma v-if=&quot;test&quot;&gt;&lt;/coma&gt;</span><br><span class="line">    &lt;comb v-else=&quot;test&quot;&gt;&lt;/comb&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line">&lt;button @click=&quot;test=handleClick&quot;&gt;è¯·ç‚¹å‡»&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    data () &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            test: true</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        handleClick () &#123;</span><br><span class="line">            this.test = !this.test;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒ:<br><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/api/#keep-alive">keep-alive å®˜ç½‘</a></p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/9523bb439950">keep-alive å®ç°åŸç†</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_38189842/article/details/103999989">Vue keep-alive çš„å®ç°åŸç†</a></p>
<h3 id="mixin"><a href="#mixin" class="headerlink" title="mixin"></a>mixin</h3><p>mixin é¡¹ç›®å˜å¾—å¤æ‚çš„æ—¶å€™ï¼Œå¤šä¸ªç»„ä»¶é—´æœ‰é‡å¤çš„é€»è¾‘å°±ä¼šç”¨åˆ° mixin<br>å¤šä¸ªç»„ä»¶æœ‰ç›¸åŒçš„é€»è¾‘ï¼ŒæŠ½ç¦»å‡ºæ¥<br>mixin å¹¶ä¸æ˜¯å®Œç¾çš„è§£å†³æ–¹æ¡ˆï¼Œä¼šæœ‰ä¸€äº›é—®é¢˜<br>vue3 æå‡ºçš„ Composition API æ—¨åœ¨è§£å†³è¿™äº›é—®é¢˜ã€è¿½æ±‚å®Œç¾æ˜¯è¦æ¶ˆè€—ä¸€å®šçš„æˆæœ¬çš„ï¼Œå¦‚å¼€å‘æˆæœ¬ã€‘<br>åœºæ™¯ï¼šPC ç«¯æ–°é—»åˆ—è¡¨å’Œè¯¦æƒ…é¡µä¸€æ ·çš„å³ä¾§æ ç›®ï¼Œå¯ä»¥ä½¿ç”¨ mixin è¿›è¡Œæ··åˆ<br>åŠ£åŠ¿ï¼š1.å˜é‡æ¥æºä¸æ˜ç¡®ï¼Œä¸åˆ©äºé˜…è¯» 2.å¤š mixin å¯èƒ½ä¼šé€ æˆå‘½åå†²çª 3.mixin å’Œç»„ä»¶å¯èƒ½å‡ºç°å¤šå¯¹å¤šçš„å…³ç³»ï¼Œä½¿å¾—é¡¹ç›®å¤æ‚åº¦å˜é«˜</p>
<h3 id="vue-å¦‚ä½•å®ç°æ¨¡æ‹Ÿ-v-model-æŒ‡ä»¤"><a href="#vue-å¦‚ä½•å®ç°æ¨¡æ‹Ÿ-v-model-æŒ‡ä»¤" class="headerlink" title="vue å¦‚ä½•å®ç°æ¨¡æ‹Ÿ v-model æŒ‡ä»¤"></a>vue å¦‚ä½•å®ç°æ¨¡æ‹Ÿ v-model æŒ‡ä»¤</h3><p>å¯ä»¥ä½¿ç”¨ vue è‡ªå®šä¹‰æŒ‡ä»¤ Vue.directive() æ¨¡æ‹Ÿ</p>
<p>å…·ä½“å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_39157944/article/details/106262546">vue è‡ªå®šä¹‰æŒ‡ä»¤æ¨¡æ‹Ÿ v-model æŒ‡ä»¤</a></p>
<h3 id="å¦‚ä½•å®ç°-v-model-è¯´ä¸‹æ€è·¯"><a href="#å¦‚ä½•å®ç°-v-model-è¯´ä¸‹æ€è·¯" class="headerlink" title="å¦‚ä½•å®ç° v-model,è¯´ä¸‹æ€è·¯"></a>å¦‚ä½•å®ç° v-model,è¯´ä¸‹æ€è·¯</h3><h3 id="Vue-Router-ç›¸å…³"><a href="#Vue-Router-ç›¸å…³" class="headerlink" title="Vue Router ç›¸å…³"></a>Vue Router ç›¸å…³</h3><h3 id="Vuex-çš„ç†è§£åŠä½¿ç”¨åœºæ™¯"><a href="#Vuex-çš„ç†è§£åŠä½¿ç”¨åœºæ™¯" class="headerlink" title="Vuex çš„ç†è§£åŠä½¿ç”¨åœºæ™¯"></a>Vuex çš„ç†è§£åŠä½¿ç”¨åœºæ™¯</h3><p>Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚æ¯ä¸€ä¸ª Vuex åº”ç”¨çš„æ ¸å¿ƒå°±æ˜¯ storeï¼ˆä»“åº“ï¼‰ã€‚</p>
<ol>
<li>Vuex çš„çŠ¶æ€å­˜å‚¨æ˜¯å“åº”å¼çš„ï¼›å½“ Vue ç»„ä»¶ä» store ä¸­è¯»å–çŠ¶æ€çš„æ—¶å€™ï¼Œ</li>
</ol>
<p>è‹¥ store ä¸­çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆç›¸åº”çš„ç»„ä»¶ä¹Ÿä¼šç›¸åº”åœ°å¾—åˆ°é«˜æ•ˆæ›´æ–° 2. æ”¹å˜ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€é€”å¾„å°±æ˜¯æ˜¾å¼åœ°æäº¤ (commit) mutationï¼Œ è¿™æ ·ä½¿å¾—æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°è·Ÿè¸ªæ¯ä¸€ä¸ªçŠ¶æ€çš„å˜åŒ– Vuex ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒæ¨¡å—ï¼š</p>
<ol>
<li>Stateï¼šå®šä¹‰äº†åº”ç”¨çš„çŠ¶æ€æ•°æ®</li>
<li>Getterï¼šåœ¨ store ä¸­å®šä¹‰â€œgetterâ€ï¼ˆå¯ä»¥è®¤ä¸ºæ˜¯ store çš„è®¡ç®—å±æ€§ï¼‰ï¼Œ</li>
</ol>
<p>å°±åƒè®¡ç®—å±æ€§ä¸€æ ·ï¼Œgetter çš„è¿”å›å€¼ä¼šæ ¹æ®å®ƒçš„ä¾èµ–è¢«ç¼“å­˜èµ·æ¥ï¼Œ ä¸”åªæœ‰å½“å®ƒçš„ä¾èµ–å€¼å‘ç”Ÿäº†æ”¹å˜æ‰ä¼šè¢«é‡æ–°è®¡ç®— 3. Mutationï¼šæ˜¯å”¯ä¸€æ›´æ”¹ store ä¸­çŠ¶æ€çš„æ–¹æ³•ï¼Œä¸”å¿…é¡»æ˜¯åŒæ­¥å‡½æ•° 4. Actionï¼šç”¨äºæäº¤ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ï¼Œå¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œ 5. Moduleï¼šå…è®¸å°†å•ä¸€çš„ Store æ‹†åˆ†ä¸ºå¤šä¸ª store ä¸”åŒæ—¶ä¿å­˜åœ¨å•ä¸€çš„çŠ¶æ€æ ‘ä¸­</p>
<p><img src="https://gitee.com/xjxjxj123/xiaojun-personal-blog/raw/master/images/a7249773a1634f779c48f3f0ffabf968~tplv-k3u1fbpfcp-zoom-1.image"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://770746548.github.io/2025/03/28/vue%E9%9D%A2%E8%AF%95%E4%B8%93%E9%A2%98/" data-id="cmkgdulh2000fy4mh7ptd5vqa" data-title="ğŸ”¥ vueé¢è¯•ä¸“é¢˜" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%85%AB%E8%82%A1%E6%96%87/" rel="tag">å‰ç«¯å…«è‚¡æ–‡</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-é¥¿äº†ä¹ˆç»„ä»¶åº“è¸©å‘" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/03/19/%E9%A5%BF%E4%BA%86%E4%B9%88%E7%BB%84%E4%BB%B6%E5%BA%93%E8%B8%A9%E5%9D%91/" class="article-date">
  <time class="dt-published" datetime="2025-03-19T02:00:37.000Z" itemprop="datePublished">2025-03-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/03/19/%E9%A5%BF%E4%BA%86%E4%B9%88%E7%BB%84%E4%BB%B6%E5%BA%93%E8%B8%A9%E5%9D%91/">element-uiè¸©å‘ç‚¹</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>æœ¬æ–‡ä¸»è¦æ•´ç† element-ui è¸©å‘ç‚¹<br>æ³¨ï¼šæ–‡ç« å†…å®¹ç›¸å¯¹è€Œè¨€æœ‰ä¸€å®šçš„éš¾åº¦ï¼Œæ‰€ä»¥éœ€è¦è¯»è€…æœ‰ä¸€å®šçš„åŸºç¡€ã€‚å¦å¤–ï¼Œè‹¥æ–‡ç« æœ‰ä½•ä¸å¦¥ä¹‹å¤„æˆ–è€…ä½ æœ‰ä»»ä½•ç–‘é—®ï¼Œæ¬¢è¿ç•™è¨€è®¨è®ºã€‚</p>
<h1 id="ä¸€ã€ç»„ä»¶æ ·å¼"><a href="#ä¸€ã€ç»„ä»¶æ ·å¼" class="headerlink" title="ä¸€ã€ç»„ä»¶æ ·å¼"></a>ä¸€ã€ç»„ä»¶æ ·å¼</h1><p>é¥¿äº†ä¹ˆç»„ä»¶åº“ä¸­æœ‰éœ€æ±‚æ”¹ç»„ä»¶æ ·å¼çš„å‘ç‚¹ï¼Œæœ‰å¾ˆç»†å¿ƒçš„å‰ç«¯å°ä¼™ä¼´ç”¨æ§åˆ¶å°æ¥é€‰æ‹©å…ƒç´ ï¼Œé€‰æ‹©åˆ°éœ€è¦æ›´æ”¹çš„å…ƒç´ çš„æ—¶å€™å·²ç»çœ‹è§è¿™ä¸ªå…ƒç´ ä½¿ç”¨çš„ classï¼Œä½†åœ¨æˆ‘ä»¬ä»£ç ä¸­ç”¨è¿™ä¸ª class åæœ‰æ—¶å€™å†™ä¸Šå´æ— æ³•ä¿®æ”¹è¯¥å…ƒç´ çš„æ ·å¼</p>
<p><img src="https://raw.githubusercontent.com/770746548/770746548.github.io/master/images/image-20230210162443277.png" alt="image-20230210162443277"></p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å¤åˆ¶è¯¥å…ƒç´  class åä¸º .el-table_3_column_8 is-center .el-table__cell</p>
<p>æ­¤æ—¶ï¼Œæˆ‘ä»¬ç›´æ¥ç”¨è¿™ä¸ªæ ·å¼å†™ä¸Šå»æ— æ³•ç”Ÿæ•ˆï¼Œåˆ™æˆ‘ä»¬å¯ä»¥é‡‡ç”¨ä»¥ä¸‹æ·±åº¦é€‰æ‹©å™¨è¿›è¡Œä¿®æ”¹æ ·å¼</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">::v-deep .<span class="property">el</span>-table_3_column_8 is-center  .<span class="property">el</span>-table__cell&#123;<span class="comment">//ç¬¬ä¸€ç§æ–¹æ³•::v-deep</span></span><br><span class="line">    <span class="comment">//å†™ä¸Šä½ è¦æ›´æ”¹çš„æ ·å¼</span></span><br><span class="line">    <span class="attr">boder</span>:1px soild red;<span class="comment">//å°†å•å…ƒæ ¼çš„è¾¹æ¡†è®¾ä¸º1pxå®çº¿çº¢è‰²ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¿®æ”¹å®Œæˆäº†</span></span><br><span class="line">&#125;</span><br><span class="line">/deep/ .<span class="property">el</span>-table_3_column_8 is-center  .<span class="property">el</span>-table__cell&#123;<span class="comment">//ç¬¬ä¸€ç§æ–¹æ³•::v-deep</span></span><br><span class="line">    <span class="comment">//å†™ä¸Šä½ è¦æ›´æ”¹çš„æ ·å¼</span></span><br><span class="line">    <span class="attr">boder</span>:1px soild red;<span class="comment">//å°†å•å…ƒæ ¼çš„è¾¹æ¡†è®¾ä¸º1pxå®çº¿çº¢è‰²ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¿®æ”¹å®Œæˆäº†</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://770746548.github.io/2025/03/19/%E9%A5%BF%E4%BA%86%E4%B9%88%E7%BB%84%E4%BB%B6%E5%BA%93%E8%B8%A9%E5%9D%91/" data-id="cmkgdulh6000oy4mhd4na01oj" data-title="element-uiè¸©å‘ç‚¹" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-HTML+CSS" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/02/28/HTML+CSS/" class="article-date">
  <time class="dt-published" datetime="2025-02-28T01:00:00.000Z" itemprop="datePublished">2025-02-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/02/28/HTML+CSS/">ğŸ”¥ HTML &amp;&amp; CSS</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="HTML-amp-amp-CSS"><a href="#HTML-amp-amp-CSS" class="headerlink" title="HTML &amp;&amp; CSS"></a>HTML &amp;&amp; CSS</h2><h3 id="HTML5-æ–°ç‰¹æ€§ã€è¯­ä¹‰åŒ–"><a href="#HTML5-æ–°ç‰¹æ€§ã€è¯­ä¹‰åŒ–" class="headerlink" title="HTML5 æ–°ç‰¹æ€§ã€è¯­ä¹‰åŒ–"></a>HTML5 æ–°ç‰¹æ€§ã€è¯­ä¹‰åŒ–</h3><ol>
<li><p><strong>æ¦‚å¿µ</strong>ï¼š</p>
<p>HTML5 çš„è¯­ä¹‰åŒ–æŒ‡çš„æ˜¯<code>åˆç†æ­£ç¡®çš„ä½¿ç”¨è¯­ä¹‰åŒ–çš„æ ‡ç­¾æ¥åˆ›å»ºé¡µé¢ç»“æ„</code>ã€‚ã€æ­£ç¡®çš„æ ‡ç­¾åšæ­£ç¡®çš„äº‹ã€‘</p>
</li>
<li><p><strong>è¯­ä¹‰åŒ–æ ‡ç­¾</strong>ï¼š</p>
<p>header nav main article section aside footer</p>
</li>
<li><p><strong>è¯­ä¹‰åŒ–çš„ä¼˜ç‚¹</strong>:</p>
<ul>
<li>åœ¨<code>æ²¡CSSæ ·å¼çš„æƒ…å†µä¸‹ï¼Œé¡µé¢æ•´ä½“ä¹Ÿä¼šå‘ˆç°å¾ˆå¥½çš„ç»“æ„æ•ˆæœ</code></li>
<li><code>ä»£ç ç»“æ„æ¸…æ™°</code>ï¼Œæ˜“äºé˜…è¯»ï¼Œ</li>
<li><code>åˆ©äºå¼€å‘å’Œç»´æŠ¤</code> æ–¹ä¾¿å…¶ä»–è®¾å¤‡è§£æï¼ˆå¦‚å±å¹•é˜…è¯»å™¨ï¼‰æ ¹æ®è¯­ä¹‰æ¸²æŸ“ç½‘é¡µã€‚</li>
<li><code>æœ‰åˆ©äºæœç´¢å¼•æ“ä¼˜åŒ–ï¼ˆSEOï¼‰</code>ï¼Œæœç´¢å¼•æ“çˆ¬è™«ä¼šæ ¹æ®ä¸åŒçš„æ ‡ç­¾æ¥èµ‹äºˆä¸åŒçš„æƒé‡</li>
</ul>
</li>
</ol>
<h3 id="HTML5-æ–°ç‰¹æ€§æœ‰å“ªäº›"><a href="#HTML5-æ–°ç‰¹æ€§æœ‰å“ªäº›" class="headerlink" title="HTML5 æ–°ç‰¹æ€§æœ‰å“ªäº›"></a>HTML5 æ–°ç‰¹æ€§æœ‰å“ªäº›</h3><ul>
<li>è¯­ä¹‰åŒ–æ ‡ç­¾</li>
<li>éŸ³è§†é¢‘å¤„ç† API(audio,video)</li>
<li>canvas &#x2F; webGL</li>
<li>æ‹–æ‹½é‡Šæ”¾(Drag and drop) API</li>
<li>history API</li>
<li>requestAnimationFrame</li>
<li>åœ°ç†ä½ç½®(Geolocation)API</li>
<li>webSocket</li>
<li>web å­˜å‚¨ localStorageã€SessionStorage</li>
<li>è¡¨å•æ§ä»¶ï¼Œcalendarã€dateã€timeã€emailã€urlã€search</li>
</ul>
<h3 id="CSS-é€‰æ‹©å™¨åŠä¼˜å…ˆçº§"><a href="#CSS-é€‰æ‹©å™¨åŠä¼˜å…ˆçº§" class="headerlink" title="CSS é€‰æ‹©å™¨åŠä¼˜å…ˆçº§"></a>CSS é€‰æ‹©å™¨åŠä¼˜å…ˆçº§</h3><p><strong>é€‰æ‹©å™¨</strong></p>
<ul>
<li>id é€‰æ‹©å™¨(#myid)</li>
<li>ç±»é€‰æ‹©å™¨(.myclass)</li>
<li>å±æ€§é€‰æ‹©å™¨(a[rel&#x3D;â€externalâ€])</li>
<li>ä¼ªç±»é€‰æ‹©å™¨(a:hover, li:nth-child)</li>
<li>æ ‡ç­¾é€‰æ‹©å™¨(div, h1,p)</li>
<li>ç›¸é‚»é€‰æ‹©å™¨ï¼ˆh1 + pï¼‰</li>
<li>å­é€‰æ‹©å™¨(ul &gt; li)</li>
<li>åä»£é€‰æ‹©å™¨(li a)</li>
<li>é€šé…ç¬¦é€‰æ‹©å™¨(*)</li>
</ul>
<p><strong>ä¼˜å…ˆçº§ï¼š</strong></p>
<ul>
<li><code>!important</code></li>
<li>å†…è”æ ·å¼ï¼ˆ1000ï¼‰</li>
<li>ID é€‰æ‹©å™¨ï¼ˆ0100ï¼‰</li>
<li>ç±»é€‰æ‹©å™¨&#x2F;å±æ€§é€‰æ‹©å™¨&#x2F;ä¼ªç±»é€‰æ‹©å™¨ï¼ˆ0010ï¼‰</li>
<li>å…ƒç´ é€‰æ‹©å™¨&#x2F;ä¼ªå…ƒç´ é€‰æ‹©å™¨ï¼ˆ0001ï¼‰</li>
<li>å…³ç³»é€‰æ‹©å™¨&#x2F;é€šé…ç¬¦é€‰æ‹©å™¨ï¼ˆ0000ï¼‰</li>
</ul>
<p>å¸¦!important æ ‡è®°çš„æ ·å¼å±æ€§ä¼˜å…ˆçº§æœ€é«˜ï¼› æ ·å¼è¡¨çš„æ¥æºç›¸åŒæ—¶ï¼š<br><code>!important &gt; è¡Œå†…æ ·å¼&gt;IDé€‰æ‹©å™¨ &gt; ç±»é€‰æ‹©å™¨ &gt; æ ‡ç­¾ &gt; é€šé…ç¬¦ &gt; ç»§æ‰¿ &gt; æµè§ˆå™¨é»˜è®¤å±æ€§</code></p>
<h3 id="æ¸è¿›å¢å¼ºä¸ä¼˜é›…é™çº§çš„ç†è§£åŠåŒºåˆ«"><a href="#æ¸è¿›å¢å¼ºä¸ä¼˜é›…é™çº§çš„ç†è§£åŠåŒºåˆ«" class="headerlink" title="æ¸è¿›å¢å¼ºä¸ä¼˜é›…é™çº§çš„ç†è§£åŠåŒºåˆ«"></a>æ¸è¿›å¢å¼ºä¸ä¼˜é›…é™çº§çš„ç†è§£åŠåŒºåˆ«</h3><p><strong>æ¸è¿›å¢å¼ºï¼ˆProgressive Enhancementï¼‰ï¼š</strong><br>ä¸€å¼€å§‹å°±é’ˆå¯¹ä½ç‰ˆæœ¬æµè§ˆå™¨è¿›è¡Œæ„å»ºé¡µé¢ï¼Œå®ŒæˆåŸºæœ¬çš„åŠŸèƒ½ï¼Œç„¶åå†é’ˆå¯¹é«˜çº§æµè§ˆå™¨è¿›è¡Œæ•ˆæœã€äº¤äº’ã€è¿½åŠ åŠŸèƒ½è¾¾åˆ°æ›´å¥½çš„ä½“éªŒã€‚</p>
<p><strong>ä¼˜é›…é™çº§ï¼ˆGraceful Degradationï¼‰ï¼š</strong><br>ä¸€å¼€å§‹å°±æ„å»ºç«™ç‚¹çš„å®Œæ•´åŠŸèƒ½ï¼Œç„¶åé’ˆå¯¹æµè§ˆå™¨æµ‹è¯•å’Œä¿®å¤ã€‚æ¯”å¦‚ä¸€å¼€å§‹ä½¿ç”¨ CSS3 çš„ç‰¹æ€§æ„å»ºäº†ä¸€ä¸ªåº”ç”¨ï¼Œç„¶åé€æ­¥é’ˆå¯¹å„å¤§æµè§ˆå™¨è¿›è¡Œ hack ä½¿å…¶å¯ä»¥åœ¨ä½ç‰ˆæœ¬æµè§ˆå™¨ä¸Šæ­£å¸¸æµè§ˆã€‚<br><strong>ä¸¤è€…åŒºåˆ«</strong><br>1ã€å¹¿ä¹‰ï¼š<br>å…¶å®è¦å®šä¹‰ä¸€ä¸ªåŸºå‡†çº¿ï¼Œåœ¨æ­¤ä¹‹ä¸Šçš„å¢å¼ºå«åšæ¸è¿›å¢å¼ºï¼Œåœ¨æ­¤ä¹‹ä¸‹çš„å…¼å®¹å«ä¼˜é›…é™çº§<br>2ã€ç‹­ä¹‰ï¼š<br>æ¸è¿›å¢å¼ºä¸€èˆ¬è¯´çš„æ˜¯ä½¿ç”¨ CSS3 æŠ€æœ¯ï¼Œåœ¨ä¸å½±å“è€æµè§ˆå™¨çš„æ­£å¸¸æ˜¾ç¤ºä¸ä½¿ç”¨æƒ…å½¢ä¸‹æ¥å¢å¼ºä½“éªŒï¼Œè€Œä¼˜é›…é™çº§åˆ™æ˜¯ä½“ç° html æ ‡ç­¾çš„è¯­ä¹‰ï¼Œä»¥ä¾¿åœ¨ js&#x2F;css çš„åŠ è½½å¤±è´¥&#x2F;è¢«ç¦ç”¨æ—¶ï¼Œä¹Ÿä¸å½±å“ç”¨æˆ·çš„ç›¸åº”åŠŸèƒ½ã€‚</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ä¾‹å­ */</span></span><br><span class="line"><span class="selector-class">.transition</span> &#123;</span><br><span class="line">	<span class="comment">/*æ¸è¿›å¢å¼ºå†™æ³•*/</span></span><br><span class="line">	-webkit-<span class="attribute">transition</span>: all <span class="number">0.5s</span>;</span><br><span class="line">	-moz-<span class="attribute">transition</span>: all <span class="number">0.5s</span>;</span><br><span class="line">	-o-<span class="attribute">transition</span>: all <span class="number">0.5s</span>;</span><br><span class="line">	<span class="attribute">transition</span>: all <span class="number">0.5s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.transition</span> &#123;</span><br><span class="line">	<span class="comment">/*ä¼˜é›…é™çº§å†™æ³•*/</span></span><br><span class="line">	<span class="attribute">transition</span>: all <span class="number">0.5s</span>;</span><br><span class="line">	-o-<span class="attribute">transition</span>: all <span class="number">0.5s</span>;</span><br><span class="line">	-moz-<span class="attribute">transition</span>: all <span class="number">0.5s</span>;</span><br><span class="line">	-webkit-<span class="attribute">transition</span>: all <span class="number">0.5s</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å¸¸è§çš„å…¼å®¹æ€§é—®é¢˜"><a href="#å¸¸è§çš„å…¼å®¹æ€§é—®é¢˜" class="headerlink" title="å¸¸è§çš„å…¼å®¹æ€§é—®é¢˜"></a>å¸¸è§çš„å…¼å®¹æ€§é—®é¢˜</h3><ol>
<li><p>ä¸åŒæµè§ˆå™¨çš„æ ‡ç­¾é»˜è®¤çš„ margin å’Œ padding ä¸ä¸€æ ·ã€‚*{margin:0;padding:0;}</p>
</li>
<li><p>IE6 åŒè¾¹è· bugï¼šå—å±æ€§æ ‡ç­¾ float åï¼Œåˆæœ‰æ¨ªè¡Œçš„ margin æƒ…å†µä¸‹ï¼Œåœ¨ IE6 æ˜¾ç¤º margin æ¯”è®¾ç½®çš„å¤§ã€‚hackï¼šdisplay:inline;å°†å…¶è½¬åŒ–ä¸ºè¡Œå†…å±æ€§ã€‚</p>
</li>
<li><p>è®¾ç½®è¾ƒå°é«˜åº¦æ ‡ç­¾ï¼ˆä¸€èˆ¬å°äº 10pxï¼‰ï¼Œåœ¨ IE6ï¼ŒIE7 ä¸­é«˜åº¦è¶…å‡ºè‡ªå·±è®¾ç½®é«˜åº¦ã€‚hackï¼šç»™è¶…å‡ºé«˜åº¦çš„æ ‡ç­¾è®¾ç½® overflow:hidden;æˆ–è€…è®¾ç½®è¡Œé«˜ line-height å°äºä½ è®¾ç½®çš„é«˜åº¦ã€‚</p>
</li>
<li><p>Chrome ä¸­æ–‡ç•Œé¢ä¸‹é»˜è®¤ä¼šå°†å°äº 12px çš„æ–‡æœ¬å¼ºåˆ¶æŒ‰ç…§ 12px æ˜¾ç¤º,å¯é€šè¿‡åŠ å…¥ CSS å±æ€§ -webkit-text-size-adjust: none; è§£å†³ã€‚</p>
</li>
<li><p>è¶…é“¾æ¥è®¿é—®è¿‡å hover æ ·å¼å°±ä¸å‡ºç°äº†ï¼Œè¢«ç‚¹å‡»è®¿é—®è¿‡çš„è¶…é“¾æ¥æ ·å¼ä¸å†å…·æœ‰ hover å’Œ active äº†ã€‚è§£å†³æ–¹æ³•æ˜¯æ”¹å˜ CSS å±æ€§çš„æ’åˆ—é¡ºåº:L-V-H-A ( love hate ): a:link {} a:visited {} a:hover {} a:active {}</p>
</li>
</ol>
<h3 id="CSS3-æ–°ç‰¹æ€§"><a href="#CSS3-æ–°ç‰¹æ€§" class="headerlink" title="CSS3 æ–°ç‰¹æ€§"></a>CSS3 æ–°ç‰¹æ€§</h3><ul>
<li>è¿‡æ¸¡</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*æ‰€æœ‰å±æ€§ä»åŸå§‹å€¼åˆ°åˆ¶å®šå€¼çš„ä¸€ä¸ªè¿‡æ¸¡ï¼Œè¿åŠ¨æ›²çº¿ease,è¿åŠ¨æ—¶é—´0.5ç§’*/</span></span><br><span class="line">transitionï¼šall,.5s</span><br></pre></td></tr></table></figure>

<ul>
<li>åŠ¨ç”»</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//animationï¼šåŠ¨ç”»åç§°ï¼Œä¸€ä¸ªå‘¨æœŸèŠ±è´¹æ—¶é—´ï¼Œè¿åŠ¨æ›²çº¿ï¼ˆé»˜è®¤easeï¼‰ï¼ŒåŠ¨ç”»å»¶è¿Ÿï¼ˆé»˜è®¤0ï¼‰ï¼Œæ’­æ”¾æ¬¡æ•°ï¼ˆé»˜è®¤1ï¼‰ï¼Œæ˜¯å¦åå‘æ’­æ”¾åŠ¨ç”»ï¼ˆé»˜è®¤normalï¼‰ï¼Œæ˜¯å¦æš‚åœåŠ¨ç”»ï¼ˆé»˜è®¤runningï¼‰</span></span><br><span class="line"><span class="comment">/*æ‰§è¡Œä¸€æ¬¡logo2-lineåŠ¨ç”»ï¼Œè¿åŠ¨æ—¶é—´2ç§’ï¼Œè¿åŠ¨æ›²çº¿ä¸º linear*/</span></span><br><span class="line"><span class="attr">animation</span>: logo2-line 2s linear;</span><br></pre></td></tr></table></figure>

<ul>
<li>å½¢çŠ¶è½¬æ¢</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//transform:é€‚ç”¨äº2Dæˆ–3Dè½¬æ¢çš„å…ƒç´ </span></span><br><span class="line"><span class="comment">//transform-originï¼šè½¬æ¢å…ƒç´ çš„ä½ç½®ï¼ˆå›´ç»•é‚£ä¸ªç‚¹è¿›è¡Œè½¬æ¢ï¼‰ã€‚é»˜è®¤(x,y,z)ï¼š(50%,50%,0)</span></span><br><span class="line"><span class="attr">transform</span>:<span class="title function_">translate</span>(30px,30px);</span><br><span class="line"><span class="attr">transform</span>:<span class="title function_">rotate</span>(30deg);</span><br><span class="line"><span class="attr">transform</span>:<span class="title function_">scale</span>(<span class="number">.8</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li><p>é€‰æ‹©å™¨:nth-of-type()</p>
</li>
<li><p>é˜´å½±<br>æ–‡å­—é˜´å½±: text-shadow: 2px 2px 2px #000;(æ°´å¹³é˜´å½±ï¼Œå‚ç›´é˜´å½±ï¼Œæ¨¡ç³Šè·ç¦»ï¼Œé˜´å½±é¢œè‰²) ç›’å­é˜´å½±: box-shadow: 10px 10px 5px #999</p>
</li>
<li><p>è¾¹æ¡† border-image: url(border.png);</p>
</li>
<li><p>èƒŒæ™¯</p>
</li>
<li><p>æ–‡å­—</p>
</li>
<li><p>æ¸å˜</p>
</li>
<li><p>Filterï¼ˆæ»¤é•œï¼‰</p>
</li>
<li><p>å¼¹æ€§å¸ƒå±€ã€æ …æ ¼å¸ƒå±€ã€å¤šåˆ—å¸ƒå±€</p>
</li>
<li><p>åª’ä½“æŸ¥è¯¢</p>
</li>
</ul>
<h3 id="position-å±æ€§çš„å€¼æœ‰å“ªäº›åŠå…¶åŒºåˆ«"><a href="#position-å±æ€§çš„å€¼æœ‰å“ªäº›åŠå…¶åŒºåˆ«" class="headerlink" title="position å±æ€§çš„å€¼æœ‰å“ªäº›åŠå…¶åŒºåˆ«"></a>position å±æ€§çš„å€¼æœ‰å“ªäº›åŠå…¶åŒºåˆ«</h3><p><strong>å›ºå®šå®šä½ fixed</strong>ï¼š å…ƒç´ çš„ä½ç½®ç›¸å¯¹äºæµè§ˆå™¨çª—å£æ˜¯å›ºå®šä½ç½®ï¼Œå³ä½¿çª—å£æ˜¯æ»šåŠ¨çš„å®ƒä¹Ÿä¸ä¼šç§»åŠ¨ã€‚Fixed å®š ä½ä½¿å…ƒç´ çš„ä½ç½®ä¸æ–‡æ¡£æµæ— å…³ï¼Œå› æ­¤ä¸å æ®ç©ºé—´ã€‚ Fixed å®šä½çš„å…ƒç´ å’Œå…¶ä»–å…ƒç´ é‡å ã€‚</p>
<p><strong>ç›¸å¯¹å®šä½ relative</strong>ï¼š å¦‚æœå¯¹ä¸€ä¸ªå…ƒç´ è¿›è¡Œç›¸å¯¹å®šä½ï¼Œå®ƒå°†å‡ºç°åœ¨å®ƒæ‰€åœ¨çš„ä½ç½®ä¸Šã€‚ç„¶åï¼Œå¯ä»¥é€šè¿‡è®¾ç½®å‚ç›´ æˆ–æ°´å¹³ä½ç½®ï¼Œè®©è¿™ä¸ªå…ƒç´ â€œç›¸å¯¹äºâ€å®ƒçš„èµ·ç‚¹è¿›è¡Œç§»åŠ¨ã€‚ åœ¨ä½¿ç”¨ç›¸å¯¹å®šä½æ—¶ï¼Œæ— è®ºæ˜¯ å¦è¿›è¡Œç§»åŠ¨ï¼Œå…ƒç´ ä»ç„¶å æ®åŸæ¥çš„ç©ºé—´ã€‚å› æ­¤ï¼Œç§»åŠ¨å…ƒç´ ä¼šå¯¼è‡´å®ƒè¦†ç›–å…¶å®ƒæ¡†ã€‚</p>
<p><strong>ç»å¯¹å®šä½ absolute</strong>ï¼š ç»å¯¹å®šä½çš„å…ƒç´ çš„ä½ç½®ç›¸å¯¹äºæœ€è¿‘çš„å·²å®šä½çˆ¶å…ƒç´ ï¼Œå¦‚æœå…ƒç´ æ²¡æœ‰å·²å®šä½çš„çˆ¶å…ƒç´ ï¼Œé‚£ ä¹ˆå®ƒçš„ä½ç½®ç›¸å¯¹äºã€‚absolute å®šä½ä½¿å…ƒç´ çš„ä½ç½®ä¸æ–‡æ¡£æµæ— å…³ï¼Œå› æ­¤ä¸å æ®ç©ºé—´ã€‚ absolute å®šä½çš„å…ƒç´ å’Œå…¶ä»–å…ƒç´ é‡å ã€‚</p>
<p><strong>ç²˜æ€§å®šä½ sticky</strong>ï¼š å…ƒç´ å…ˆæŒ‰ç…§æ™®é€šæ–‡æ¡£æµå®šä½ï¼Œç„¶åç›¸å¯¹äºè¯¥å…ƒç´ åœ¨æµä¸­çš„ flow rootï¼ˆBFCï¼‰å’Œ containing blockï¼ˆæœ€è¿‘çš„å—çº§ç¥–å…ˆå…ƒç´ ï¼‰å®šä½ã€‚è€Œåï¼Œå…ƒç´ å®šä½è¡¨ç°ä¸ºåœ¨è·¨è¶Šç‰¹å®šé˜ˆå€¼å‰ä¸ºç›¸å¯¹å®š ä½ï¼Œä¹‹åä¸ºå›ºå®šå®šä½ã€‚</p>
<p><strong>é»˜è®¤å®šä½ Static</strong>ï¼š é»˜è®¤å€¼ã€‚æ²¡æœ‰å®šä½ï¼Œå…ƒç´ å‡ºç°åœ¨æ­£å¸¸çš„æµä¸­ï¼ˆå¿½ç•¥ top, bottom, left, right æˆ–è€… z-index å£° æ˜ï¼‰ã€‚ inherit: è§„å®šåº”è¯¥ä»çˆ¶å…ƒç´ ç»§æ‰¿ position å±æ€§çš„å€¼ã€‚</p>
<h3 id="box-sizing-å±æ€§"><a href="#box-sizing-å±æ€§" class="headerlink" title="box-sizing å±æ€§"></a>box-sizing å±æ€§</h3><p>box-sizing è§„å®šä¸¤ä¸ªå¹¶æ’çš„å¸¦è¾¹æ¡†çš„æ¡†ï¼Œè¯­æ³•ä¸º box-sizingï¼šcontent-box&#x2F;border-box&#x2F;inherit</p>
<p><strong>content-box</strong>ï¼šå®½åº¦å’Œé«˜åº¦åˆ†åˆ«åº”ç”¨åˆ°å…ƒç´ çš„å†…å®¹æ¡†ï¼Œåœ¨å®½åº¦å’Œé«˜åº¦ä¹‹å¤–ç»˜åˆ¶å…ƒç´ çš„å†…è¾¹è·å’Œè¾¹æ¡†ã€‚ã€æ ‡å‡†ç›’å­æ¨¡å‹ã€‘</p>
<p><strong>border-box</strong>ï¼šä¸ºå…ƒç´ è®¾å®šçš„å®½åº¦å’Œé«˜åº¦å†³å®šäº†å…ƒç´ çš„è¾¹æ¡†ç›’ã€‚ã€IE ç›’å­æ¨¡å‹ã€‘</p>
<p><strong>inherit</strong>ï¼šç»§æ‰¿çˆ¶å…ƒç´ çš„ box-sizing å€¼ã€‚</p>
<h3 id="CSS-ç›’å­æ¨¡å‹"><a href="#CSS-ç›’å­æ¨¡å‹" class="headerlink" title="CSS ç›’å­æ¨¡å‹"></a>CSS ç›’å­æ¨¡å‹</h3><p>CSS ç›’æ¨¡å‹æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªç›’å­ï¼Œå®ƒåŒ…æ‹¬ï¼šè¾¹è·ï¼Œè¾¹æ¡†ï¼Œå¡«å……å’Œå®é™…å†…å®¹ã€‚CSS ä¸­çš„ç›’å­æ¨¡å‹åŒ…æ‹¬ IE ç›’å­æ¨¡å‹å’Œæ ‡å‡†çš„ W3C ç›’å­æ¨¡å‹ã€‚<br>åœ¨æ ‡å‡†çš„ç›’å­æ¨¡å‹ä¸­ï¼Œ<code>width æŒ‡ content éƒ¨åˆ†çš„å®½åº¦</code>ã€‚<br>åœ¨ IE ç›’å­æ¨¡å‹ä¸­ï¼Œ<code>width è¡¨ç¤º content+padding+border è¿™ä¸‰ä¸ªéƒ¨åˆ†çš„å®½åº¦</code>ã€‚</p>
<p>æ•…åœ¨è®¡ç®—ç›’å­çš„å®½åº¦æ—¶å­˜åœ¨å·®å¼‚ï¼š</p>
<p><strong>æ ‡å‡†ç›’æ¨¡å‹ï¼š</strong> ä¸€ä¸ªå—çš„æ€»å®½åº¦ &#x3D; width+margin(å·¦å³)+padding(å·¦å³)+border(å·¦å³)</p>
<p><strong>æ€ªå¼‚ç›’æ¨¡å‹ï¼š</strong> ä¸€ä¸ªå—çš„æ€»å®½åº¦ &#x3D; width+marginï¼ˆå·¦å³ï¼‰ï¼ˆæ—¢ width å·²ç»åŒ…å«äº† padding å’Œ border å€¼ï¼‰</p>
<h3 id="BFCï¼ˆå—çº§æ ¼å¼ä¸Šä¸‹æ–‡ï¼‰"><a href="#BFCï¼ˆå—çº§æ ¼å¼ä¸Šä¸‹æ–‡ï¼‰" class="headerlink" title="BFCï¼ˆå—çº§æ ¼å¼ä¸Šä¸‹æ–‡ï¼‰"></a>BFCï¼ˆå—çº§æ ¼å¼ä¸Šä¸‹æ–‡ï¼‰</h3><p><strong>BFC çš„æ¦‚å¿µ</strong></p>
<p><code>BFC</code> æ˜¯ <code>Block Formatting Context</code>çš„ç¼©å†™ï¼Œå³å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ã€‚<code>BFC</code>æ˜¯ CSS å¸ƒå±€çš„ä¸€ä¸ªæ¦‚å¿µï¼Œæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ¸²æŸ“åŒºåŸŸï¼Œè§„å®šäº†å†…éƒ¨ box å¦‚ä½•å¸ƒå±€ï¼Œ å¹¶ä¸”è¿™ä¸ªåŒºåŸŸçš„å­å…ƒç´ ä¸ä¼šå½±å“åˆ°å¤–é¢çš„å…ƒç´ ï¼Œå…¶ä¸­æ¯”è¾ƒé‡è¦çš„å¸ƒå±€è§„åˆ™æœ‰å†…éƒ¨ box å‚ç›´æ”¾ç½®ï¼Œè®¡ç®— BFC çš„é«˜åº¦çš„æ—¶å€™ï¼Œæµ®åŠ¨å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®—ã€‚</p>
<p><strong>BFC çš„åŸç†å¸ƒå±€è§„åˆ™</strong></p>
<ul>
<li>å†…éƒ¨çš„ Box ä¼šåœ¨<code>å‚ç›´æ–¹å‘</code>ï¼Œä¸€ä¸ªæ¥ä¸€ä¸ªåœ°æ”¾ç½®</li>
<li>Box<code>å‚ç›´æ–¹å‘çš„è·ç¦»ç”±marginå†³å®š</code>ã€‚å±äºåŒä¸€ä¸ª BFC çš„ä¸¤ä¸ªç›¸é‚» Box çš„ margin ä¼šå‘ç”Ÿé‡å </li>
<li>æ¯ä¸ªå…ƒç´ çš„ margin box çš„å·¦è¾¹ï¼Œ ä¸åŒ…å«å— border box çš„å·¦è¾¹ç›¸æ¥è§¦(å¯¹äºä»å·¦å¾€å³çš„æ ¼å¼åŒ–ï¼Œå¦åˆ™ç›¸å</li>
<li>BFC çš„åŒºåŸŸ<code>ä¸ä¼šä¸float boxé‡å </code></li>
<li>BFC æ˜¯ä¸€ä¸ªç‹¬ç«‹å®¹å™¨ï¼Œå®¹å™¨é‡Œé¢çš„<code>å­å…ƒç´ ä¸ä¼šå½±å“åˆ°å¤–é¢çš„å…ƒç´ </code></li>
<li>è®¡ç®— BFC çš„é«˜åº¦æ—¶ï¼Œ<code>æµ®åŠ¨å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®—é«˜åº¦</code></li>
<li>å…ƒç´ çš„ç±»å‹å’Œ<code>displayå±æ€§ï¼Œå†³å®šäº†è¿™ä¸ªBoxçš„ç±»å‹</code>ã€‚ä¸åŒç±»å‹çš„ Box ä¼šå‚ä¸ä¸åŒçš„<code>Formatting Context</code>ã€‚</li>
</ul>
<p><strong>å¦‚ä½•åˆ›å»º BFCï¼Ÿ</strong></p>
<ul>
<li>æ ¹å…ƒç´ ï¼Œå³ HTML å…ƒç´ </li>
<li>float çš„å€¼ä¸ä¸º none</li>
<li>position ä¸º absolute æˆ– fixed</li>
<li>display çš„å€¼ä¸º inline-blockã€table-cellã€table-caption</li>
<li>overflow çš„å€¼ä¸ä¸º visible</li>
</ul>
<p><strong>BFC çš„ä½¿ç”¨åœºæ™¯</strong></p>
<ul>
<li>å»é™¤è¾¹è·é‡å ç°è±¡</li>
<li>æ¸…é™¤æµ®åŠ¨ï¼ˆè®©çˆ¶å…ƒç´ çš„é«˜åº¦åŒ…å«å­æµ®åŠ¨å…ƒç´ ï¼‰</li>
<li>é¿å…æŸå…ƒç´ è¢«æµ®åŠ¨å…ƒç´ è¦†ç›–</li>
<li>é¿å…å¤šåˆ—å¸ƒå±€ç”±äºå®½åº¦è®¡ç®—å››èˆäº”å…¥è€Œè‡ªåŠ¨æ¢è¡Œ</li>
</ul>
<h3 id="è®©ä¸€ä¸ªå…ƒç´ æ°´å¹³å‚ç›´å±…ä¸­"><a href="#è®©ä¸€ä¸ªå…ƒç´ æ°´å¹³å‚ç›´å±…ä¸­" class="headerlink" title="è®©ä¸€ä¸ªå…ƒç´ æ°´å¹³å‚ç›´å±…ä¸­"></a>è®©ä¸€ä¸ªå…ƒç´ æ°´å¹³å‚ç›´å±…ä¸­</h3><ul>
<li><p><strong>æ°´å¹³å±…ä¸­</strong></p>
<ul>
<li><p>å¯¹äº è¡Œå†…å…ƒç´  : <code>text-align: center</code>;</p>
</li>
<li><p>å¯¹äºç¡®å®šå®½åº¦çš„å—çº§å…ƒç´ ï¼š</p>
<p>ï¼ˆ1ï¼‰width å’Œ margin å®ç°ã€‚<code>margin: 0 auto</code>;</p>
<p>ï¼ˆ2ï¼‰ç»å¯¹å®šä½å’Œ margin-left: margin-left: (çˆ¶ width - å­ widthï¼‰&#x2F;2, å‰ææ˜¯çˆ¶å…ƒç´  position: relative</p>
</li>
<li><p>å¯¹äºå®½åº¦æœªçŸ¥çš„å—çº§å…ƒç´ </p>
<p>ï¼ˆ1ï¼‰<code>tableæ ‡ç­¾é…åˆmarginå·¦å³autoå®ç°æ°´å¹³å±…ä¸­</code>ã€‚ä½¿ç”¨ table æ ‡ç­¾ï¼ˆæˆ–ç›´æ¥å°†å—çº§å…ƒç´ è®¾å€¼ä¸º display:tableï¼‰ï¼Œå†é€šè¿‡ç»™è¯¥æ ‡ç­¾æ·»åŠ å·¦å³ margin ä¸º autoã€‚</p>
<p>ï¼ˆ2ï¼‰inline-block å®ç°æ°´å¹³å±…ä¸­æ–¹æ³•ã€‚displayï¼šinline-block å’Œ text-align:center å®ç°æ°´å¹³å±…ä¸­ã€‚</p>
<p>ï¼ˆ3ï¼‰<code>ç»å¯¹å®šä½+transform</code>ï¼ŒtranslateX å¯ä»¥ç§»åŠ¨æœ¬èº«å…ƒç´ çš„ 50%ã€‚</p>
<p>ï¼ˆ4ï¼‰flex å¸ƒå±€ä½¿ç”¨<code>justify-content:center</code></p>
</li>
</ul>
</li>
<li><p><strong>å‚ç›´å±…ä¸­</strong></p>
<ol>
<li>åˆ©ç”¨ <code>line-height</code> å®ç°å±…ä¸­ï¼Œè¿™ç§æ–¹æ³•é€‚åˆçº¯æ–‡å­—ç±»</li>
<li>é€šè¿‡è®¾ç½®çˆ¶å®¹å™¨ ç›¸å¯¹å®šä½ ï¼Œå­çº§è®¾ç½® <code>ç»å¯¹å®šä½</code>ï¼Œæ ‡ç­¾é€šè¿‡ margin å®ç°è‡ªé€‚åº”å±…ä¸­</li>
<li>å¼¹æ€§å¸ƒå±€ flex :çˆ¶çº§è®¾ç½® display: flex; å­çº§è®¾ç½® margin ä¸º auto å®ç°è‡ªé€‚åº”å±…ä¸­</li>
<li>çˆ¶çº§è®¾ç½®ç›¸å¯¹å®šä½ï¼Œå­çº§è®¾ç½®ç»å¯¹å®šä½ï¼Œå¹¶ä¸”é€šè¿‡ä½ç§» transform å®ç°</li>
<li><code>table å¸ƒå±€</code>ï¼Œçˆ¶çº§é€šè¿‡è½¬æ¢æˆè¡¨æ ¼å½¢å¼ï¼Œ<code>ç„¶åå­çº§è®¾ç½® vertical-align å®ç°</code>ã€‚ï¼ˆéœ€è¦æ³¨æ„çš„æ˜¯ï¼švertical-align: middle ä½¿ç”¨çš„å‰ææ¡ä»¶æ˜¯å†…è”å…ƒç´ ä»¥åŠ display å€¼ä¸º table-cell çš„å…ƒç´ ï¼‰ã€‚</li>
</ol>
</li>
</ul>
<p>ä¼ é€é—¨ â˜ <a target="_blank" rel="noopener" href="https://juejin.cn/post/7008348524530106381"># å›¾è§£ CSS æ°´å¹³å‚ç›´å±…ä¸­å¸¸è§é¢è¯•æ–¹æ³•</a></p>
<h3 id="éšè—é¡µé¢ä¸­æŸä¸ªå…ƒç´ çš„æ–¹æ³•"><a href="#éšè—é¡µé¢ä¸­æŸä¸ªå…ƒç´ çš„æ–¹æ³•" class="headerlink" title="éšè—é¡µé¢ä¸­æŸä¸ªå…ƒç´ çš„æ–¹æ³•"></a>éšè—é¡µé¢ä¸­æŸä¸ªå…ƒç´ çš„æ–¹æ³•</h3><p>1.<code>opacityï¼š0</code>ï¼Œè¯¥å…ƒç´ éšè—èµ·æ¥äº†ï¼Œä½†ä¸ä¼šæ”¹å˜é¡µé¢å¸ƒå±€ï¼Œå¹¶ä¸”ï¼Œå¦‚æœè¯¥å…ƒç´ å·²ç»ç»‘å®š ä¸€äº›äº‹ä»¶ï¼Œå¦‚ click äº‹ä»¶ï¼Œé‚£ä¹ˆç‚¹å‡»è¯¥åŒºåŸŸï¼Œä¹Ÿèƒ½è§¦å‘ç‚¹å‡»äº‹ä»¶çš„</p>
<p>2.<code>visibilityï¼šhidden</code>ï¼Œè¯¥å…ƒç´ éšè—èµ·æ¥äº†ï¼Œä½†ä¸ä¼šæ”¹å˜é¡µé¢å¸ƒå±€ï¼Œä½†æ˜¯ä¸ä¼šè§¦å‘è¯¥å…ƒç´ å·² ç»ç»‘å®šçš„äº‹ä»¶ ï¼Œéšè—å¯¹åº”å…ƒç´ ï¼Œåœ¨æ–‡æ¡£å¸ƒå±€ä¸­ä»ä¿ç•™åŸæ¥çš„ç©ºé—´ï¼ˆé‡ç»˜ï¼‰</p>
<p>3.<code>displayï¼šnone</code>ï¼ŒæŠŠå…ƒç´ éšè—èµ·æ¥ï¼Œå¹¶ä¸”ä¼šæ”¹å˜é¡µé¢å¸ƒå±€ï¼Œå¯ä»¥ç†è§£æˆåœ¨é¡µé¢ä¸­æŠŠè¯¥å…ƒç´ ã€‚ ä¸æ˜¾ç¤ºå¯¹åº”çš„å…ƒç´ ï¼Œåœ¨æ–‡æ¡£å¸ƒå±€ä¸­ä¸å†åˆ†é…ç©ºé—´ï¼ˆå›æµ+é‡ç»˜ï¼‰</p>
<blockquote>
<p>è¯¥é—®é¢˜ä¼šå¼•å‡º å›æµå’Œé‡ç»˜</p>
</blockquote>
<h3 id="ç”¨-CSS-å®ç°ä¸‰è§’ç¬¦å·"><a href="#ç”¨-CSS-å®ç°ä¸‰è§’ç¬¦å·" class="headerlink" title="ç”¨ CSS å®ç°ä¸‰è§’ç¬¦å·"></a>ç”¨ CSS å®ç°ä¸‰è§’ç¬¦å·</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*è®°å¿†å£è¯€ï¼šç›’å­å®½é«˜å‡ä¸ºé›¶ï¼Œä¸‰é¢è¾¹æ¡†çš†é€æ˜ã€‚ */</span></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">	<span class="attribute">position</span>: absolute;</span><br><span class="line">	<span class="attribute">width</span>: <span class="number">0px</span>;</span><br><span class="line">	<span class="attribute">height</span>: <span class="number">0px</span>;</span><br><span class="line">	<span class="attribute">content</span>: <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">	<span class="attribute">border-right</span>: <span class="number">100px</span> solid transparent;</span><br><span class="line">	<span class="attribute">border-top</span>: <span class="number">100px</span> solid <span class="number">#ff0</span>;</span><br><span class="line">	<span class="attribute">border-left</span>: <span class="number">100px</span> solid transparent;</span><br><span class="line">	<span class="attribute">border-bottom</span>: <span class="number">100px</span> solid transparent;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="é¡µé¢å¸ƒå±€"><a href="#é¡µé¢å¸ƒå±€" class="headerlink" title="é¡µé¢å¸ƒå±€"></a>é¡µé¢å¸ƒå±€</h3><h4 id="1-Flex-å¸ƒå±€"><a href="#1-Flex-å¸ƒå±€" class="headerlink" title="1.Flex å¸ƒå±€"></a>1.Flex å¸ƒå±€</h4><p>å¸ƒå±€çš„ä¼ ç»Ÿè§£å†³æ–¹æ¡ˆï¼ŒåŸºäºç›’çŠ¶æ¨¡å‹ï¼Œä¾èµ– display å±æ€§ + position å±æ€§ + float å±æ€§ã€‚å®ƒå¯¹äºé‚£äº›ç‰¹æ®Šå¸ƒå±€éå¸¸ä¸æ–¹ä¾¿ï¼Œæ¯”å¦‚ï¼Œå‚ç›´å±…ä¸­å°±ä¸å®¹æ˜“å®ç°ã€‚</p>
<p>Flex æ˜¯ Flexible Box çš„ç¼©å†™ï¼Œæ„ä¸ºâ€å¼¹æ€§å¸ƒå±€â€,ç”¨æ¥ä¸ºç›’çŠ¶æ¨¡å‹æä¾›æœ€å¤§çš„çµæ´»æ€§ã€‚æŒ‡å®šå®¹å™¨ display: flex å³å¯ã€‚ ç®€å•çš„åˆ†ä¸ºå®¹å™¨å±æ€§å’Œå…ƒç´ å±æ€§ã€‚</p>
<p>å®¹å™¨çš„å±æ€§ï¼š</p>
<ul>
<li>flex-directionï¼šå†³å®šä¸»è½´çš„æ–¹å‘ï¼ˆå³å­ item çš„æ’åˆ—æ–¹æ³•ï¼‰flex-direction: row | row-reverse | column | column-reverse;</li>
<li>flex-wrapï¼šå†³å®šæ¢è¡Œè§„åˆ™ flex-wrap: nowrap | wrap | wrap-reverse;</li>
<li>flex-flowï¼š .box { flex-flow: || ; }</li>
<li>justify-contentï¼šå¯¹å…¶æ–¹å¼ï¼Œæ°´å¹³ä¸»è½´å¯¹é½æ–¹å¼</li>
<li>align-itemsï¼šå¯¹é½æ–¹å¼ï¼Œç«–ç›´è½´çº¿æ–¹å‘</li>
<li>align-content</li>
</ul>
<p>é¡¹ç›®çš„å±æ€§ï¼ˆå…ƒç´ çš„å±æ€§ï¼‰ï¼š</p>
<ul>
<li>order å±æ€§ï¼šå®šä¹‰é¡¹ç›®çš„æ’åˆ—é¡ºåºï¼Œé¡ºåºè¶Šå°ï¼Œæ’åˆ—è¶Šé å‰ï¼Œé»˜è®¤ä¸º 0</li>
<li>flex-grow å±æ€§ï¼šå®šä¹‰é¡¹ç›®çš„æ”¾å¤§æ¯”ä¾‹ï¼Œå³ä½¿å­˜åœ¨ç©ºé—´ï¼Œä¹Ÿä¸ä¼šæ”¾å¤§</li>
<li>flex-shrink å±æ€§ï¼šå®šä¹‰äº†é¡¹ç›®çš„ç¼©å°æ¯”ä¾‹ï¼Œå½“ç©ºé—´ä¸è¶³çš„æƒ…å†µä¸‹ä¼šç­‰æ¯”ä¾‹çš„ç¼©å°ï¼Œå¦‚æœ å®šä¹‰ä¸ª item çš„ flow-shrink ä¸º 0ï¼Œåˆ™ä¸ºä¸ç¼©å°</li>
<li>flex-basis å±æ€§ï¼šå®šä¹‰äº†åœ¨åˆ†é…å¤šä½™çš„ç©ºé—´ï¼Œé¡¹ç›®å æ®çš„ç©ºé—´ã€‚</li>
<li>flexï¼šæ˜¯ flex-grow å’Œ flex-shrinkã€flex-basis çš„ç®€å†™ï¼Œé»˜è®¤å€¼ä¸º 0 1 autoã€‚</li>
<li>align-selfï¼šå…è®¸å•ä¸ªé¡¹ç›®ä¸å…¶ä»–é¡¹ç›®ä¸ä¸€æ ·çš„å¯¹é½æ–¹å¼ï¼Œå¯ä»¥è¦†ç›–</li>
<li>align-itemsï¼Œé»˜è®¤å± æ€§ä¸º autoï¼Œè¡¨ç¤ºç»§æ‰¿çˆ¶å…ƒç´ çš„ align-items æ¯”å¦‚è¯´ï¼Œç”¨ flex å®ç°åœ£æ¯å¸ƒå±€</li>
</ul>
<h4 id="2-Rem-å¸ƒå±€"><a href="#2-Rem-å¸ƒå±€" class="headerlink" title="2.Rem å¸ƒå±€"></a>2.Rem å¸ƒå±€</h4><p>é¦–å…ˆ Rem ç›¸å¯¹äºæ ¹(html)çš„ font-size å¤§å°æ¥è®¡ç®—ã€‚ç®€å•çš„è¯´å®ƒå°±æ˜¯ä¸€ä¸ªç›¸å¯¹å•ä¾‹ å¦‚:font-size:10px;,é‚£ä¹ˆï¼ˆ1rem &#x3D; 10pxï¼‰äº†è§£è®¡ç®—åŸç†åé¦–å…ˆè§£å†³æ€ä¹ˆåœ¨ä¸åŒè®¾å¤‡ä¸Šè®¾ç½® html çš„ font-size å¤§å°ã€‚å…¶å® rem å¸ƒå±€çš„æœ¬è´¨æ˜¯ç­‰æ¯”ç¼©æ”¾ï¼Œä¸€èˆ¬æ˜¯åŸºäºå®½åº¦ã€‚</p>
<p><strong>ä¼˜ç‚¹</strong>ï¼šå¯ä»¥å¿«é€Ÿé€‚ç”¨ç§»åŠ¨ç«¯å¸ƒå±€ï¼Œå­—ä½“ï¼Œå›¾ç‰‡é«˜åº¦</p>
<p><strong>ç¼ºç‚¹</strong>ï¼š</p>
<p>â‘  ç›®å‰ ie ä¸æ”¯æŒï¼Œå¯¹ pc é¡µé¢æ¥è®²ä½¿ç”¨æ¬¡æ•°ä¸å¤šï¼›<br>â‘¡ æ•°æ®é‡å¤§ï¼šæ‰€æœ‰çš„å›¾ç‰‡ï¼Œç›’å­éƒ½éœ€è¦æˆ‘ä»¬å»ç»™ä¸€ä¸ªå‡†ç¡®çš„å€¼ï¼›æ‰èƒ½ä¿è¯ä¸åŒæœºå‹çš„é€‚é…ï¼›<br>â‘¢ åœ¨å“åº”å¼å¸ƒå±€ä¸­ï¼Œå¿…é¡»é€šè¿‡ js æ¥åŠ¨æ€æ§åˆ¶æ ¹å…ƒç´  font-size çš„å¤§å°ã€‚ä¹Ÿå°±æ˜¯è¯´ css æ ·å¼å’Œ js ä»£ç æœ‰ä¸€å®šçš„è€¦åˆæ€§ã€‚ä¸”å¿…é¡»å°†æ”¹å˜ font-size çš„ä»£ç æ”¾åœ¨ css æ ·å¼ä¹‹å‰ã€‚</p>
<h4 id="3-ç™¾åˆ†æ¯”å¸ƒå±€"><a href="#3-ç™¾åˆ†æ¯”å¸ƒå±€" class="headerlink" title="3.ç™¾åˆ†æ¯”å¸ƒå±€"></a>3.ç™¾åˆ†æ¯”å¸ƒå±€</h4><p>é€šè¿‡ç™¾åˆ†æ¯”å•ä½ â€œ % â€œ æ¥å®ç°å“åº”å¼çš„æ•ˆæœã€‚é€šè¿‡ç™¾åˆ†æ¯”å•ä½å¯ä»¥ä½¿å¾—æµè§ˆå™¨ä¸­çš„ç»„ä»¶çš„å®½å’Œé«˜éšç€æµè§ˆå™¨çš„å˜åŒ–è€Œå˜åŒ–ï¼Œä»è€Œå®ç°å“åº”å¼çš„æ•ˆæœã€‚ ç›´è§‚çš„ç†è§£ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šè®¤ä¸ºå­å…ƒç´ çš„ç™¾åˆ†æ¯”å®Œå…¨ç›¸å¯¹äºç›´æ¥çˆ¶å…ƒç´ ï¼Œheight ç™¾åˆ†æ¯”ç›¸ å¯¹äº heightï¼Œwidth ç™¾åˆ†æ¯”ç›¸å¯¹äº widthã€‚ paddingã€borderã€margin ç­‰ç­‰ä¸è®ºæ˜¯å‚ç›´æ–¹å‘è¿˜æ˜¯æ°´å¹³æ–¹å‘ï¼Œéƒ½ç›¸å¯¹äºç›´æ¥çˆ¶å…ƒç´ çš„ widthã€‚ é™¤äº† border-radius å¤–ï¼Œè¿˜æœ‰æ¯”å¦‚ translateã€background-size ç­‰éƒ½æ˜¯ç›¸å¯¹äºè‡ªèº«çš„ã€‚</p>
<p><strong>ç¼ºç‚¹</strong>ï¼š</p>
<p>ï¼ˆ1ï¼‰è®¡ç®—å›°éš¾<br>ï¼ˆ2ï¼‰å„ä¸ªå±æ€§ä¸­å¦‚æœä½¿ç”¨ç™¾åˆ†æ¯”ï¼Œç›¸å¯¹çˆ¶å…ƒç´ çš„å±æ€§å¹¶ä¸æ˜¯å”¯ä¸€çš„ã€‚é€ æˆæˆ‘ä»¬ä½¿ç”¨ç™¾åˆ†æ¯”å•ä½å®¹æ˜“ä½¿å¸ƒå±€é—®é¢˜å˜å¾—å¤æ‚ã€‚</p>
<h4 id="4-æµ®åŠ¨å¸ƒå±€"><a href="#4-æµ®åŠ¨å¸ƒå±€" class="headerlink" title="4.æµ®åŠ¨å¸ƒå±€"></a>4.æµ®åŠ¨å¸ƒå±€</h4><p>æµ®åŠ¨å¸ƒå±€:å½“å…ƒç´ æµ®åŠ¨ä»¥åå¯ä»¥å‘å·¦æˆ–å‘å³ç§»åŠ¨ï¼Œç›´åˆ°å®ƒçš„å¤–è¾¹ç¼˜ç¢°åˆ°åŒ…å«å®ƒçš„æ¡†æˆ–è€…å¦å¤–ä¸€ä¸ªæµ®åŠ¨å…ƒç´ çš„è¾¹æ¡†ä¸ºæ­¢ã€‚å…ƒç´ æµ®åŠ¨ä»¥åä¼šè„±ç¦»æ­£å¸¸çš„æ–‡æ¡£æµï¼Œæ‰€ä»¥æ–‡æ¡£çš„æ™®é€šæµä¸­çš„æ¡†å°±å˜çš„å¥½åƒæµ®åŠ¨å…ƒç´ ä¸å­˜åœ¨ä¸€æ ·ã€‚</p>
<p><strong>ä¼˜ç‚¹</strong></p>
<p>è¿™æ ·åšçš„ä¼˜ç‚¹å°±æ˜¯åœ¨å›¾æ–‡æ··æ’çš„æ—¶å€™å¯ä»¥å¾ˆå¥½çš„ä½¿æ–‡å­—ç¯ç»•åœ¨å›¾ç‰‡å‘¨å›´ã€‚å¦å¤–å½“å…ƒç´ æµ®åŠ¨äº†èµ·æ¥ä¹‹åï¼Œå®ƒæœ‰ç€å—çº§å…ƒç´ çš„ä¸€äº›æ€§è´¨ä¾‹å¦‚å¯ä»¥è®¾ç½®å®½é«˜ç­‰ï¼Œä½†å®ƒä¸ inline-block è¿˜æ˜¯æœ‰ä¸€äº›åŒºåˆ«çš„ï¼Œç¬¬ä¸€ä¸ªå°±æ˜¯å…³äºæ¨ªå‘æ’åºçš„æ—¶å€™ï¼Œfloat å¯ä»¥è®¾ç½®æ–¹å‘è€Œ inline-block æ–¹å‘æ˜¯å›ºå®šçš„ï¼›è¿˜æœ‰ä¸€ä¸ªå°±æ˜¯ inline-block åœ¨ä½¿ç”¨æ—¶æœ‰æ—¶ä¼šæœ‰ç©ºç™½é—´éš™çš„é—®é¢˜</p>
<p><strong>ç¼ºç‚¹</strong></p>
<p>æœ€æ˜æ˜¾çš„ç¼ºç‚¹å°±æ˜¯æµ®åŠ¨å…ƒç´ ä¸€æ—¦è„±ç¦»äº†æ–‡æ¡£æµï¼Œå°±æ— æ³•æ’‘èµ·çˆ¶å…ƒç´ ï¼Œ<code>ä¼šé€ æˆçˆ¶çº§å…ƒç´ é«˜åº¦å¡Œé™·</code>ã€‚</p>
<h3 id="å¦‚ä½•ä½¿ç”¨-rem-æˆ–-viewport-è¿›è¡Œç§»åŠ¨ç«¯é€‚é…"><a href="#å¦‚ä½•ä½¿ç”¨-rem-æˆ–-viewport-è¿›è¡Œç§»åŠ¨ç«¯é€‚é…" class="headerlink" title="å¦‚ä½•ä½¿ç”¨ rem æˆ– viewport è¿›è¡Œç§»åŠ¨ç«¯é€‚é…"></a>å¦‚ä½•ä½¿ç”¨ rem æˆ– viewport è¿›è¡Œç§»åŠ¨ç«¯é€‚é…</h3><p><strong>rem é€‚é…åŸç†ï¼š</strong></p>
<p>æ”¹å˜äº†ä¸€ä¸ªå…ƒç´ åœ¨ä¸åŒè®¾å¤‡ä¸Šå æ®çš„ css åƒç´ çš„ä¸ªæ•°</p>
<p>rem é€‚é…çš„ä¼˜ç¼ºç‚¹</p>
<ul>
<li>ä¼˜ç‚¹ï¼šæ²¡æœ‰ç ´åå®Œç¾è§†å£</li>
<li>ç¼ºç‚¹ï¼špx å€¼è½¬æ¢ rem å¤ªè¿‡äºå¤æ‚(ä¸‹é¢æˆ‘ä»¬ä½¿ç”¨ less æ¥è§£å†³è¿™ä¸ªé—®é¢˜)</li>
</ul>
<p><strong>viewport é€‚é…çš„åŸç†</strong></p>
<p>viewport é€‚é…æ–¹æ¡ˆä¸­ï¼Œæ¯ä¸€ä¸ªå…ƒç´ åœ¨ä¸åŒè®¾å¤‡ä¸Šå æ®çš„ css åƒç´ çš„ä¸ªæ•°æ˜¯ä¸€æ ·çš„ã€‚ä½†æ˜¯ css åƒç´ å’Œç‰©ç†åƒç´ çš„æ¯”ä¾‹æ˜¯ä¸ä¸€æ ·çš„ï¼Œç­‰æ¯”çš„</p>
<p>viewport é€‚é…çš„ä¼˜ç¼ºç‚¹</p>
<ul>
<li>åœ¨æˆ‘ä»¬è®¾è®¡å›¾ä¸Šæ‰€é‡å–çš„å¤§å°å³ä¸ºæˆ‘ä»¬å¯ä»¥è®¾ç½®çš„åƒç´ å¤§å°ï¼Œå³æ‰€é‡å³æ‰€è®¾</li>
<li>ç¼ºç‚¹ç ´åå®Œç¾è§†å£</li>
</ul>
<h3 id="æ¸…é™¤æµ®åŠ¨çš„æ–¹å¼"><a href="#æ¸…é™¤æµ®åŠ¨çš„æ–¹å¼" class="headerlink" title="æ¸…é™¤æµ®åŠ¨çš„æ–¹å¼"></a>æ¸…é™¤æµ®åŠ¨çš„æ–¹å¼</h3><ul>
<li>æ·»åŠ é¢å¤–æ ‡ç­¾</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;parent&quot;</span>&gt;</span></span><br><span class="line">	//æ·»åŠ é¢å¤–æ ‡ç­¾å¹¶ä¸”æ·»åŠ clearå±æ€§</span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;clear:both&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	//ä¹Ÿå¯ä»¥åŠ ä¸€ä¸ªbræ ‡ç­¾</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>çˆ¶çº§æ·»åŠ  overflow å±æ€§ï¼Œæˆ–è€…è®¾ç½®é«˜åº¦</li>
<li>å»ºç«‹ä¼ªç±»é€‰æ‹©å™¨æ¸…é™¤æµ®åŠ¨</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åœ¨cssä¸­æ·»åŠ :afterä¼ªå…ƒç´ </span></span><br><span class="line">.<span class="property">parent</span>:after&#123;</span><br><span class="line">    <span class="comment">/* è®¾ç½®æ·»åŠ å­å…ƒç´ çš„å†…å®¹æ˜¯ç©º */</span></span><br><span class="line">    <span class="attr">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="comment">/* è®¾ç½®æ·»åŠ å­å…ƒç´ ä¸ºå—çº§å…ƒç´  */</span></span><br><span class="line">    <span class="attr">display</span>: block;</span><br><span class="line">    <span class="comment">/* è®¾ç½®æ·»åŠ çš„å­å…ƒç´ çš„é«˜åº¦0 */</span></span><br><span class="line">    <span class="attr">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="comment">/* è®¾ç½®æ·»åŠ å­å…ƒç´ çœ‹ä¸è§ */</span></span><br><span class="line">    <span class="attr">visibility</span>: hidden;</span><br><span class="line">    <span class="comment">/* è®¾ç½®clearï¼šboth */</span></span><br><span class="line">    <span class="attr">clear</span>: both;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="CSS-é¢„å¤„ç†å™¨-Sassã€Lessã€Stylus-çš„åŒºåˆ«"><a href="#CSS-é¢„å¤„ç†å™¨-Sassã€Lessã€Stylus-çš„åŒºåˆ«" class="headerlink" title="CSS é¢„å¤„ç†å™¨ Sassã€Lessã€Stylus çš„åŒºåˆ«"></a>CSS é¢„å¤„ç†å™¨ Sassã€Lessã€Stylus çš„åŒºåˆ«</h3><p>ä»€ä¹ˆäº‹ CSS é¢„å¤„ç†å™¨?</p>
<p>CSS é¢„å¤„ç†å™¨æ˜¯ä¸€ç§è¯­è¨€ç”¨æ¥ä¸º CSS å¢åŠ ä¸€äº›å˜æˆçš„ç‰¹æ€§ï¼Œæ— éœ€è€ƒè™‘æµè§ˆå™¨å…¼å®¹é—®é¢˜ï¼Œä¾‹å¦‚ä½ å¯ä»¥åœ¨ CSS ä¸­ä½¿ç”¨å˜é‡ï¼Œç®€å•çš„ç¨‹åºé€»è¾‘ã€å‡½æ•°ç­‰åœ¨ç¼–ç¨‹è¯­è¨€ä¸­çš„ä¸€äº›åŸºæœ¬æŠ€å·§ï¼Œå¯ä»¥è®© CSS æ›´åŠ ç®€æ´ï¼Œé€‚åº”æ€§æ›´å¼ºï¼Œä»£ç æ›´ç›´è§‚ç­‰è¯¸å¤šå¥½å¤„<br>åŸºæœ¬è¯­æ³•åŒºåˆ«</p>
<p>Sass æ˜¯ä»¥.sass ä¸ºæ‰©å±•åï¼ŒLess æ˜¯ä»¥.less ä¸ºæ‰©å±•åï¼ŒStylus æ˜¯ä»¥.styl ä¸ºæ‰©å±•å<br>å˜é‡çš„åŒºåˆ«</p>
<p>Sass å˜é‡å¿…é¡»æ˜¯ä»¥<code>$</code>å¼€å¤´çš„ï¼Œç„¶åå˜é‡å’Œå€¼ä¹‹é—´ä½¿ç”¨å†’å·ï¼ˆï¼šï¼‰éš”å¼€ï¼Œå’Œ css å±æ€§æ˜¯ä¸€æ ·çš„ã€‚<br>Less å˜é‡æ˜¯ä»¥<code>@</code>å¼€å¤´çš„ï¼Œå…¶ä½™ sass éƒ½æ˜¯ä¸€æ ·çš„ã€‚<br>Stylus å¯¹å˜é‡æ˜¯æ²¡æœ‰ä»»ä½•è®¾å®šçš„ï¼Œå¯ä»¥æ˜¯ä»¥$å¼€å¤´æˆ–è€…ä»»æ„å­—ç¬¦ï¼Œè€Œä¸”å˜é‡ä¹‹é—´å¯ä»¥å†’å·ï¼Œç©ºæ ¼éš”å¼€ï¼Œä½†æ˜¯åœ¨ stylus ä¸­ä¸èƒ½ç”¨@å¼€å¤´<br>ä¸‰ç§é¢„å¤„ç†å™¨éƒ½æœ‰ï¼šåµŒå¥—ã€è¿ç®—ç¬¦ã€é¢œè‰²å‡½æ•°ã€å¯¼å…¥ã€ç»§æ‰¿ã€æ··å…¥ã€‚Stylus è¿˜æœ‰ä¸€äº›é«˜çº§ç‰¹æ€§ã€‚ä¾‹å¦‚å¾ªç¯ã€åˆ¤æ–­ç­‰</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://770746548.github.io/2025/02/28/HTML+CSS/" data-id="cmkgdulgr0000y4mhfyk544w5" data-title="ğŸ”¥ HTML &amp;&amp; CSS" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%85%AB%E8%82%A1%E6%96%87/" rel="tag">å‰ç«¯å…«è‚¡æ–‡</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-JavaScript" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/02/28/JavaScript/" class="article-date">
  <time class="dt-published" datetime="2025-02-28T01:00:00.000Z" itemprop="datePublished">2025-02-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/02/28/JavaScript/">ğŸ”¥ JavaScript</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><h3 id="JS-ä¸­çš„-8-ç§æ•°æ®ç±»å‹åŠåŒºåˆ«"><a href="#JS-ä¸­çš„-8-ç§æ•°æ®ç±»å‹åŠåŒºåˆ«" class="headerlink" title="JS ä¸­çš„ 8 ç§æ•°æ®ç±»å‹åŠåŒºåˆ«"></a>JS ä¸­çš„ 8 ç§æ•°æ®ç±»å‹åŠåŒºåˆ«</h3><p>åŒ…æ‹¬å€¼ç±»å‹(åŸºæœ¬å¯¹è±¡ç±»å‹)å’Œå¼•ç”¨ç±»å‹(å¤æ‚å¯¹è±¡ç±»å‹)</p>
<p><strong>åŸºæœ¬ç±»å‹(å€¼ç±»å‹)ï¼š</strong> Number(æ•°å­—),String(å­—ç¬¦ä¸²),Boolean(å¸ƒå°”),Symbol(ç¬¦å·),null(ç©º),undefined(æœªå®šä¹‰)åœ¨å†…å­˜ä¸­å æ®å›ºå®šå¤§å°ï¼Œä¿å­˜åœ¨æ ˆå†…å­˜ä¸­</p>
<p><strong>å¼•ç”¨ç±»å‹(å¤æ‚æ•°æ®ç±»å‹)ï¼š</strong> Object(å¯¹è±¡)ã€Function(å‡½æ•°)ã€‚å…¶ä»–è¿˜æœ‰ Array(æ•°ç»„)ã€Date(æ—¥æœŸ)ã€RegExp(æ­£åˆ™è¡¨è¾¾å¼)ã€ç‰¹æ®Šçš„åŸºæœ¬åŒ…è£…ç±»å‹(Stringã€Numberã€Boolean) ä»¥åŠå•ä½“å†…ç½®å¯¹è±¡(Globalã€Math)ç­‰ å¼•ç”¨ç±»å‹çš„å€¼æ˜¯å¯¹è±¡ ä¿å­˜åœ¨å †å†…å­˜ä¸­ï¼Œæ ˆå†…å­˜å­˜å‚¨çš„æ˜¯å¯¹è±¡çš„å˜é‡æ ‡è¯†ç¬¦ä»¥åŠå¯¹è±¡åœ¨å †å†…å­˜ä¸­çš„å­˜å‚¨åœ°å€ã€‚</p>
<p><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong></p>
<p>Symbolï¼šä½¿ç”¨ Symbol æ¥ä½œä¸ºå¯¹è±¡å±æ€§å(key) åˆ©ç”¨è¯¥ç‰¹æ€§ï¼ŒæŠŠä¸€äº›ä¸éœ€è¦å¯¹å¤–æ“ä½œå’Œè®¿é—®çš„å±æ€§ä½¿ç”¨ Symbol æ¥å®šä¹‰</p>
<p>BigIntï¼šç”±äºåœ¨ Number ä¸ BigInt ä¹‹é—´è¿›è¡Œè½¬æ¢ä¼šæŸå¤±ç²¾åº¦ï¼Œå› è€Œå»ºè®®ä»…åœ¨å€¼å¯èƒ½å¤§äº 253 æ—¶ä½¿ç”¨ BigInt ç±»å‹ï¼Œå¹¶ä¸”ä¸åœ¨ä¸¤ç§ç±»å‹ä¹‹é—´è¿›è¡Œç›¸äº’è½¬æ¢ã€‚</p>
<p>ä¼ é€é—¨ â˜<a target="_blank" rel="noopener" href="https://juejin.cn/post/7000754813801775111"># JavaScript æ•°æ®ç±»å‹ä¹‹ Symbolã€BigInt</a></p>
<h3 id="JS-ä¸­çš„æ•°æ®ç±»å‹æ£€æµ‹æ–¹æ¡ˆ"><a href="#JS-ä¸­çš„æ•°æ®ç±»å‹æ£€æµ‹æ–¹æ¡ˆ" class="headerlink" title="JS ä¸­çš„æ•°æ®ç±»å‹æ£€æµ‹æ–¹æ¡ˆ"></a>JS ä¸­çš„æ•°æ®ç±»å‹æ£€æµ‹æ–¹æ¡ˆ</h3><h4 id="1-typeof"><a href="#1-typeof" class="headerlink" title="1.typeof"></a>1.typeof</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="number">1</span>); <span class="comment">// number</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="literal">true</span>); <span class="comment">// boolean</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="string">&#x27;mc&#x27;</span>); <span class="comment">// string</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="title class_">Symbol</span>); <span class="comment">// function</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;&#125;); <span class="comment">// function</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="variable language_">console</span>.<span class="title function_">log</span>()); <span class="comment">// function</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> []); <span class="comment">// object</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> &#123;&#125;); <span class="comment">// object</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="literal">null</span>); <span class="comment">// object</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="literal">undefined</span>); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<p>ä¼˜ç‚¹ï¼šèƒ½å¤Ÿå¿«é€ŸåŒºåˆ†åŸºæœ¬æ•°æ®ç±»å‹</p>
<p>ç¼ºç‚¹ï¼šä¸èƒ½å°† Objectã€Array å’Œ Null åŒºåˆ†ï¼Œéƒ½è¿”å› object</p>
<h4 id="2-instanceof"><a href="#2-instanceof" class="headerlink" title="2.instanceof"></a>2.instanceof</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span> <span class="keyword">instanceof</span> <span class="title class_">Number</span>); <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="literal">true</span> <span class="keyword">instanceof</span> <span class="title class_">Boolean</span>); <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;str&#x27;</span> <span class="keyword">instanceof</span> <span class="title class_">String</span>); <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>([] <span class="keyword">instanceof</span> <span class="title class_">Array</span>); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;&#125; <span class="keyword">instanceof</span> <span class="title class_">Function</span>); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(&#123;&#125; <span class="keyword">instanceof</span> <span class="title class_">Object</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>ä¼˜ç‚¹ï¼šèƒ½å¤ŸåŒºåˆ† Arrayã€Object å’Œ Functionï¼Œé€‚åˆç”¨äºåˆ¤æ–­è‡ªå®šä¹‰çš„ç±»å®ä¾‹å¯¹è±¡</p>
<p>ç¼ºç‚¹ï¼šNumberï¼ŒBooleanï¼ŒString åŸºæœ¬æ•°æ®ç±»å‹ä¸èƒ½åˆ¤æ–­</p>
<h4 id="3-Object-prototype-toString-call"><a href="#3-Object-prototype-toString-call" class="headerlink" title="3.Object.prototype.toString.call()"></a>3.Object.prototype.toString.call()</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> toString = <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(toString.<span class="title function_">call</span>(<span class="number">1</span>)); <span class="comment">//[object Number]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(toString.<span class="title function_">call</span>(<span class="literal">true</span>)); <span class="comment">//[object Boolean]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(toString.<span class="title function_">call</span>(<span class="string">&#x27;mc&#x27;</span>)); <span class="comment">//[object String]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(toString.<span class="title function_">call</span>([])); <span class="comment">//[object Array]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(toString.<span class="title function_">call</span>(&#123;&#125;)); <span class="comment">//[object Object]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(toString.<span class="title function_">call</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;&#125;)); <span class="comment">//[object Function]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(toString.<span class="title function_">call</span>(<span class="literal">undefined</span>)); <span class="comment">//[object Undefined]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(toString.<span class="title function_">call</span>(<span class="literal">null</span>)); <span class="comment">//[object Null]</span></span><br></pre></td></tr></table></figure>

<p>ä¼˜ç‚¹ï¼šç²¾å‡†åˆ¤æ–­æ•°æ®ç±»å‹</p>
<p>ç¼ºç‚¹ï¼šå†™æ³•ç¹çä¸å®¹æ˜“è®°ï¼Œæ¨èè¿›è¡Œå°è£…åä½¿ç”¨</p>
<h4 id="instanceof-çš„ä½œç”¨"><a href="#instanceof-çš„ä½œç”¨" class="headerlink" title="instanceof çš„ä½œç”¨"></a>instanceof çš„ä½œç”¨</h4><p>ç”¨äºåˆ¤æ–­ä¸€ä¸ªå¼•ç”¨ç±»å‹æ˜¯å¦å±äºæŸæ„é€ å‡½æ•°ï¼›</p>
<p>è¿˜å¯ä»¥åœ¨ç»§æ‰¿å…³ç³»ä¸­ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªå®ä¾‹æ˜¯å¦å±äºå®ƒçš„çˆ¶ç±»å‹ã€‚</p>
<h4 id="instanceof-å’Œ-typeof-çš„åŒºåˆ«ï¼š"><a href="#instanceof-å’Œ-typeof-çš„åŒºåˆ«ï¼š" class="headerlink" title="instanceof å’Œ typeof çš„åŒºåˆ«ï¼š"></a>instanceof å’Œ typeof çš„åŒºåˆ«ï¼š</h4><p>typeof åœ¨å¯¹å€¼ç±»å‹ numberã€stringã€boolean ã€null ã€ undefinedã€ ä»¥åŠå¼•ç”¨ç±»å‹çš„ function çš„ååº”æ˜¯ç²¾å‡†çš„ï¼›ä½†æ˜¯ï¼Œå¯¹äºå¯¹è±¡{ } ã€æ•°ç»„[ ] ã€null éƒ½ä¼šè¿”å› object</p>
<p>ä¸ºäº†å¼¥è¡¥è¿™ä¸€ç‚¹ï¼Œinstanceof ä»åŸå‹çš„è§’åº¦ï¼Œæ¥åˆ¤æ–­æŸå¼•ç”¨å±äºå“ªä¸ªæ„é€ å‡½æ•°ï¼Œä»è€Œåˆ¤å®šå®ƒçš„æ•°æ®ç±»å‹ã€‚</p>
<h3 id="var-amp-amp-let-amp-amp-const"><a href="#var-amp-amp-let-amp-amp-const" class="headerlink" title="var &amp;&amp; let &amp;&amp; const"></a>var &amp;&amp; let &amp;&amp; const</h3><p>ES6 ä¹‹å‰åˆ›å»ºå˜é‡ç”¨çš„æ˜¯ var,ä¹‹ååˆ›å»ºå˜é‡ç”¨çš„æ˜¯ let&#x2F;const</p>
<p><strong>ä¸‰è€…åŒºåˆ«</strong>ï¼š</p>
<ol>
<li>var å®šä¹‰çš„å˜é‡ï¼Œ<code>æ²¡æœ‰å—çš„æ¦‚å¿µï¼Œå¯ä»¥è·¨å—è®¿é—®</code>, ä¸èƒ½è·¨å‡½æ•°è®¿é—®ã€‚<br>let å®šä¹‰çš„å˜é‡ï¼Œåªèƒ½åœ¨å—ä½œç”¨åŸŸé‡Œè®¿é—®ï¼Œä¸èƒ½è·¨å—è®¿é—®ï¼Œä¹Ÿä¸èƒ½è·¨å‡½æ•°è®¿é—®ã€‚<br>const ç”¨æ¥å®šä¹‰å¸¸é‡ï¼Œä½¿ç”¨æ—¶å¿…é¡»åˆå§‹åŒ–(å³å¿…é¡»èµ‹å€¼)ï¼Œåªèƒ½åœ¨å—ä½œç”¨åŸŸé‡Œè®¿é—®ï¼Œä¸”ä¸èƒ½ä¿®æ”¹ã€‚</li>
<li>var å¯ä»¥<code>å…ˆä½¿ç”¨ï¼Œåå£°æ˜</code>ï¼Œå› ä¸ºå­˜åœ¨å˜é‡æå‡ï¼›let å¿…é¡»å…ˆå£°æ˜åä½¿ç”¨ã€‚</li>
<li>var æ˜¯å…è®¸åœ¨ç›¸åŒä½œç”¨åŸŸå†…<code>é‡å¤å£°æ˜åŒä¸€ä¸ªå˜é‡</code>çš„ï¼Œè€Œ let ä¸ const ä¸å…è®¸è¿™ä¸€ç°è±¡ã€‚</li>
<li>åœ¨å…¨å±€ä¸Šä¸‹æ–‡ä¸­ï¼ŒåŸºäº let å£°æ˜çš„å…¨å±€å˜é‡å’Œå…¨å±€å¯¹è±¡ GOï¼ˆwindowï¼‰æ²¡æœ‰ä»»ä½•å…³ç³» ;<br>var å£°æ˜çš„å˜é‡ä¼šå’Œ GO æœ‰æ˜ å°„å…³ç³»ï¼›</li>
<li><code>ä¼šäº§ç”Ÿæš‚æ—¶æ€§æ­»åŒº</code>ï¼š</li>
</ol>
<blockquote>
<p>æš‚æ—¶æ€§æ­»åŒºæ˜¯æµè§ˆå™¨çš„ bugï¼šæ£€æµ‹ä¸€ä¸ªæœªè¢«å£°æ˜çš„å˜é‡ç±»å‹æ—¶ï¼Œä¸ä¼šæŠ¥é”™ï¼Œä¼šè¿”å› undefined<br>å¦‚ï¼šconsole.log(typeof a) &#x2F;&#x2F;undefined<br>è€Œï¼šconsole.log(typeof a)&#x2F;&#x2F;æœªå£°æ˜ä¹‹å‰ä¸èƒ½ä½¿ç”¨<br>let a</p>
</blockquote>
<ol start="6">
<li>let &#x2F;const&#x2F;function ä¼šæŠŠå½“å‰æ‰€åœ¨çš„å¤§æ‹¬å·(é™¤å‡½æ•°ä¹‹å¤–)ä½œä¸ºä¸€ä¸ªå…¨æ–°çš„å—çº§ä¸Šä¸‹æ–‡ï¼Œåº”ç”¨è¿™ä¸ªæœºåˆ¶ï¼Œåœ¨å¼€å‘é¡¹ç›®çš„æ—¶å€™ï¼Œé‡åˆ°å¾ªç¯äº‹ä»¶ç»‘å®šç­‰ç±»ä¼¼çš„éœ€æ±‚ï¼Œæ— éœ€å†è‡ªå·±æ„å»ºé—­åŒ…æ¥å­˜å‚¨ï¼Œåªè¦åŸºäº let çš„å—ä½œç”¨ç‰¹å¾å³å¯è§£å†³</li>
</ol>
<h3 id="ä½œç”¨åŸŸå’Œä½œç”¨åŸŸé“¾"><a href="#ä½œç”¨åŸŸå’Œä½œç”¨åŸŸé“¾" class="headerlink" title="ä½œç”¨åŸŸå’Œä½œç”¨åŸŸé“¾"></a>ä½œç”¨åŸŸå’Œä½œç”¨åŸŸé“¾</h3><p>åˆ›å»ºå‡½æ•°çš„æ—¶å€™ï¼Œå·²ç»å£°æ˜äº†å½“å‰å‡½æ•°çš„ä½œç”¨åŸŸ&#x3D;&#x3D;&gt;<code>å½“å‰åˆ›å»ºå‡½æ•°æ‰€å¤„çš„ä¸Šä¸‹æ–‡</code>ã€‚å¦‚æœæ˜¯åœ¨å…¨å±€ä¸‹åˆ›å»ºçš„å‡½æ•°å°±æ˜¯<code>[[scope]]:EC(G)</code>ï¼Œå‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œå½¢æˆä¸€ä¸ªå…¨æ–°çš„ç§æœ‰ä¸Šä¸‹æ–‡<code>EC(FN)</code>ï¼Œä¾›å­—ç¬¦ä¸²ä»£ç æ‰§è¡Œ(è¿›æ ˆæ‰§è¡Œ)</p>
<p>å®šä¹‰ï¼šç®€å•æ¥è¯´ä½œç”¨åŸŸå°±æ˜¯å˜é‡ä¸å‡½æ•°çš„å¯è®¿é—®èŒƒå›´ï¼Œ<code>ç”±å½“å‰ç¯å¢ƒä¸ä¸Šå±‚ç¯å¢ƒçš„ä¸€ç³»åˆ—å˜é‡å¯¹è±¡ç»„æˆ</code><br>1.å…¨å±€ä½œç”¨åŸŸï¼šä»£ç åœ¨ç¨‹åºçš„ä»»ä½•åœ°æ–¹éƒ½èƒ½è¢«è®¿é—®ï¼Œwindow å¯¹è±¡çš„å†…ç½®å±æ€§éƒ½æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸã€‚<br>2.å‡½æ•°ä½œç”¨åŸŸï¼šåœ¨å›ºå®šçš„ä»£ç ç‰‡æ®µæ‰èƒ½è¢«è®¿é—®</p>
<p>ä½œç”¨ï¼šä½œç”¨åŸŸæœ€å¤§çš„ç”¨å¤„å°±æ˜¯<code>éš”ç¦»å˜é‡</code>ï¼Œä¸åŒä½œç”¨åŸŸä¸‹åŒåå˜é‡ä¸ä¼šæœ‰å†²çªã€‚</p>
<p><strong>ä½œç”¨åŸŸé“¾å‚è€ƒé“¾æ¥</strong>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå˜é‡åˆ° åˆ›å»ºè¯¥å˜é‡ çš„å‡½æ•°çš„ä½œç”¨åŸŸä¸­å–å€¼ã€‚ä½†æ˜¯å¦‚æœåœ¨å½“å‰ä½œç”¨åŸŸä¸­æ²¡æœ‰æŸ¥åˆ°ï¼Œå°±ä¼šå‘ä¸Šçº§ä½œç”¨åŸŸå»æŸ¥ï¼Œç›´åˆ°æŸ¥åˆ°å…¨å±€ä½œç”¨åŸŸï¼Œè¿™ä¹ˆä¸€ä¸ªæŸ¥æ‰¾è¿‡ç¨‹å½¢æˆçš„é“¾æ¡å°±å«åšä½œç”¨åŸŸé“¾ã€‚</p>
<h3 id="é—­åŒ…çš„ä¸¤å¤§ä½œç”¨ï¼šä¿å­˜-x2F-ä¿æŠ¤"><a href="#é—­åŒ…çš„ä¸¤å¤§ä½œç”¨ï¼šä¿å­˜-x2F-ä¿æŠ¤" class="headerlink" title="é—­åŒ…çš„ä¸¤å¤§ä½œç”¨ï¼šä¿å­˜&#x2F;ä¿æŠ¤"></a>é—­åŒ…çš„ä¸¤å¤§ä½œç”¨ï¼šä¿å­˜&#x2F;ä¿æŠ¤</h3><ul>
<li><p><strong>é—­åŒ…çš„æ¦‚å¿µ</strong></p>
<p>å‡½æ•°æ‰§è¡Œæ—¶å½¢æˆçš„ç§æœ‰ä¸Šä¸‹æ–‡ EC(FN)ï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œä»£ç æ‰§è¡Œå®Œä¼šå‡ºæ ˆåé‡Šæ”¾;ä½†æ˜¯ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œå¦‚æœå½“å‰ç§æœ‰ä¸Šä¸‹æ–‡ä¸­çš„æŸä¸ªä¸œè¥¿è¢«ä¸Šä¸‹æ–‡ä»¥å¤–çš„äº‹ç‰©å ç”¨äº†ï¼Œåˆ™ä¸Šä¸‹æ–‡ä¸ä¼šå‡ºæ ˆé‡Šæ”¾ï¼Œä»è€Œå½¢æˆä¸é”€æ¯çš„ä¸Šä¸‹æ–‡ã€‚ å‡½æ•°æ‰§è¡Œå‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¼šå½¢æˆä¸€ä¸ªå…¨æ–°çš„ç§æœ‰ä¸Šä¸‹æ–‡ï¼Œå¯èƒ½ä¼šè¢«é‡Šæ”¾ï¼Œå¯èƒ½ä¸ä¼šè¢«é‡Šæ”¾ï¼Œä¸è®ºé‡Šæ”¾ä¸å¦ï¼Œä»–çš„ä½œç”¨æ˜¯ï¼š</p>
</li>
</ul>
<p>ï¼ˆ1ï¼‰ä¿æŠ¤ï¼šåˆ’åˆ†ä¸€ä¸ªç‹¬ç«‹çš„ä»£ç æ‰§è¡ŒåŒºåŸŸï¼Œåœ¨è¿™ä¸ªåŒºåŸŸä¸­æœ‰è‡ªå·±ç§æœ‰å˜é‡å­˜å‚¨çš„ç©ºé—´ï¼Œä¿æŠ¤è‡ªå·±çš„ç§æœ‰å˜é‡ä¸å—å¤–ç•Œå¹²æ‰°ï¼ˆæ“ä½œè‡ªå·±çš„ç§æœ‰å˜é‡å’Œå¤–ç•Œæ²¡æœ‰å…³ç³»ï¼‰ï¼›</p>
<p>ï¼ˆ2ï¼‰ä¿å­˜ï¼šå¦‚æœå½“å‰ä¸Šä¸‹æ–‡ä¸è¢«é‡Šæ”¾ã€åªè¦ä¸Šä¸‹æ–‡ä¸­çš„æŸä¸ªä¸œè¥¿è¢«å¤–éƒ¨å ç”¨å³å¯ã€‘ï¼Œåˆ™å­˜å‚¨çš„è¿™äº›ç§æœ‰å˜é‡ä¹Ÿä¸ä¼šè¢«é‡Šæ”¾ï¼Œå¯ä»¥ä¾›å…¶ä¸‹çº§ä¸Šä¸‹æ–‡ä¸­è°ƒå–ä½¿ç”¨ï¼Œç›¸å½“äºæŠŠä¸€äº›å€¼ä¿å­˜èµ·æ¥äº†ï¼›</p>
<p>æˆ‘ä»¬æŠŠå‡½æ•°æ‰§è¡Œå½¢æˆç§æœ‰ä¸Šä¸‹æ–‡ï¼Œæ¥ä¿æŠ¤å’Œä¿å­˜ç§æœ‰å˜é‡æœºåˆ¶ç§°ä¸º<code>é—­åŒ…</code>ã€‚</p>
<blockquote>
<p>é—­åŒ…æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡çš„å‡½æ•°â€“ã€ŠJavaScript é«˜çº§ç¨‹åºè®¾è®¡ã€‹</p>
</blockquote>
<p><strong>ç¨å…¨é¢çš„å›ç­”</strong>ï¼š åœ¨ js ä¸­å˜é‡çš„ä½œç”¨åŸŸå±äºå‡½æ•°ä½œç”¨åŸŸ, åœ¨å‡½æ•°æ‰§è¡Œå®Œå,ä½œç”¨åŸŸå°±ä¼šè¢«æ¸…ç†,å†…å­˜ä¹Ÿä¼šéšä¹‹è¢«å›æ”¶,ä½†æ˜¯ç”±äºé—­åŒ…å‡½æ•°æ˜¯å»ºç«‹åœ¨å‡½æ•°å†…éƒ¨çš„å­å‡½æ•°, ç”±äºå…¶å¯è®¿é—®ä¸Šçº§ä½œç”¨åŸŸ,å³ä½¿ä¸Šçº§å‡½æ•°æ‰§è¡Œå®Œ, ä½œç”¨åŸŸä¹Ÿä¸ä¼šéšä¹‹é”€æ¯, è¿™æ—¶çš„å­å‡½æ•°(ä¹Ÿå°±æ˜¯é—­åŒ…),ä¾¿æ‹¥æœ‰äº†è®¿é—®ä¸Šçº§ä½œç”¨åŸŸä¸­å˜é‡çš„æƒé™,å³ä½¿ä¸Šçº§å‡½æ•°æ‰§è¡Œå®Œåä½œç”¨åŸŸå†…çš„å€¼ä¹Ÿä¸ä¼šè¢«é”€æ¯ã€‚</p>
<ul>
<li><p><strong>é—­åŒ…çš„ç‰¹æ€§</strong>ï¼š</p>
<ul>
<li><p>1ã€å†…éƒ¨å‡½æ•°å¯ä»¥è®¿é—®å®šä¹‰ä»–ä»¬å¤–éƒ¨å‡½æ•°çš„å‚æ•°å’Œå˜é‡ã€‚(ä½œç”¨åŸŸé“¾çš„å‘ä¸ŠæŸ¥æ‰¾ï¼ŒæŠŠå¤–å›´çš„ä½œç”¨åŸŸä¸­çš„å˜é‡å€¼å­˜å‚¨åœ¨å†…å­˜ä¸­è€Œä¸æ˜¯åœ¨å‡½æ•°è°ƒç”¨å®Œæ¯•åé”€æ¯)è®¾è®¡ç§æœ‰çš„æ–¹æ³•å’Œå˜é‡ï¼Œé¿å…å…¨å±€å˜é‡çš„æ±¡æŸ“ã€‚</p>
<p>1.1.é—­åŒ…æ˜¯å¯†é—­çš„å®¹å™¨ï¼Œï¼Œç±»ä¼¼äº setã€map å®¹å™¨ï¼Œå­˜å‚¨æ•°æ®çš„</p>
<p>1.2.é—­åŒ…æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå­˜æ”¾æ•°æ®çš„æ ¼å¼ä¸º key-value å½¢å¼</p>
</li>
<li><p>2ã€å‡½æ•°åµŒå¥—å‡½æ•°</p>
</li>
<li><p>3ã€æœ¬è´¨æ˜¯å°†å‡½æ•°å†…éƒ¨å’Œå¤–éƒ¨è¿æ¥èµ·æ¥ã€‚ä¼˜ç‚¹æ˜¯å¯ä»¥è¯»å–å‡½æ•°å†…éƒ¨çš„å˜é‡ï¼Œè®©è¿™äº›å˜é‡çš„å€¼å§‹ç»ˆä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œä¸ä¼šåœ¨å‡½æ•°è¢«è°ƒç”¨ä¹‹åè‡ªåŠ¨æ¸…é™¤</p>
</li>
</ul>
</li>
<li><p><strong>é—­åŒ…å½¢æˆçš„æ¡ä»¶</strong>ï¼š</p>
<ol>
<li>å‡½æ•°çš„åµŒå¥—</li>
<li>å†…éƒ¨å‡½æ•°å¼•ç”¨å¤–éƒ¨å‡½æ•°çš„å±€éƒ¨å˜é‡ï¼Œå»¶é•¿å¤–éƒ¨å‡½æ•°çš„å˜é‡ç”Ÿå‘½å‘¨æœŸ</li>
</ol>
</li>
<li><p><strong>é—­åŒ…çš„ç”¨é€”</strong>ï¼š</p>
<ol>
<li>æ¨¡ä»¿å—çº§ä½œç”¨åŸŸ</li>
<li>ä¿æŠ¤å¤–éƒ¨å‡½æ•°çš„å˜é‡ èƒ½å¤Ÿè®¿é—®å‡½æ•°å®šä¹‰æ—¶æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸ(é˜»æ­¢å…¶è¢«å›æ”¶)</li>
<li>å°è£…ç§æœ‰åŒ–å˜é‡</li>
<li>åˆ›å»ºæ¨¡å—</li>
</ol>
</li>
<li><p><strong>é—­åŒ…åº”ç”¨åœºæ™¯</strong></p>
<p>é—­åŒ…çš„ä¸¤ä¸ªåœºæ™¯ï¼Œé—­åŒ…çš„ä¸¤å¤§ä½œç”¨ï¼š<code>ä¿å­˜/ä¿æŠ¤</code>ã€‚ åœ¨å¼€å‘ä¸­, å…¶å®æˆ‘ä»¬éšå¤„å¯è§é—­åŒ…çš„èº«å½±, å¤§éƒ¨åˆ†å‰ç«¯ JavaScript ä»£ç éƒ½æ˜¯â€œäº‹ä»¶é©±åŠ¨â€çš„,å³ä¸€ä¸ªäº‹ä»¶ç»‘å®šçš„å›è°ƒæ–¹æ³•; å‘é€ ajax è¯·æ±‚æˆåŠŸ|å¤±è´¥çš„å›è°ƒ;setTimeout çš„å»¶æ—¶å›è°ƒ;æˆ–è€…ä¸€ä¸ªå‡½æ•°å†…éƒ¨è¿”å›å¦ä¸€ä¸ªåŒ¿åå‡½æ•°,è¿™äº›éƒ½æ˜¯é—­åŒ…çš„åº”ç”¨ã€‚</p>
</li>
<li><p><strong>é—­åŒ…çš„ä¼˜ç‚¹</strong>ï¼šå»¶é•¿å±€éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ</p>
</li>
<li><p><strong>é—­åŒ…ç¼ºç‚¹</strong>ï¼šä¼šå¯¼è‡´å‡½æ•°çš„å˜é‡ä¸€ç›´ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œè¿‡å¤šçš„é—­åŒ…å¯èƒ½ä¼šå¯¼è‡´å†…å­˜æ³„æ¼</p>
</li>
</ul>
<h3 id="JS-ä¸­-this-çš„æƒ…å†µ"><a href="#JS-ä¸­-this-çš„æƒ…å†µ" class="headerlink" title="JS ä¸­ this çš„æƒ…å†µ"></a>JS ä¸­ this çš„æƒ…å†µ</h3><ol>
<li>æ™®é€šå‡½æ•°è°ƒç”¨ï¼šé€šè¿‡å‡½æ•°å()ç›´æ¥è°ƒç”¨ï¼š<code>this</code>æŒ‡å‘<code>å…¨å±€å¯¹è±¡window</code>ï¼ˆæ³¨æ„ let å®šä¹‰çš„å˜é‡ä¸æ˜¯ window å±æ€§ï¼Œåªæœ‰ window.xxx å®šä¹‰çš„æ‰æ˜¯ã€‚å³ let a &#x3D;â€™aaaâ€™; this.a æ˜¯ undefinedï¼‰</li>
<li>æ„é€ å‡½æ•°è°ƒç”¨ï¼šå‡½æ•°ä½œä¸ºæ„é€ å‡½æ•°ï¼Œç”¨ new å…³é”®å­—è°ƒç”¨æ—¶ï¼š<code>this</code>æŒ‡å‘<code>æ–°newå‡ºçš„å¯¹è±¡</code></li>
<li>å¯¹è±¡å‡½æ•°è°ƒç”¨ï¼šé€šè¿‡å¯¹è±¡.å‡½æ•°å()è°ƒç”¨çš„ï¼š<code>this</code>æŒ‡å‘<code>è¿™ä¸ªå¯¹è±¡</code></li>
<li>ç®­å¤´å‡½æ•°è°ƒç”¨ï¼šç®­å¤´å‡½æ•°é‡Œé¢æ²¡æœ‰ this ï¼Œæ‰€ä»¥<code>æ°¸è¿œæ˜¯ä¸Šå±‚ä½œç”¨åŸŸthis</code>ï¼ˆä¸Šä¸‹æ–‡ï¼‰</li>
<li>apply å’Œ call è°ƒç”¨ï¼šå‡½æ•°ä½“å†… this çš„æŒ‡å‘çš„æ˜¯ call&#x2F;apply æ–¹æ³•<code>ç¬¬ä¸€ä¸ªå‚æ•°</code>ï¼Œè‹¥ä¸ºç©ºé»˜è®¤æ˜¯æŒ‡å‘å…¨å±€å¯¹è±¡ windowã€‚</li>
<li>å‡½æ•°ä½œä¸ºæ•°ç»„çš„ä¸€ä¸ªå…ƒç´ ï¼Œé€šè¿‡æ•°ç»„ä¸‹æ ‡è°ƒç”¨çš„ï¼šthis æŒ‡å‘è¿™ä¸ªæ•°ç»„</li>
<li>å‡½æ•°ä½œä¸º window å†…ç½®å‡½æ•°çš„å›è°ƒå‡½æ•°è°ƒç”¨ï¼šthis æŒ‡å‘ windowï¼ˆå¦‚ setInterval setTimeout ç­‰ï¼‰</li>
</ol>
<h3 id="call-x2F-apply-x2F-bind-çš„åŒºåˆ«"><a href="#call-x2F-apply-x2F-bind-çš„åŒºåˆ«" class="headerlink" title="call&#x2F;apply&#x2F;bind çš„åŒºåˆ«"></a>call&#x2F;apply&#x2F;bind çš„åŒºåˆ«</h3><p>ç›¸åŒï¼š</p>
<p>1ã€éƒ½æ˜¯ç”¨æ¥æ”¹å˜å‡½æ•°çš„ this å¯¹è±¡çš„æŒ‡å‘çš„ã€‚<br>2ã€ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯ this è¦æŒ‡å‘çš„å¯¹è±¡ã€‚<br>3ã€éƒ½å¯ä»¥åˆ©ç”¨åç»­å‚æ•°ä¼ å‚ã€‚</p>
<p>ä¸åŒï¼š</p>
<p>apply å’Œ call ä¼ å…¥çš„å‚æ•°åˆ—è¡¨å½¢å¼ä¸åŒã€‚apply æ¥æ”¶ argumentsï¼Œcall æ¥æ”¶ä¸€ä¸²å‚æ•°åˆ—è¡¨</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fn.call(obj, 1, 2);</span><br><span class="line">fn.apply(obj, [1, 2]);</span><br></pre></td></tr></table></figure>

<p>bindï¼šè¯­æ³•å’Œ call ä¸€æ¨¡ä¸€æ ·ï¼ŒåŒºåˆ«åœ¨äºç«‹å³æ‰§è¡Œè¿˜æ˜¯ç­‰å¾…æ‰§è¡Œï¼Œbind ä¸å…¼å®¹ IE6~8<br>bind ä¸»è¦å°±æ˜¯å°†å‡½æ•°ç»‘å®šåˆ°æŸä¸ªå¯¹è±¡ï¼Œbind()ä¼šåˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›å¯¹åº”å‡½æ•°ä¾¿äºç¨åè°ƒç”¨ï¼›è€Œ applyã€call åˆ™æ˜¯ç«‹å³è°ƒç”¨ã€‚</p>
<p>æ€»ç»“ï¼šåŸºäº Function.prototype ä¸Šçš„ <code>apply ã€ call å’Œ bind</code>è°ƒç”¨æ¨¡å¼ï¼Œè¿™ä¸‰ä¸ªæ–¹æ³•éƒ½å¯ä»¥æ˜¾ç¤ºçš„æŒ‡å®šè°ƒç”¨å‡½æ•°çš„ this æŒ‡å‘ã€‚<code>apply</code>æ¥æ”¶å‚æ•°çš„æ˜¯æ•°ç»„ï¼Œ<code>call</code>æ¥å—å‚æ•°åˆ—è¡¨ï¼Œ&#96;&#96; bind<code>æ–¹æ³•é€šè¿‡ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œè¿”å›ä¸€ä¸ª</code> this <code>ç»‘å®šäº†ä¼ å…¥å¯¹è±¡çš„æ–°å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°çš„</code>this<code>æŒ‡å‘é™¤äº†ä½¿ç”¨</code>new &#96;æ—¶ä¼šè¢«æ”¹å˜ï¼Œå…¶ä»–æƒ…å†µä¸‹éƒ½ä¸ä¼šæ”¹å˜ã€‚è‹¥ä¸ºç©ºé»˜è®¤æ˜¯æŒ‡å‘å…¨å±€å¯¹è±¡ windowã€‚</p>
<p>å‚è€ƒï¼šâ˜ <a target="_blank" rel="noopener" href="https://blog.csdn.net/hexinyu_1022/article/details/82795517">callã€applyã€bind ä¸‰è€…çš„ç”¨æ³•å’ŒåŒºåˆ«</a></p>
<h3 id="ç®­å¤´å‡½æ•°çš„ç‰¹æ€§"><a href="#ç®­å¤´å‡½æ•°çš„ç‰¹æ€§" class="headerlink" title="ç®­å¤´å‡½æ•°çš„ç‰¹æ€§"></a>ç®­å¤´å‡½æ•°çš„ç‰¹æ€§</h3><ol>
<li><code>ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„this</code>ï¼Œä¼šæ•è·å…¶æ‰€åœ¨çš„ä¸Šä¸‹æ–‡çš„ this å€¼ï¼Œä½œä¸ºè‡ªå·±çš„ this å€¼</li>
<li><code>ç®­å¤´å‡½æ•°æ²¡æœ‰constructor</code>ï¼Œæ˜¯åŒ¿åå‡½æ•°ï¼Œä¸èƒ½ä½œä¸ºæ„é€ å‡½æ•°ï¼Œä¸èƒ½é€šè¿‡ new è°ƒç”¨ï¼›</li>
<li><code>æ²¡æœ‰new.target å±æ€§</code>ã€‚åœ¨é€šè¿‡ new è¿ç®—ç¬¦è¢«åˆå§‹åŒ–çš„å‡½æ•°æˆ–æ„é€ æ–¹æ³•ä¸­ï¼Œnew.target è¿”å›ä¸€ä¸ªæŒ‡å‘æ„é€ æ–¹æ³•æˆ–å‡½æ•°çš„å¼•ç”¨ã€‚åœ¨æ™®é€šçš„å‡½æ•°è°ƒç”¨ä¸­ï¼Œnew.target çš„å€¼æ˜¯ undefined</li>
<li><code>ç®­å¤´å‡½æ•°ä¸ç»‘å®šArguments å¯¹è±¡</code>ã€‚å–è€Œä»£ä¹‹ç”¨ rest å‚æ•°â€¦è§£å†³ã€‚ç”±äº ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„ this æŒ‡é’ˆï¼Œé€šè¿‡ call() æˆ– apply() æ–¹æ³•è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œåªèƒ½ä¼ é€’å‚æ•°ï¼ˆä¸èƒ½ç»‘å®š thisï¼‰ï¼Œä»–ä»¬çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¼šè¢«å¿½ç•¥ã€‚ï¼ˆè¿™ç§ç°è±¡å¯¹äº bind æ–¹æ³•åŒæ ·æˆç«‹ï¼‰</li>
<li>ç®­å¤´å‡½æ•°é€šè¿‡ call() æˆ– apply() æ–¹æ³•è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œåªä¼ å…¥äº†ä¸€ä¸ªå‚æ•°ï¼Œå¯¹ this å¹¶æ²¡æœ‰å½±å“ã€‚</li>
<li>ç®­å¤´å‡½æ•°æ²¡æœ‰åŸå‹å±æ€§ Fn.prototype å€¼ä¸º undefined</li>
<li>ç®­å¤´å‡½æ•°ä¸èƒ½å½“åš Generator å‡½æ•°,ä¸èƒ½ä½¿ç”¨ yield å…³é”®å­—</li>
</ol>
<p>å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://www.cnblogs.com/biubiuxixiya/p/8610594.html">ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°çš„åŒºåˆ«</a></p>
<h3 id="åŸå‹-amp-amp-åŸå‹é“¾"><a href="#åŸå‹-amp-amp-åŸå‹é“¾" class="headerlink" title="åŸå‹ &amp;&amp; åŸå‹é“¾"></a>åŸå‹ &amp;&amp; åŸå‹é“¾</h3><p><strong>åŸå‹å…³ç³»ï¼š</strong></p>
<ul>
<li>æ¯ä¸ª class éƒ½æœ‰æ˜¾ç¤ºåŸå‹ prototype</li>
<li>æ¯ä¸ªå®ä¾‹éƒ½æœ‰éšå¼åŸå‹ <code>__proto__</code></li>
<li>å®ä¾‹çš„ <code>__proto__</code> æŒ‡å‘å¯¹åº” class çš„ prototype</li>
</ul>
<p>â€Œ <strong>åŸå‹:</strong> åœ¨ JS ä¸­ï¼Œæ¯å½“å®šä¹‰ä¸€ä¸ªå¯¹è±¡ï¼ˆå‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡ï¼‰æ—¶ï¼Œå¯¹è±¡ä¸­éƒ½ä¼šåŒ…å«ä¸€äº›é¢„å®šä¹‰çš„å±æ€§ã€‚å…¶ä¸­æ¯ä¸ª<code>å‡½æ•°å¯¹è±¡</code>éƒ½æœ‰ä¸€ä¸ª<code>prototype</code> å±æ€§ï¼Œè¿™ä¸ªå±æ€§æŒ‡å‘å‡½æ•°çš„<code>åŸå‹å¯¹è±¡</code>ã€‚</p>
<p>åŸå‹é“¾ï¼šå‡½æ•°çš„åŸå‹é“¾å¯¹è±¡ constructor é»˜è®¤æŒ‡å‘å‡½æ•°æœ¬èº«ï¼ŒåŸå‹å¯¹è±¡é™¤äº†æœ‰åŸå‹å±æ€§å¤–ï¼Œä¸ºäº†å®ç°ç»§æ‰¿ï¼Œè¿˜æœ‰ä¸€ä¸ªåŸå‹é“¾æŒ‡é’ˆ<strong>proto</strong>,è¯¥æŒ‡é’ˆæ˜¯æŒ‡å‘ä¸Šä¸€å±‚çš„åŸå‹å¯¹è±¡ï¼Œè€Œä¸Šä¸€å±‚çš„åŸå‹å¯¹è±¡çš„ç»“æ„ä¾ç„¶ç±»ä¼¼ã€‚å› æ­¤å¯ä»¥åˆ©ç”¨<strong>proto</strong>ä¸€ç›´æŒ‡å‘ Object çš„åŸå‹å¯¹è±¡ä¸Šï¼Œè€Œ Object åŸå‹å¯¹è±¡ç”¨ Object.prototype.** proto** &#x3D; null è¡¨ç¤ºåŸå‹é“¾é¡¶ç«¯ã€‚å¦‚æ­¤å½¢æˆäº† js çš„åŸå‹é“¾ç»§æ‰¿ã€‚åŒæ—¶æ‰€æœ‰çš„ js å¯¹è±¡éƒ½æœ‰ Object çš„åŸºæœ¬é˜²èŒƒ</p>
<p><strong>ç‰¹ç‚¹:</strong> <code>JavaScript</code>å¯¹è±¡æ˜¯é€šè¿‡å¼•ç”¨æ¥ä¼ é€’çš„ï¼Œæˆ‘ä»¬åˆ›å»ºçš„æ¯ä¸ªæ–°å¯¹è±¡å®ä½“ä¸­å¹¶æ²¡æœ‰ä¸€ä»½å±äºè‡ªå·±çš„åŸå‹å‰¯æœ¬ã€‚å½“æˆ‘ä»¬ä¿®æ”¹åŸå‹æ—¶ï¼Œä¸ä¹‹ç›¸å…³çš„å¯¹è±¡ä¹Ÿä¼šç»§æ‰¿è¿™ä¸€æ”¹å˜ã€‚</p>
<h3 id="new-è¿ç®—ç¬¦çš„å®ç°æœºåˆ¶"><a href="#new-è¿ç®—ç¬¦çš„å®ç°æœºåˆ¶" class="headerlink" title="new è¿ç®—ç¬¦çš„å®ç°æœºåˆ¶"></a>new è¿ç®—ç¬¦çš„å®ç°æœºåˆ¶</h3><ol>
<li>é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„<code>ç©ºå¯¹è±¡</code></li>
<li><code>è®¾ç½®åŸå‹</code>ï¼Œå°†å¯¹è±¡çš„åŸå‹è®¾ç½®ä¸ºå‡½æ•°çš„<code>prototype</code>å¯¹è±¡ã€‚</li>
<li>è®©å‡½æ•°çš„<code>this</code>æŒ‡å‘è¿™ä¸ªå¯¹è±¡ï¼Œæ‰§è¡Œæ„é€ å‡½æ•°çš„ä»£ç ï¼ˆä¸ºè¿™ä¸ªæ–°å¯¹è±¡æ·»åŠ å±æ€§ï¼‰</li>
<li>åˆ¤æ–­å‡½æ•°çš„è¿”å›å€¼ç±»å‹ï¼Œå¦‚æœæ˜¯å€¼ç±»å‹ï¼Œè¿”å›åˆ›å»ºçš„å¯¹è±¡ã€‚å¦‚æœæ˜¯å¼•ç”¨ç±»å‹ï¼Œå°±è¿”å›è¿™ä¸ªå¼•ç”¨ç±»å‹çš„å¯¹è±¡ã€‚</li>
</ol>
<h3 id="EventLoop-äº‹ä»¶å¾ªç¯"><a href="#EventLoop-äº‹ä»¶å¾ªç¯" class="headerlink" title="EventLoop äº‹ä»¶å¾ªç¯"></a>EventLoop äº‹ä»¶å¾ªç¯</h3><p><code>JS</code>æ˜¯å•çº¿ç¨‹çš„ï¼Œä¸ºäº†é˜²æ­¢ä¸€ä¸ªå‡½æ•°æ‰§è¡Œæ—¶é—´è¿‡é•¿é˜»å¡åé¢çš„ä»£ç ï¼Œæ‰€ä»¥ä¼šå…ˆå°†åŒæ­¥ä»£ç å‹å…¥æ‰§è¡Œæ ˆä¸­ï¼Œä¾æ¬¡æ‰§è¡Œï¼Œå°†å¼‚æ­¥ä»£ç æ¨å…¥å¼‚æ­¥é˜Ÿåˆ—ï¼Œå¼‚æ­¥é˜Ÿåˆ—åˆåˆ†ä¸ºå®ä»»åŠ¡é˜Ÿåˆ—å’Œå¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå› ä¸ºå®ä»»åŠ¡é˜Ÿåˆ—çš„æ‰§è¡Œæ—¶é—´è¾ƒé•¿ï¼Œæ‰€ä»¥å¾®ä»»åŠ¡é˜Ÿåˆ—è¦ä¼˜å…ˆäºå®ä»»åŠ¡é˜Ÿåˆ—ã€‚å¾®ä»»åŠ¡é˜Ÿåˆ—çš„ä»£è¡¨å°±æ˜¯ï¼Œ<code>Promise.then</code>ï¼Œ<code>MutationObserver</code>ï¼Œå®ä»»åŠ¡çš„è¯å°±æ˜¯<code>setImmediate setTimeout setInterval</code></p>
<p>JS è¿è¡Œçš„ç¯å¢ƒã€‚ä¸€èˆ¬ä¸ºæµè§ˆå™¨æˆ–è€… Nodeã€‚ åœ¨æµè§ˆå™¨ç¯å¢ƒä¸­ï¼Œæœ‰ JS å¼•æ“çº¿ç¨‹å’Œæ¸²æŸ“çº¿ç¨‹ï¼Œä¸”ä¸¤ä¸ªçº¿ç¨‹äº’æ–¥ã€‚ Node ç¯å¢ƒä¸­ï¼Œåªæœ‰ JS çº¿ç¨‹ã€‚ ä¸åŒç¯å¢ƒæ‰§è¡Œæœºåˆ¶æœ‰å·®å¼‚ï¼Œä¸åŒä»»åŠ¡è¿›å…¥ä¸åŒ Event Queue é˜Ÿåˆ—ã€‚ å½“ä¸»ç¨‹ç»“æŸï¼Œå…ˆæ‰§è¡Œå‡†å¤‡å¥½å¾®ä»»åŠ¡ï¼Œç„¶åå†æ‰§è¡Œå‡†å¤‡å¥½çš„å®ä»»åŠ¡ï¼Œä¸€ä¸ªè½®è¯¢ç»“æŸã€‚</p>
<h4 id="æµè§ˆå™¨ä¸­çš„äº‹ä»¶ç¯ï¼ˆEvent-Loop"><a href="#æµè§ˆå™¨ä¸­çš„äº‹ä»¶ç¯ï¼ˆEvent-Loop" class="headerlink" title="æµè§ˆå™¨ä¸­çš„äº‹ä»¶ç¯ï¼ˆEvent Loop)"></a><strong>æµè§ˆå™¨ä¸­çš„äº‹ä»¶ç¯ï¼ˆEvent Loop)</strong></h4><p>äº‹ä»¶ç¯çš„è¿è¡Œæœºåˆ¶æ˜¯ï¼Œå…ˆä¼šæ‰§è¡Œæ ˆä¸­çš„å†…å®¹ï¼Œæ ˆä¸­çš„å†…å®¹æ‰§è¡Œåæ‰§è¡Œå¾®ä»»åŠ¡ï¼Œå¾®ä»»åŠ¡æ¸…ç©ºåå†æ‰§è¡Œå®ä»»åŠ¡ï¼Œå…ˆå–å‡ºä¸€ä¸ªå®ä»»åŠ¡ï¼Œå†å»æ‰§è¡Œå¾®ä»»åŠ¡ï¼Œç„¶ååœ¨å–å®ä»»åŠ¡æ¸…å¾®ä»»åŠ¡è¿™æ ·ä¸åœçš„å¾ªç¯ã€‚</p>
<ul>
<li><p>eventLoop æ˜¯ç”± JS çš„å®¿ä¸»ç¯å¢ƒï¼ˆæµè§ˆå™¨ï¼‰æ¥å®ç°çš„ï¼›</p>
</li>
<li><p>äº‹ä»¶å¾ªç¯å¯ä»¥ç®€å•çš„æè¿°ä¸ºä»¥ä¸‹å››ä¸ªæ­¥éª¤:</p>
<ol>
<li>å‡½æ•°å…¥æ ˆï¼Œå½“ Stack ä¸­æ‰§è¡Œåˆ°å¼‚æ­¥ä»»åŠ¡çš„æ—¶å€™ï¼Œå°±å°†ä»–ä¸¢ç»™ WebAPIs,æ¥ç€æ‰§è¡ŒåŒæ­¥ä»»åŠ¡,ç›´åˆ° Stack ä¸ºç©ºï¼›</li>
<li>æ­¤æœŸé—´ WebAPIs å®Œæˆè¿™ä¸ªäº‹ä»¶ï¼ŒæŠŠå›è°ƒå‡½æ•°æ”¾å…¥é˜Ÿåˆ—ä¸­ç­‰å¾…æ‰§è¡Œï¼ˆå¾®ä»»åŠ¡æ”¾åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå®ä»»åŠ¡æ”¾åˆ°å®ä»»åŠ¡é˜Ÿåˆ—ï¼‰</li>
<li>æ‰§è¡Œæ ˆä¸ºç©ºæ—¶ï¼ŒEvent Loop æŠŠå¾®ä»»åŠ¡é˜Ÿåˆ—æ‰§è¡Œæ¸…ç©ºï¼›</li>
<li>å¾®ä»»åŠ¡é˜Ÿåˆ—æ¸…ç©ºåï¼Œè¿›å…¥å®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå–é˜Ÿåˆ—çš„ç¬¬ä¸€é¡¹ä»»åŠ¡æ”¾å…¥ Stack(æ ˆï¼‰ä¸­æ‰§è¡Œï¼Œæ‰§è¡Œå®Œæˆåï¼ŒæŸ¥çœ‹å¾®ä»»åŠ¡é˜Ÿåˆ—æ˜¯å¦æœ‰ä»»åŠ¡ï¼Œæœ‰çš„è¯ï¼Œæ¸…ç©ºå¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚é‡å¤ 4ï¼Œç»§ç»­ä»å®ä»»åŠ¡ä¸­å–ä»»åŠ¡æ‰§è¡Œï¼Œæ‰§è¡Œå®Œæˆä¹‹åï¼Œç»§ç»­æ¸…ç©ºå¾®ä»»åŠ¡ï¼Œå¦‚æ­¤åå¤å¾ªç¯ï¼Œç›´è‡³æ¸…ç©ºæ‰€æœ‰çš„ä»»åŠ¡ã€‚</li>
</ol>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/342e581223d2471d9484fc48beb9f8e1~tplv-k3u1fbpfcp-zoom-1.image" alt="äº‹ä»¶å¾ªç¯æµç¨‹"></p>
</li>
<li><p>æµè§ˆå™¨ä¸­çš„ä»»åŠ¡æº(task):</p>
<ul>
<li><code>å®ä»»åŠ¡(macrotask)</code>ï¼š<br>å®¿ä¸»ç¯å¢ƒæä¾›çš„ï¼Œæ¯”å¦‚æµè§ˆå™¨<br>ajaxã€setTimeoutã€setIntervalã€setTmmediate(åªå…¼å®¹ ie)ã€scriptã€requestAnimationFrameã€messageChannelã€UI æ¸²æŸ“ã€ä¸€äº›æµè§ˆå™¨ api</li>
<li><code>å¾®ä»»åŠ¡(microtask)</code>ï¼š<br>è¯­è¨€æœ¬èº«æä¾›çš„ï¼Œæ¯”å¦‚ promise.then<br>thenã€queueMicrotask(åŸºäº then)ã€mutationObserver(æµè§ˆå™¨æä¾›)ã€messageChannel ã€mutationObersve</li>
</ul>
</li>
</ul>
<p>ä¼ é€é—¨ â˜ <a target="_blank" rel="noopener" href="https://juejin.cn/post/7001881781125251086"># å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡</a></p>
<h4 id="Node-ç¯å¢ƒä¸­çš„äº‹ä»¶ç¯ï¼ˆEvent-Loop"><a href="#Node-ç¯å¢ƒä¸­çš„äº‹ä»¶ç¯ï¼ˆEvent-Loop" class="headerlink" title="Node ç¯å¢ƒä¸­çš„äº‹ä»¶ç¯ï¼ˆEvent Loop)"></a><strong>Node ç¯å¢ƒä¸­çš„äº‹ä»¶ç¯ï¼ˆEvent Loop)</strong></h4><p><code>Node</code>æ˜¯åŸºäº V8 å¼•æ“çš„è¿è¡Œåœ¨æœåŠ¡ç«¯çš„<code>JavaScript</code>è¿è¡Œç¯å¢ƒï¼Œåœ¨å¤„ç†é«˜å¹¶å‘ã€I&#x2F;O å¯†é›†(æ–‡ä»¶æ“ä½œã€ç½‘ç»œæ“ä½œã€æ•°æ®åº“æ“ä½œç­‰)åœºæ™¯æœ‰æ˜æ˜¾çš„ä¼˜åŠ¿ã€‚è™½ç„¶ç”¨åˆ°ä¹Ÿæ˜¯ V8 å¼•æ“ï¼Œä½†ç”±äºæœåŠ¡ç›®çš„å’Œç¯å¢ƒä¸åŒï¼Œå¯¼è‡´äº†å®ƒçš„ API ä¸åŸç”Ÿ JS æœ‰äº›åŒºåˆ«ï¼Œå…¶ Event Loop è¿˜è¦å¤„ç†ä¸€äº› I&#x2F;Oï¼Œæ¯”å¦‚æ–°çš„ç½‘ç»œè¿æ¥ç­‰ï¼Œæ‰€ä»¥ Node çš„ Event Loop(äº‹ä»¶ç¯æœºåˆ¶)ä¸æµè§ˆå™¨çš„æ˜¯ä¸å¤ªä¸€æ ·ã€‚</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e362c1770f62428fbf3faabd99d2a64c~tplv-k3u1fbpfcp-zoom-1.image" alt="2020120317343116.png"> æ‰§è¡Œé¡ºåºå¦‚ä¸‹ï¼š</p>
<ul>
<li><code>timers</code>: è®¡æ—¶å™¨ï¼Œæ‰§è¡Œ setTimeout å’Œ setInterval çš„å›è°ƒ</li>
<li><code>pending callbacks</code>: æ‰§è¡Œå»¶è¿Ÿåˆ°ä¸‹ä¸€ä¸ªå¾ªç¯è¿­ä»£çš„ I&#x2F;O å›è°ƒ</li>
<li><code>idle, prepare</code>: é˜Ÿåˆ—çš„ç§»åŠ¨ï¼Œä»…ç³»ç»Ÿå†…éƒ¨ä½¿ç”¨</li>
<li><code>pollè½®è¯¢</code>: æ£€ç´¢æ–°çš„ I&#x2F;O äº‹ä»¶;æ‰§è¡Œä¸ I&#x2F;O ç›¸å…³çš„å›è°ƒã€‚äº‹å®ä¸Šé™¤äº†å…¶ä»–å‡ ä¸ªé˜¶æ®µå¤„ç†çš„äº‹æƒ…ï¼Œå…¶ä»–å‡ ä¹æ‰€æœ‰çš„å¼‚æ­¥éƒ½åœ¨è¿™ä¸ªé˜¶æ®µå¤„ç†ã€‚</li>
<li><code>check</code>: æ‰§è¡Œ<code>setImmediate</code>å›è°ƒï¼ŒsetImmediate åœ¨è¿™é‡Œæ‰§è¡Œ</li>
<li><code>close callbacks</code>: æ‰§è¡Œ<code>close</code>äº‹ä»¶çš„<code>callback</code>ï¼Œä¸€äº›å…³é—­çš„å›è°ƒå‡½æ•°ï¼Œå¦‚ï¼šsocket.on(â€˜closeâ€™, â€¦)</li>
</ul>
<h3 id="setTimeoutã€Promiseã€Async-x2F-Await-çš„åŒºåˆ«"><a href="#setTimeoutã€Promiseã€Async-x2F-Await-çš„åŒºåˆ«" class="headerlink" title="setTimeoutã€Promiseã€Async&#x2F;Await çš„åŒºåˆ«"></a>setTimeoutã€Promiseã€Async&#x2F;Await çš„åŒºåˆ«</h3><ol>
<li><p>setTimeout</p>
<p>settimeout çš„å›è°ƒå‡½æ•°æ”¾åˆ°å®ä»»åŠ¡é˜Ÿåˆ—é‡Œï¼Œç­‰åˆ°æ‰§è¡Œæ ˆæ¸…ç©ºä»¥åæ‰§è¡Œã€‚</p>
</li>
<li><p>Promise</p>
<p>Promise æœ¬èº«æ˜¯<strong>åŒæ­¥çš„ç«‹å³æ‰§è¡Œå‡½æ•°</strong>ï¼Œ å½“åœ¨ executor ä¸­æ‰§è¡Œ resolve æˆ–è€… reject çš„æ—¶å€™, æ­¤æ—¶æ˜¯å¼‚æ­¥æ“ä½œï¼Œ ä¼šå…ˆæ‰§è¡Œ then&#x2F;catch ç­‰ï¼Œå½“ä¸»æ ˆå®Œæˆåï¼Œæ‰ä¼šå»è°ƒç”¨ resolve&#x2F;reject ä¸­å­˜æ”¾çš„æ–¹æ³•æ‰§è¡Œã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;script start&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> promise1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve</span>) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise1&#x27;</span>);</span><br><span class="line">	<span class="title function_">resolve</span>();</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise1 end&#x27;</span>);</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise2&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;settimeout&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;script end&#x27;</span>);</span><br><span class="line"><span class="comment">// è¾“å‡ºé¡ºåº: script start-&gt;promise1-&gt;promise1 end-&gt;script end-&gt;promise2-&gt;settimeout</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>async&#x2F;await</p>
<pre><code>async å‡½æ•°è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå½“å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œä¸€æ—¦é‡åˆ° await å°±ä¼šå…ˆè¿”å›ï¼Œç­‰åˆ°è§¦å‘çš„å¼‚æ­¥æ“ä½œå®Œæˆï¼Œå†æ‰§è¡Œå‡½æ•°ä½“å†…åé¢çš„è¯­å¥ã€‚å¯ä»¥ç†è§£ä¸ºï¼Œæ˜¯è®©å‡ºäº†çº¿ç¨‹ï¼Œè·³å‡ºäº† async å‡½æ•°ä½“ã€‚

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">async1</span>(<span class="params"></span>)&#123;</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;async1 start&#x27;</span>);</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">async2</span>();</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;async1 end&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">async2</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;async2&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;script start&#x27;</span>);</span><br><span class="line"><span class="title function_">async1</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;script end&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å‡ºé¡ºåºï¼šscript start-&gt;async1 start-&gt;async2-&gt;script end-&gt;async1 end</span></span><br></pre></td></tr></table></figure>
</code></pre>
<p>ä¼ é€é—¨ â˜ <a target="_blank" rel="noopener" href="https://juejin.cn/post/6999651011304357925"># JavaScript Promise ä¸“é¢˜</a></p>
</li>
</ol>
<h3 id="Async-x2F-Await-å¦‚ä½•é€šè¿‡åŒæ­¥çš„æ–¹å¼å®ç°å¼‚æ­¥"><a href="#Async-x2F-Await-å¦‚ä½•é€šè¿‡åŒæ­¥çš„æ–¹å¼å®ç°å¼‚æ­¥" class="headerlink" title="Async&#x2F;Await å¦‚ä½•é€šè¿‡åŒæ­¥çš„æ–¹å¼å®ç°å¼‚æ­¥"></a>Async&#x2F;Await å¦‚ä½•é€šè¿‡åŒæ­¥çš„æ–¹å¼å®ç°å¼‚æ­¥</h3><p>Async&#x2F;Await å°±æ˜¯ä¸€ä¸ª<strong>è‡ªæ‰§è¡Œ</strong>çš„ generate å‡½æ•°ã€‚åˆ©ç”¨ generate å‡½æ•°çš„ç‰¹æ€§æŠŠå¼‚æ­¥çš„ä»£ç å†™æˆâ€œåŒæ­¥â€çš„å½¢å¼,ç¬¬ä¸€ä¸ªè¯·æ±‚çš„è¿”å›å€¼ä½œä¸ºåé¢ä¸€ä¸ªè¯·æ±‚çš„å‚æ•°,å…¶ä¸­æ¯ä¸€ä¸ªå‚æ•°éƒ½æ˜¯ä¸€ä¸ª promise å¯¹è±¡.</p>
<h3 id="ä»‹ç»èŠ‚æµé˜²æŠ–åŸç†ã€åŒºåˆ«ä»¥åŠåº”ç”¨"><a href="#ä»‹ç»èŠ‚æµé˜²æŠ–åŸç†ã€åŒºåˆ«ä»¥åŠåº”ç”¨" class="headerlink" title="ä»‹ç»èŠ‚æµé˜²æŠ–åŸç†ã€åŒºåˆ«ä»¥åŠåº”ç”¨"></a>ä»‹ç»èŠ‚æµé˜²æŠ–åŸç†ã€åŒºåˆ«ä»¥åŠåº”ç”¨</h3><p><code>èŠ‚æµ</code>ï¼šäº‹ä»¶è§¦å‘åï¼Œè§„å®šæ—¶é—´å†…ï¼Œäº‹ä»¶å¤„ç†å‡½æ•°ä¸èƒ½å†æ¬¡è¢«è°ƒç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨è§„å®šçš„æ—¶é—´å†…ï¼Œå‡½æ•°åªèƒ½è¢«è°ƒç”¨ä¸€æ¬¡ï¼Œä¸”æ˜¯æœ€å…ˆè¢«è§¦å‘è°ƒç”¨çš„é‚£æ¬¡ã€‚</p>
<p><code>é˜²æŠ–</code>ï¼šå¤šæ¬¡è§¦å‘äº‹ä»¶ï¼Œäº‹ä»¶å¤„ç†å‡½æ•°åªèƒ½æ‰§è¡Œä¸€æ¬¡ï¼Œå¹¶ä¸”æ˜¯åœ¨è§¦å‘æ“ä½œç»“æŸæ—¶æ‰§è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ä¸€ä¸ªäº‹ä»¶è¢«è§¦å‘å‡†å¤‡æ‰§è¡Œäº‹ä»¶å‡½æ•°å‰ï¼Œä¼šç­‰å¾…ä¸€å®šçš„æ—¶é—´ï¼ˆè¿™æ—¶é—´æ˜¯ç å†œè‡ªå·±å»å®šä¹‰çš„ï¼Œæ¯”å¦‚ 1 ç§’ï¼‰ï¼Œå¦‚æœæ²¡æœ‰å†æ¬¡è¢«è§¦å‘ï¼Œé‚£ä¹ˆå°±æ‰§è¡Œï¼Œå¦‚æœè¢«è§¦å‘äº†ï¼Œé‚£å°±æœ¬æ¬¡ä½œåºŸï¼Œé‡æ–°ä»æ–°è§¦å‘çš„æ—¶é—´å¼€å§‹è®¡ç®—ï¼Œå¹¶å†æ¬¡ç­‰å¾… 1 ç§’ï¼Œç›´åˆ°èƒ½æœ€ç»ˆæ‰§è¡Œï¼</p>
<p><code>ä½¿ç”¨åœºæ™¯</code>ï¼š<br>èŠ‚æµï¼šæ»šåŠ¨åŠ è½½æ›´å¤šã€æœç´¢æ¡†æœçš„ç´¢è”æƒ³åŠŸèƒ½ã€é«˜é¢‘ç‚¹å‡»ã€è¡¨å•é‡å¤æäº¤â€¦â€¦<br>é˜²æŠ–ï¼šæœç´¢æ¡†æœç´¢è¾“å…¥ï¼Œå¹¶åœ¨è¾“å…¥å®Œä»¥åè‡ªåŠ¨æœç´¢ã€æ‰‹æœºå·ï¼Œé‚®ç®±éªŒè¯è¾“å…¥æ£€æµ‹ã€çª—å£å¤§å° resize å˜åŒ–åï¼Œå†é‡æ–°æ¸²æŸ“ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * èŠ‚æµå‡½æ•° ä¸€ä¸ªå‡½æ•°æ‰§è¡Œä¸€æ¬¡åï¼Œåªæœ‰å¤§äºè®¾å®šçš„æ‰§è¡Œå‘¨æœŸæ‰ä¼šæ‰§è¡Œç¬¬äºŒæ¬¡ã€‚æœ‰ä¸ªéœ€è¦é¢‘ç¹è§¦å‘çš„å‡½æ•°ï¼Œå‡ºäºä¼˜åŒ–æ€§èƒ½çš„è§’åº¦ï¼Œåœ¨è§„å®šæ—¶é—´å†…ï¼Œåªè®©å‡½æ•°è§¦å‘çš„ç¬¬ä¸€æ¬¡ç”Ÿæ•ˆï¼Œåé¢çš„ä¸ç”Ÿæ•ˆã€‚</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> fnè¦è¢«èŠ‚æµçš„å‡½æ•°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> delayè§„å®šçš„æ—¶é—´</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">throttle</span>(<span class="params">fn, delay</span>) &#123;</span><br><span class="line">	<span class="comment">//è®°å½•ä¸Šä¸€æ¬¡å‡½æ•°è§¦å‘çš„æ—¶é—´</span></span><br><span class="line">	<span class="keyword">var</span> lastTime = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">		<span class="comment">//è®°å½•å½“å‰å‡½æ•°è§¦å‘çš„æ—¶é—´</span></span><br><span class="line">		<span class="keyword">var</span> nowTime = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line">		<span class="keyword">if</span> (nowTime - lastTime &gt; delay) &#123;</span><br><span class="line">			<span class="comment">//ä¿®æ­£thisæŒ‡å‘é—®é¢˜</span></span><br><span class="line">			fn.<span class="title function_">call</span>(<span class="variable language_">this</span>);</span><br><span class="line">			<span class="comment">//åŒæ­¥æ‰§è¡Œç»“æŸæ—¶é—´</span></span><br><span class="line">			lastTime = nowTime;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">onscroll</span> = <span class="title function_">throttle</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;sclloräº‹ä»¶è¢«è§¦å‘äº†&#x27;</span> + <span class="title class_">Date</span>.<span class="title function_">now</span>());</span><br><span class="line">&#125;, <span class="number">200</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é˜²æŠ–å‡½æ•°  ä¸€ä¸ªéœ€è¦é¢‘ç¹è§¦å‘çš„å‡½æ•°ï¼Œåœ¨è§„å®šæ—¶é—´å†…ï¼Œåªè®©æœ€åä¸€æ¬¡ç”Ÿæ•ˆï¼Œå‰é¢çš„ä¸ç”Ÿæ•ˆ</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> fnè¦è¢«èŠ‚æµçš„å‡½æ•°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> delayè§„å®šçš„æ—¶é—´</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">fn, delay</span>) &#123;</span><br><span class="line">	<span class="comment">//è®°å½•ä¸Šä¸€æ¬¡çš„å»¶æ—¶å™¨</span></span><br><span class="line">	<span class="keyword">var</span> timer = <span class="literal">null</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">		<span class="comment">//æ¸…é™¤ä¸Šä¸€æ¬¡çš„æ¼”ç¤ºå™¨</span></span><br><span class="line">		<span class="built_in">clearTimeout</span>(timer);</span><br><span class="line">		<span class="comment">//é‡æ–°è®¾ç½®æ–°çš„å»¶æ—¶å™¨</span></span><br><span class="line">		timer = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">			<span class="comment">//ä¿®æ­£thisæŒ‡å‘é—®é¢˜</span></span><br><span class="line">			fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>);</span><br><span class="line">		&#125;, delay);</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;btn&#x27;</span>).<span class="property">onclick</span> = <span class="title function_">debounce</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æŒ‰é’®è¢«ç‚¹å‡»äº†&#x27;</span> + <span class="title class_">Date</span>.<span class="title function_">now</span>());</span><br><span class="line">&#125;, <span class="number">1000</span>);</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://770746548.github.io/2025/02/28/JavaScript/" data-id="cmkgdulgu0001y4mhg5kfe2oy" data-title="ğŸ”¥ JavaScript" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%85%AB%E8%82%A1%E6%96%87/" rel="tag">å‰ç«¯å…«è‚¡æ–‡</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-react" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/02/28/react/" class="article-date">
  <time class="dt-published" datetime="2025-02-28T01:00:00.000Z" itemprop="datePublished">2025-02-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/02/28/react/">ğŸ”¥ react</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="React-é¢è¯•ä¸“é¢˜"><a href="#React-é¢è¯•ä¸“é¢˜" class="headerlink" title="React é¢è¯•ä¸“é¢˜"></a>React é¢è¯•ä¸“é¢˜</h2><h3 id="React-js-æ˜¯-MVVM-æ¡†æ¶å—"><a href="#React-js-æ˜¯-MVVM-æ¡†æ¶å—" class="headerlink" title="React.js æ˜¯ MVVM æ¡†æ¶å—?"></a>React.js æ˜¯ MVVM æ¡†æ¶å—?</h3><p>React å°±æ˜¯ Facebook çš„ä¸€ä¸ªå¼€æº JS æ¡†æ¶ï¼Œä¸“æ³¨çš„å±‚é¢ä¸º View å±‚ï¼Œä¸åŒ…æ‹¬æ•°æ®è®¿é—®å±‚æˆ–è€…é‚£ç§ Hash è·¯ç”±ï¼ˆä¸è¿‡ React æœ‰æ’ä»¶æ”¯æŒï¼‰ï¼Œä¸ Angularjsï¼ŒEmberjs ç­‰å¤§è€Œå…¨çš„æ¡†æ¶ä¸åŒï¼ŒReact ä¸“æ³¨çš„ä¸­å¿ƒæ˜¯ Componentï¼Œå³ç»„ä»¶ã€‚React è®¤ä¸ºä¸€åˆ‡é¡µé¢å…ƒ ç´ éƒ½å¯ä»¥æŠ½è±¡æˆç»„ä»¶ï¼Œæ¯”å¦‚ä¸€ä¸ªè¡¨å•ï¼Œæˆ–è€…è¡¨å•ä¸­çš„æŸä¸€é¡¹ã€‚</p>
<p>React å¯ä»¥ä½œä¸º MVVM ä¸­ç¬¬äºŒä¸ª Vï¼Œä¹Ÿå°±æ˜¯ Viewï¼Œä½†æ˜¯å¹¶ä¸æ˜¯ MVVM æ¡†æ¶ã€‚MVVM ä¸€ä¸ªæœ€æ˜¾è‘—çš„ç‰¹å¾ï¼šåŒå‘ç»‘å®šã€‚React æ²¡æœ‰è¿™ä¸ªï¼Œå®ƒæ˜¯å•å‘æ•°æ®ç»‘å®šçš„ã€‚React æ˜¯ä¸€ä¸ªå•å‘æ•°æ®æµçš„åº“ï¼ŒçŠ¶æ€é©±åŠ¨è§†å›¾ã€‚react æ•´ä½“æ˜¯å‡½æ•°å¼çš„æ€æƒ³ï¼ŒæŠŠç»„ä»¶è®¾è®¡æˆçº¯ç»„ä»¶ï¼ŒçŠ¶æ€å’Œé€»è¾‘é€šè¿‡å‚æ•°ä¼ å…¥ï¼Œæ‰€ä»¥åœ¨ react ä¸­ï¼Œæ˜¯å•å‘æ•°æ®æµï¼Œæ¨å´‡ç»“åˆ immutable æ¥å®ç°æ•°æ®ä¸å¯å˜ã€‚</p>
<h3 id="hooks-ç”¨è¿‡å—ï¼ŸèŠèŠ-react-ä¸­-class-ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶çš„åŒºåˆ«"><a href="#hooks-ç”¨è¿‡å—ï¼ŸèŠèŠ-react-ä¸­-class-ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶çš„åŒºåˆ«" class="headerlink" title="hooks ç”¨è¿‡å—ï¼ŸèŠèŠ react ä¸­ class ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶çš„åŒºåˆ«"></a>hooks ç”¨è¿‡å—ï¼ŸèŠèŠ react ä¸­ class ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶çš„åŒºåˆ«</h3><p>ç±»ç»„ä»¶æ˜¯ä½¿ç”¨ ES6 çš„ class æ¥å®šä¹‰çš„ç»„ä»¶ã€‚ å‡½æ•°ç»„ä»¶æ˜¯æ¥æ”¶ä¸€ä¸ªå•ä¸€çš„ <code>props</code> å¯¹è±¡å¹¶è¿”å›ä¸€ä¸ª React å…ƒç´ ã€‚</p>
<p>å…³äº React çš„ä¸¤å¥— APIï¼ˆç±»ï¼ˆclassï¼‰API å’ŒåŸºäºå‡½æ•°çš„é’©å­ï¼ˆhooksï¼‰ APIï¼‰ã€‚å®˜æ–¹æ¨èä½¿ç”¨é’©å­ï¼ˆå‡½æ•°ï¼‰ï¼Œè€Œä¸æ˜¯ç±»ã€‚å› ä¸ºé’©å­æ›´ç®€æ´ï¼Œä»£ç é‡å°‘ï¼Œç”¨èµ·æ¥æ¯”è¾ƒâ€è½»â€ï¼Œè€Œç±»æ¯”è¾ƒâ€é‡â€ã€‚è€Œä¸”ï¼Œé’©å­æ˜¯å‡½æ•°ï¼Œæ›´ç¬¦åˆ React å‡½æ•°å¼çš„æœ¬è´¨ã€‚</p>
<p>å‡½æ•°ä¸€èˆ¬æ¥è¯´ï¼Œåªåº”è¯¥åšä¸€ä»¶äº‹ï¼Œå°±æ˜¯è¿”å›ä¸€ä¸ªå€¼ã€‚ å¦‚æœä½ æœ‰å¤šä¸ªæ“ä½œï¼Œæ¯ä¸ªæ“ä½œåº”è¯¥å†™æˆä¸€ä¸ªå•ç‹¬çš„å‡½æ•°ã€‚è€Œä¸”ï¼Œæ•°æ®çš„çŠ¶æ€åº”è¯¥ä¸æ“ä½œæ–¹æ³•åˆ†ç¦»ã€‚æ ¹æ®å‡½æ•°è¿™ç§ç†å¿µï¼ŒReact çš„å‡½æ•°ç»„ä»¶åªåº”è¯¥åšä¸€ä»¶äº‹æƒ…ï¼šè¿”å›ç»„ä»¶çš„ HTML ä»£ç ï¼Œè€Œæ²¡æœ‰å…¶ä»–çš„åŠŸèƒ½ã€‚å‡½æ•°çš„è¿”å›ç»“æœåªä¾èµ–äºå®ƒçš„å‚æ•°ã€‚ä¸æ”¹å˜å‡½æ•°ä½“å¤–éƒ¨æ•°æ®ã€å‡½æ•°æ‰§è¡Œè¿‡ç¨‹é‡Œé¢æ²¡æœ‰å‰¯ä½œç”¨ã€‚</p>
<p>ç±»ï¼ˆclassï¼‰æ˜¯æ•°æ®å’Œé€»è¾‘çš„å°è£…ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œç»„ä»¶çš„çŠ¶æ€å’Œæ“ä½œæ–¹æ³•æ˜¯å°è£…åœ¨ä¸€èµ·çš„ã€‚å¦‚æœé€‰æ‹©äº†ç±»çš„å†™æ³•ï¼Œå°±åº”è¯¥æŠŠç›¸å…³çš„æ•°æ®å’Œæ“ä½œï¼Œéƒ½å†™åœ¨åŒä¸€ä¸ª class é‡Œé¢ã€‚</p>
<p><strong>ç±»ç»„ä»¶çš„ç¼ºç‚¹</strong> :</p>
<p>å¤§å‹ç»„ä»¶å¾ˆéš¾æ‹†åˆ†å’Œé‡æ„ï¼Œä¹Ÿå¾ˆéš¾æµ‹è¯•ã€‚<br>ä¸šåŠ¡é€»è¾‘åˆ†æ•£åœ¨ç»„ä»¶çš„å„ä¸ªæ–¹æ³•ä¹‹ä¸­ï¼Œå¯¼è‡´é‡å¤é€»è¾‘æˆ–å…³è”é€»è¾‘ã€‚<br>ç»„ä»¶ç±»å¼•å…¥äº†å¤æ‚çš„ç¼–ç¨‹æ¨¡å¼ï¼Œæ¯”å¦‚ render props å’Œé«˜é˜¶ç»„ä»¶ã€‚<br>éš¾ä»¥ç†è§£çš„ classï¼Œç†è§£ JavaScript ä¸­ <code>this</code> çš„å·¥ä½œæ–¹å¼ã€‚</p>
<p><strong>åŒºåˆ«</strong>ï¼š</p>
<p>å‡½æ•°ç»„ä»¶çš„æ€§èƒ½æ¯”ç±»ç»„ä»¶çš„æ€§èƒ½è¦é«˜ï¼Œå› ä¸ºç±»ç»„ä»¶ä½¿ç”¨çš„æ—¶å€™è¦å®ä¾‹åŒ–ï¼Œè€Œå‡½æ•°ç»„ä»¶ç›´æ¥æ‰§è¡Œå‡½æ•°å–è¿”å›ç»“æœå³å¯ã€‚</p>
<p>1.çŠ¶æ€çš„æœ‰æ— <br>hooks å‡ºç°ä¹‹å‰ï¼Œå‡½æ•°ç»„ä»¶<code>æ²¡æœ‰å®ä¾‹</code>ï¼Œ<code>æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸ</code>ï¼Œ<code>æ²¡æœ‰state</code>ï¼Œ<code>æ²¡æœ‰this</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬ç§°å‡½æ•°ç»„ä»¶ä¸ºæ— çŠ¶æ€ç»„ä»¶ã€‚ hooks å‡ºç°ä¹‹å‰ï¼Œreact ä¸­çš„å‡½æ•°ç»„ä»¶é€šå¸¸åªè€ƒè™‘è´Ÿè´£ UI çš„æ¸²æŸ“ï¼Œæ²¡æœ‰è‡ªèº«çš„çŠ¶æ€æ²¡æœ‰ä¸šåŠ¡é€»è¾‘ä»£ç ï¼Œæ˜¯ä¸€ä¸ªçº¯å‡½æ•°ã€‚å®ƒçš„è¾“å‡ºåªç”±å‚æ•° props å†³å®šï¼Œä¸å—å…¶ä»–ä»»ä½•å› ç´ å½±å“ã€‚</p>
<p>2.è°ƒç”¨æ–¹å¼çš„ä¸åŒ<br>å‡½æ•°ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œå°†é‡æ–°è°ƒç”¨ç»„ä»¶æ–¹æ³•è¿”å›æ–°çš„ react å…ƒç´ ã€‚ç±»ç»„ä»¶é‡æ–°æ¸²æŸ“å°† new ä¸€ä¸ªæ–°çš„ç»„ä»¶å®ä¾‹ï¼Œç„¶åè°ƒç”¨ render ç±»æ–¹æ³•è¿”å› react å…ƒç´ ï¼Œè¿™ä¹Ÿè¯´æ˜ä¸ºä»€ä¹ˆç±»ç»„ä»¶ä¸­ this æ˜¯å¯å˜çš„ã€‚</p>
<p>3.å› ä¸ºè°ƒç”¨æ–¹å¼ä¸åŒï¼Œåœ¨å‡½æ•°ç»„ä»¶ä½¿ç”¨ä¸­ä¼šå‡ºç°é—®é¢˜<br>åœ¨æ“ä½œä¸­æ”¹å˜çŠ¶æ€å€¼ï¼Œç±»ç»„ä»¶å¯ä»¥è·å–æœ€æ–°çš„çŠ¶æ€å€¼ï¼Œè€Œå‡½æ•°ç»„ä»¶åˆ™ä¼šæŒ‰ç…§é¡ºåºè¿”å›çŠ¶æ€å€¼</p>
<p><strong>React Hooksï¼ˆé’©å­çš„ä½œç”¨ï¼‰</strong></p>
<p><em>Hook</em> æ˜¯ React 16.8 çš„æ–°å¢ç‰¹æ€§ã€‚å®ƒå¯ä»¥è®©ä½ åœ¨ä¸ç¼–å†™ class çš„æƒ…å†µä¸‹ä½¿ç”¨ state ä»¥åŠå…¶ä»–çš„ React ç‰¹æ€§ã€‚</p>
<p>React Hooks çš„å‡ ä¸ªå¸¸ç”¨é’©å­:</p>
<ol>
<li><code>useState()</code> &#x2F;&#x2F;çŠ¶æ€é’©å­</li>
<li><code>useContext()</code> &#x2F;&#x2F;å…±äº«çŠ¶æ€é’©å­</li>
<li><code>useReducer()</code> &#x2F;&#x2F;action é’©å­</li>
<li><code>useEffect()</code> &#x2F;&#x2F;å‰¯ä½œç”¨é’©å­</li>
</ol>
<p>è¿˜æœ‰å‡ ä¸ªä¸å¸¸è§çš„å¤§æ¦‚çš„è¯´ä¸‹ï¼Œåç»­ä¼šä¸“é—¨å†™ç¯‡æ–‡ç« æè¿°ä¸‹</p>
<ul>
<li><p>1.useCallback è®°å¿†å‡½æ•° ä¸€èˆ¬æŠŠ<strong>å‡½æ•°å¼ç»„ä»¶ç†è§£ä¸º class ç»„ä»¶ render å‡½æ•°çš„è¯­æ³•ç³–</strong>ï¼Œæ‰€ä»¥æ¯æ¬¡é‡æ–°æ¸²æŸ“çš„æ—¶å€™ï¼Œå‡½æ•°å¼ç»„ä»¶å†…éƒ¨æ‰€æœ‰çš„ä»£ç éƒ½ä¼šé‡æ–°æ‰§è¡Œä¸€éã€‚è€Œæœ‰äº† useCallback å°±ä¸ä¸€æ ·äº†ï¼Œä½ å¯ä»¥é€šè¿‡ useCallback è·å¾—ä¸€ä¸ªè®°å¿†åçš„å‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="keyword">const</span> memoizedHandleClick = <span class="title function_">useCallback</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Click happened&#x27;</span>);</span><br><span class="line">	&#125;, []); <span class="comment">// ç©ºæ•°ç»„ä»£è¡¨æ— è®ºä»€ä¹ˆæƒ…å†µä¸‹è¯¥å‡½æ•°éƒ½ä¸ä¼šå‘ç”Ÿæ”¹å˜</span></span><br><span class="line">	<span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">SomeComponent</span> <span class="attr">onClick</span>=<span class="string">&#123;memoizedHandleClick&#125;</span>&gt;</span>Click Me<span class="tag">&lt;/<span class="name">SomeComponent</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸€é¡¹ä¸€æ—¦å€¼æˆ–è€…å¼•ç”¨å‘ç”Ÿæ”¹å˜ï¼ŒuseCallback å°±ä¼šé‡æ–°è¿”å›ä¸€ä¸ªæ–°çš„è®°å¿†å‡½æ•°æä¾›ç»™åé¢è¿›è¡Œæ¸²æŸ“ã€‚</p>
</li>
<li><p>2.useMemo è®°å¿†ç»„ä»¶ useCallback çš„åŠŸèƒ½å®Œå…¨å¯ä»¥ç”± useMemo æ‰€å–ä»£ï¼Œå¦‚æœä½ æƒ³é€šè¿‡ä½¿ç”¨ useMemo è¿”å›ä¸€ä¸ªè®°å¿†å‡½æ•°ä¹Ÿæ˜¯å®Œå…¨å¯ä»¥çš„ã€‚ å”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼š<strong>useCallback ä¸ä¼šæ‰§è¡Œç¬¬ä¸€ä¸ªå‚æ•°å‡½æ•°ï¼Œè€Œæ˜¯å°†å®ƒè¿”å›ç»™ä½ ï¼Œè€Œ useMemo ä¼šæ‰§è¡Œç¬¬ä¸€ä¸ªå‡½æ•°å¹¶ä¸”å°†å‡½æ•°æ‰§è¡Œç»“æœè¿”å›ç»™ä½ </strong>ã€‚<br>æ‰€ä»¥ useCallback å¸¸ç”¨è®°å¿†äº‹ä»¶å‡½æ•°ï¼Œç”Ÿæˆè®°å¿†åçš„äº‹ä»¶å‡½æ•°å¹¶ä¼ é€’ç»™å­ç»„ä»¶ä½¿ç”¨ã€‚è€Œ useMemo æ›´é€‚åˆç»è¿‡å‡½æ•°è®¡ç®—å¾—åˆ°ä¸€ä¸ªç¡®å®šçš„å€¼ï¼Œæ¯”å¦‚è®°å¿†ç»„ä»¶ã€‚</p>
</li>
<li><p>3.useRef ä¿å­˜å¼•ç”¨å€¼</p>
<p>useRef è·Ÿ createRef ç±»ä¼¼ï¼Œéƒ½å¯ä»¥ç”¨æ¥ç”Ÿæˆå¯¹ DOM å¯¹è±¡çš„å¼•ç”¨ã€‚useRef è¿”å›çš„å€¼ä¼ é€’ç»™ç»„ä»¶æˆ–è€… DOM çš„ ref å±æ€§ï¼Œå°±å¯ä»¥é€šè¿‡ ref.current å€¼<strong>è®¿é—®ç»„ä»¶æˆ–çœŸå®çš„ DOM èŠ‚ç‚¹ï¼Œé‡ç‚¹æ˜¯ç»„ä»¶ä¹Ÿæ˜¯å¯ä»¥è®¿é—®åˆ°çš„</strong>ï¼Œä»è€Œå¯ä»¥å¯¹ DOM è¿›è¡Œä¸€äº›æ“ä½œï¼Œæ¯”å¦‚ç›‘å¬äº‹ä»¶ç­‰ç­‰ã€‚</p>
</li>
<li><p>4.useImperativeHandle ç©¿é€ Ref</p>
<p>é€šè¿‡ useImperativeHandle ç”¨äºè®©çˆ¶ç»„ä»¶è·å–å­ç»„ä»¶å†…çš„ç´¢å¼•</p>
</li>
<li><p>5.useLayoutEffect åŒæ­¥æ‰§è¡Œå‰¯ä½œç”¨</p>
<p>å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œä½¿ç”¨ useEffect å°±å¯ä»¥å¸®æˆ‘ä»¬å¤„ç†ç»„ä»¶çš„å‰¯ä½œç”¨ï¼Œä½†æ˜¯å¦‚æœæƒ³è¦åŒæ­¥è°ƒç”¨ä¸€äº›å‰¯ä½œç”¨ï¼Œæ¯”å¦‚å¯¹ DOM çš„æ“ä½œï¼Œå°±éœ€è¦ä½¿ç”¨ useLayoutEffectï¼ŒuseLayoutEffect ä¸­çš„å‰¯ä½œç”¨ä¼šåœ¨ DOM æ›´æ–°ä¹‹ååŒæ­¥æ‰§è¡Œã€‚</p>
<p><strong>useEffect å’Œ useLayoutEffect æœ‰ä»€ä¹ˆåŒºåˆ«</strong>ï¼šç®€å•æ¥è¯´å°±æ˜¯è°ƒç”¨æ—¶æœºä¸åŒï¼ŒuseLayoutEffect å’ŒåŸæ¥ componentDidMount&amp;componentDidUpdate ä¸€è‡´ï¼Œåœ¨ react å®Œæˆ DOM æ›´æ–°åé©¬ä¸ŠåŒæ­¥è°ƒç”¨çš„ä»£ç ï¼Œä¼šé˜»å¡é¡µé¢æ¸²æŸ“ã€‚è€Œ useEffect æ˜¯ä¼šåœ¨æ•´ä¸ªé¡µé¢æ¸²æŸ“å®Œæ‰ä¼šè°ƒç”¨çš„ä»£ç ã€‚<code>å®˜æ–¹å»ºè®®ä¼˜å…ˆä½¿ç”¨useEffect</code></p>
</li>
</ul>
<h3 id="React-ç»„ä»¶é€šä¿¡æ–¹å¼"><a href="#React-ç»„ä»¶é€šä¿¡æ–¹å¼" class="headerlink" title="React ç»„ä»¶é€šä¿¡æ–¹å¼"></a>React ç»„ä»¶é€šä¿¡æ–¹å¼</h3><p>react ç»„ä»¶é—´é€šä¿¡å¸¸è§çš„å‡ ç§æƒ…å†µ:</p>
<ul>
<li><ol>
<li>çˆ¶ç»„ä»¶å‘å­ç»„ä»¶é€šä¿¡</li>
</ol>
</li>
<li><ol start="2">
<li>å­ç»„ä»¶å‘çˆ¶ç»„ä»¶é€šä¿¡</li>
</ol>
</li>
<li><ol start="3">
<li>è·¨çº§ç»„ä»¶é€šä¿¡</li>
</ol>
</li>
<li><ol start="4">
<li>éåµŒå¥—å…³ç³»çš„ç»„ä»¶é€šä¿¡</li>
</ol>
</li>
</ul>
<h4 id="1ï¼‰çˆ¶ç»„ä»¶å‘å­ç»„ä»¶é€šä¿¡"><a href="#1ï¼‰çˆ¶ç»„ä»¶å‘å­ç»„ä»¶é€šä¿¡" class="headerlink" title="1ï¼‰çˆ¶ç»„ä»¶å‘å­ç»„ä»¶é€šä¿¡"></a>1ï¼‰çˆ¶ç»„ä»¶å‘å­ç»„ä»¶é€šä¿¡</h4><p>çˆ¶ç»„ä»¶é€šè¿‡ props å‘å­ç»„ä»¶ä¼ é€’éœ€è¦çš„ä¿¡æ¯ã€‚çˆ¶ä¼ å­æ˜¯åœ¨çˆ¶ç»„ä»¶ä¸­ç›´æ¥ç»‘å®šä¸€ä¸ªæ­£å¸¸çš„å±æ€§ï¼Œè¿™ä¸ªå±æ€§å°±æ˜¯æŒ‡å…·ä½“çš„å€¼ï¼Œåœ¨å­ç»„ä»¶ä¸­ï¼Œç”¨ props å°±å¯ä»¥è·å–åˆ°è¿™ä¸ªå€¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å­ç»„ä»¶: Child</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">Child</span> = props =&gt; &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;props.name&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// çˆ¶ç»„ä»¶ Parent</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">Parent</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">Child</span> <span class="attr">name</span>=<span class="string">&quot;äº¬ç¨‹ä¸€ç¯&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">Child</span>&gt;</span></span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="2ï¼‰å­ç»„ä»¶å‘çˆ¶ç»„ä»¶é€šä¿¡"><a href="#2ï¼‰å­ç»„ä»¶å‘çˆ¶ç»„ä»¶é€šä¿¡" class="headerlink" title="2ï¼‰å­ç»„ä»¶å‘çˆ¶ç»„ä»¶é€šä¿¡"></a>2ï¼‰å­ç»„ä»¶å‘çˆ¶ç»„ä»¶é€šä¿¡</h4><p>props+å›è°ƒçš„æ–¹å¼ï¼Œä½¿ç”¨å…¬å…±ç»„ä»¶è¿›è¡ŒçŠ¶æ€æå‡ã€‚å­ä¼ çˆ¶æ˜¯å…ˆåœ¨çˆ¶ç»„ä»¶ä¸Šç»‘å®šå±æ€§è®¾ç½®ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œå½“å­ç»„ä»¶éœ€è¦ç»™çˆ¶ç»„ä»¶ä¼ å€¼çš„æ—¶å€™ï¼Œåˆ™é€šè¿‡ props è°ƒç”¨è¯¥å‡½æ•°å°†å‚æ•°ä¼ å…¥åˆ°è¯¥å‡½æ•°å½“ä¸­ï¼Œæ­¤æ—¶å°±å¯ä»¥åœ¨çˆ¶ç»„ä»¶ä¸­çš„å‡½æ•°ä¸­æ¥æ”¶åˆ°è¯¥å‚æ•°äº†ï¼Œè¿™ä¸ªå‚æ•°åˆ™ä¸ºå­ç»„ä»¶ä¼ è¿‡æ¥çš„å€¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å­ç»„ä»¶: Child</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">Child</span> = props =&gt; &#123;</span><br><span class="line">	<span class="keyword">const</span> <span class="title function_">cb</span> = msg =&gt; &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">			props.<span class="title function_">callback</span>(msg);</span><br><span class="line">		&#125;;</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;cb(</span>&#x27;<span class="attr">äº¬ç¨‹ä¸€ç¯æ¬¢è¿ä½ </span>!&#x27;)&#125;&gt;</span>äº¬ç¨‹ä¸€ç¯æ¬¢è¿ä½ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// çˆ¶ç»„ä»¶ Parent</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Parent</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">	<span class="title function_">callback</span>(<span class="params">msg</span>) &#123;</span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">log</span>(msg);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">Child</span> <span class="attr">callback</span>=<span class="string">&#123;this.callback.bind(this)&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">Child</span>&gt;</span></span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3ï¼‰è·¨çº§ç»„ä»¶é€šä¿¡"><a href="#3ï¼‰è·¨çº§ç»„ä»¶é€šä¿¡" class="headerlink" title="3ï¼‰è·¨çº§ç»„ä»¶é€šä¿¡"></a>3ï¼‰è·¨çº§ç»„ä»¶é€šä¿¡</h4><p>å³çˆ¶ç»„ä»¶å‘å­ç»„ä»¶çš„å­ç»„ä»¶é€šä¿¡ï¼Œå‘æ›´æ·±å±‚å­ç»„ä»¶é€šä¿¡ã€‚</p>
<ul>
<li>ä½¿ç”¨ propsï¼Œåˆ©ç”¨ä¸­é—´ç»„ä»¶å±‚å±‚ä¼ é€’,ä½†æ˜¯å¦‚æœçˆ¶ç»„ä»¶ç»“æ„è¾ƒæ·±ï¼Œé‚£ä¹ˆä¸­é—´æ¯ä¸€å±‚ç»„ä»¶éƒ½è¦å»ä¼ é€’ propsï¼Œå¢åŠ äº†å¤æ‚åº¦ï¼Œå¹¶ä¸”è¿™äº› props å¹¶ä¸æ˜¯ä¸­é—´ç»„ä»¶è‡ªå·±éœ€è¦çš„ã€‚</li>
<li>ä½¿ç”¨ contextï¼Œcontext ç›¸å½“äºä¸€ä¸ªå¤§å®¹å™¨ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¦é€šä¿¡çš„å†…å®¹æ”¾åœ¨è¿™ä¸ªå®¹å™¨ä¸­ï¼Œè¿™æ ·ä¸ç®¡åµŒå¥—å¤šæ·±ï¼Œéƒ½å¯ä»¥éšæ„å–ç”¨ï¼Œå¯¹äºè·¨è¶Šå¤šå±‚çš„å…¨å±€æ•°æ®å¯ä»¥ä½¿ç”¨ context å®ç°ã€‚</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// contextæ–¹å¼å®ç°è·¨çº§ç»„ä»¶é€šä¿¡</span></span><br><span class="line"><span class="comment">// Context è®¾è®¡ç›®çš„æ˜¯ä¸ºäº†å…±äº«é‚£äº›å¯¹äºä¸€ä¸ªç»„ä»¶æ ‘è€Œè¨€æ˜¯â€œå…¨å±€â€çš„æ•°æ®</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">BatteryContext</span> = <span class="title function_">createContext</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">//  å­ç»„ä»¶çš„å­ç»„ä»¶</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GrandChild</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">	<span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">BatteryContext.Consumer</span>&gt;</span>&#123;color =&gt; <span class="tag">&lt;<span class="name">h1</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">color:</span> <span class="attr">color</span> &#125;&#125;&gt;</span>æˆ‘æ˜¯çº¢è‰²çš„:&#123;color&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>&#125;<span class="tag">&lt;/<span class="name">BatteryContext.Consumer</span>&gt;</span></span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  å­ç»„ä»¶</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">Child</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">GrandChild</span> /&gt;</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// çˆ¶ç»„ä»¶</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Parent</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">	state = &#123;</span><br><span class="line">		<span class="attr">color</span>: <span class="string">&#x27;red&#x27;</span>,</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">		<span class="keyword">const</span> &#123; color &#125; = <span class="variable language_">this</span>.<span class="property">state</span>;</span><br><span class="line">		<span class="keyword">return</span> (</span><br><span class="line">			<span class="language-xml"><span class="tag">&lt;<span class="name">BatteryContext.Provider</span> <span class="attr">value</span>=<span class="string">&#123;color&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">				<span class="tag">&lt;<span class="name">Child</span>&gt;</span><span class="tag">&lt;/<span class="name">Child</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">			<span class="tag">&lt;/<span class="name">BatteryContext.Provider</span>&gt;</span></span></span><br><span class="line">		);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4ï¼‰éåµŒå¥—å…³ç³»çš„ç»„ä»¶é€šä¿¡"><a href="#4ï¼‰éåµŒå¥—å…³ç³»çš„ç»„ä»¶é€šä¿¡" class="headerlink" title="4ï¼‰éåµŒå¥—å…³ç³»çš„ç»„ä»¶é€šä¿¡"></a>4ï¼‰éåµŒå¥—å…³ç³»çš„ç»„ä»¶é€šä¿¡</h4><p>å³æ²¡æœ‰ä»»ä½•åŒ…å«å…³ç³»çš„ç»„ä»¶ï¼ŒåŒ…æ‹¬å…„å¼Ÿç»„ä»¶ä»¥åŠä¸åœ¨åŒä¸€ä¸ªçˆ¶çº§ä¸­çš„éå…„å¼Ÿç»„ä»¶ã€‚</p>
<ul>
<li><ol>
<li>å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰äº‹ä»¶é€šä¿¡ï¼ˆå‘å¸ƒè®¢é˜…æ¨¡å¼ï¼‰ï¼Œä½¿ç”¨ pubsub-js</li>
</ol>
</li>
<li><ol start="2">
<li>å¯ä»¥é€šè¿‡ redux ç­‰è¿›è¡Œå…¨å±€çŠ¶æ€ç®¡ç†</li>
</ol>
</li>
<li><ol start="3">
<li>å¦‚æœæ˜¯å…„å¼Ÿç»„ä»¶é€šä¿¡ï¼Œå¯ä»¥æ‰¾åˆ°è¿™ä¸¤ä¸ªå…„å¼ŸèŠ‚ç‚¹å…±åŒçš„çˆ¶èŠ‚ç‚¹, ç»“åˆçˆ¶å­é—´é€šä¿¡æ–¹å¼è¿›è¡Œé€šä¿¡ã€‚</li>
</ol>
</li>
<li><ol start="4">
<li>ä¹Ÿå¯ä»¥ new ä¸€ä¸ª Vue çš„ EventBus,è¿›è¡Œäº‹ä»¶ç›‘å¬ï¼Œä¸€è¾¹æ‰§è¡Œç›‘å¬ï¼Œä¸€è¾¹æ‰§è¡Œæ–°å¢ VUE çš„ eventBus å°±æ˜¯å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œæ˜¯å¯ä»¥åœ¨ React ä¸­ä½¿ç”¨çš„;</li>
</ol>
</li>
</ul>
<h3 id="setState-æ—¢å­˜åœ¨å¼‚æ­¥æƒ…å†µä¹Ÿå­˜åœ¨åŒæ­¥æƒ…å†µ"><a href="#setState-æ—¢å­˜åœ¨å¼‚æ­¥æƒ…å†µä¹Ÿå­˜åœ¨åŒæ­¥æƒ…å†µ" class="headerlink" title="setState æ—¢å­˜åœ¨å¼‚æ­¥æƒ…å†µä¹Ÿå­˜åœ¨åŒæ­¥æƒ…å†µ"></a>setState æ—¢å­˜åœ¨å¼‚æ­¥æƒ…å†µä¹Ÿå­˜åœ¨åŒæ­¥æƒ…å†µ</h3><p>1.å¼‚æ­¥æƒ…å†µ åœ¨<code>Reactäº‹ä»¶å½“ä¸­æ˜¯å¼‚æ­¥æ“ä½œ</code></p>
<p>2.åŒæ­¥æƒ…å†µ å¦‚æœæ˜¯åœ¨<code>setTimeoutäº‹ä»¶æˆ–è€…è‡ªå®šä¹‰çš„domäº‹ä»¶</code>ä¸­ï¼Œéƒ½æ˜¯åŒæ­¥çš„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//setTimeoutäº‹ä»¶</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; <span class="title class_">Component</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Count</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">	<span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">		<span class="variable language_">super</span>(props);</span><br><span class="line">		<span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">			<span class="attr">count</span>: <span class="number">0</span>,</span><br><span class="line">		&#125;;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> (</span><br><span class="line">			<span class="language-xml"><span class="tag">&lt;&gt;</span></span></span><br><span class="line"><span class="language-xml">				<span class="tag">&lt;<span class="name">p</span>&gt;</span>count:&#123;this.state.count&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">				<span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.btnAction&#125;</span>&gt;</span>å¢åŠ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">			<span class="tag">&lt;/&gt;</span></span></span><br><span class="line">		);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	btnAction = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">		<span class="comment">//ä¸èƒ½ç›´æ¥ä¿®æ”¹stateï¼Œéœ€è¦é€šè¿‡setStateè¿›è¡Œä¿®æ”¹</span></span><br><span class="line">		<span class="comment">//åŒæ­¥</span></span><br><span class="line">		<span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">			<span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">				<span class="attr">count</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">count</span> + <span class="number">1</span>,</span><br><span class="line">			&#125;);</span><br><span class="line">			<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">count</span>);</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Count</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è‡ªå®šä¹‰domäº‹ä»¶</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; <span class="title class_">Component</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Count</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">	<span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">		<span class="variable language_">super</span>(props);</span><br><span class="line">		<span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">			<span class="attr">count</span>: <span class="number">0</span>,</span><br><span class="line">		&#125;;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> (</span><br><span class="line">			<span class="language-xml"><span class="tag">&lt;&gt;</span></span></span><br><span class="line"><span class="language-xml">				<span class="tag">&lt;<span class="name">p</span>&gt;</span>count:&#123;this.state.count&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">				<span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>ç»‘å®šç‚¹å‡»äº‹ä»¶<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">			<span class="tag">&lt;/&gt;</span></span></span><br><span class="line">		);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="title function_">componentDidMount</span>(<span class="params"></span>) &#123;</span><br><span class="line">		<span class="comment">//è‡ªå®šä¹‰domäº‹ä»¶ï¼Œä¹Ÿæ˜¯åŒæ­¥ä¿®æ”¹</span></span><br><span class="line">		<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#btn&#x27;</span>).<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">			<span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">				<span class="attr">count</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">count</span> + <span class="number">1</span>,</span><br><span class="line">			&#125;);</span><br><span class="line">			<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">count</span>);</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Count</span>;</span><br></pre></td></tr></table></figure>

<h3 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h3><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8bae01e6eb804d849e5bb889f787707d~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">å®‰è£…</span><br><span class="line">å½“ç»„ä»¶çš„å®ä¾‹è¢«åˆ›å»ºå¹¶æ’å…¥åˆ° <span class="variable constant_">DOM</span> ä¸­æ—¶ï¼Œè¿™äº›æ–¹æ³•æŒ‰ä»¥ä¸‹é¡ºåºè°ƒç”¨ï¼š</span><br><span class="line"></span><br><span class="line"><span class="title function_">constructor</span>(<span class="params"></span>)</span><br><span class="line"><span class="keyword">static</span> <span class="title function_">getDerivedStateFromProps</span>()</span><br><span class="line"><span class="title function_">render</span>()</span><br><span class="line"><span class="title function_">componentDidMount</span>()</span><br><span class="line"></span><br><span class="line">æ›´æ–°ä¸­</span><br><span class="line">æ›´æ–°å¯èƒ½ç”±é“å…·æˆ–çŠ¶æ€çš„æ›´æ”¹å¼•èµ·ã€‚å½“é‡æ–°æ¸²æŸ“ç»„ä»¶æ—¶ï¼Œè¿™äº›æ–¹æ³•æŒ‰ä»¥ä¸‹é¡ºåºè°ƒç”¨ï¼š</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="title function_">getDerivedStateFromProps</span>()</span><br><span class="line"><span class="title function_">shouldComponentUpdate</span>()</span><br><span class="line"><span class="title function_">render</span>()</span><br><span class="line"><span class="title function_">getSnapshotBeforeUpdate</span>()</span><br><span class="line"><span class="title function_">componentDidUpdate</span>()</span><br><span class="line"></span><br><span class="line">å¸è½½</span><br><span class="line">å½“ç»„ä»¶ä» <span class="variable constant_">DOM</span> ä¸­ç§»é™¤æ—¶è°ƒç”¨æ­¤æ–¹æ³•ï¼š</span><br><span class="line"></span><br><span class="line"><span class="title function_">componentWillUnmount</span>()</span><br></pre></td></tr></table></figure>

<h3 id="è¯´ä¸€ä¸‹-react-fiber"><a href="#è¯´ä¸€ä¸‹-react-fiber" class="headerlink" title="è¯´ä¸€ä¸‹ react-fiber"></a>è¯´ä¸€ä¸‹ react-fiber</h3><h4 id="1ï¼‰èƒŒæ™¯"><a href="#1ï¼‰èƒŒæ™¯" class="headerlink" title="1ï¼‰èƒŒæ™¯"></a>1ï¼‰èƒŒæ™¯</h4><p>react-fiber äº§ç”Ÿçš„æ ¹æœ¬åŸå› ï¼Œæ˜¯<code>å¤§é‡çš„åŒæ­¥è®¡ç®—ä»»åŠ¡é˜»å¡äº†æµè§ˆå™¨çš„ UI æ¸²æŸ“</code>ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒJS è¿ç®—ã€é¡µé¢å¸ƒå±€å’Œé¡µé¢ç»˜åˆ¶éƒ½æ˜¯è¿è¡Œåœ¨æµè§ˆå™¨çš„ä¸»çº¿ç¨‹å½“ä¸­ï¼Œä»–ä»¬ä¹‹é—´æ˜¯äº’æ–¥çš„å…³ç³»ã€‚å¦‚æœ JS è¿ç®—æŒç»­å ç”¨ä¸»çº¿ç¨‹ï¼Œé¡µé¢å°±æ²¡æ³•å¾—åˆ°åŠæ—¶çš„æ›´æ–°ã€‚å½“æˆ‘ä»¬è°ƒç”¨<code>setState</code>æ›´æ–°é¡µé¢çš„æ—¶å€™ï¼ŒReact ä¼šéå†åº”ç”¨çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œè®¡ç®—å‡ºå·®å¼‚ï¼Œç„¶åå†æ›´æ–° UIã€‚å¦‚æœé¡µé¢å…ƒç´ å¾ˆå¤šï¼Œæ•´ä¸ªè¿‡ç¨‹å ç”¨çš„æ—¶æœºå°±å¯èƒ½è¶…è¿‡ 16 æ¯«ç§’ï¼Œå°±å®¹æ˜“å‡ºç°æ‰å¸§çš„ç°è±¡ã€‚</p>
<h4 id="2ï¼‰å®ç°åŸç†"><a href="#2ï¼‰å®ç°åŸç†" class="headerlink" title="2ï¼‰å®ç°åŸç†"></a>2ï¼‰å®ç°åŸç†</h4><ul>
<li><p>react å†…éƒ¨è¿è½¬åˆ†ä¸‰å±‚ï¼š</p>
<ul>
<li>Virtual DOM å±‚ï¼Œæè¿°é¡µé¢é•¿ä»€ä¹ˆæ ·ã€‚</li>
<li>Reconciler å±‚ï¼Œè´Ÿè´£è°ƒç”¨ç»„ä»¶ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œè¿›è¡Œ Diff è¿ç®—ç­‰ã€‚</li>
<li>Renderer å±‚ï¼Œæ ¹æ®ä¸åŒçš„å¹³å°ï¼Œæ¸²æŸ“å‡ºç›¸åº”çš„é¡µé¢ï¼Œæ¯”è¾ƒå¸¸è§çš„æ˜¯ ReactDOM å’Œ ReactNativeã€‚</li>
</ul>
</li>
</ul>
<p><code>Fiber å…¶å®æŒ‡çš„æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå®ƒå¯ä»¥ç”¨ä¸€ä¸ªçº¯ JS å¯¹è±¡æ¥è¡¨ç¤º</code>ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fiber = &#123;</span><br><span class="line">	stateNode, <span class="comment">// èŠ‚ç‚¹å®ä¾‹</span></span><br><span class="line">	child, <span class="comment">// å­èŠ‚ç‚¹</span></span><br><span class="line">	sibling, <span class="comment">// å…„å¼ŸèŠ‚ç‚¹</span></span><br><span class="line">	<span class="keyword">return</span>, <span class="comment">// çˆ¶èŠ‚ç‚¹</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>ä¸ºäº†å®ç°ä¸å¡é¡¿ï¼Œå°±éœ€è¦æœ‰ä¸€ä¸ªè°ƒåº¦å™¨ (Scheduler) æ¥è¿›è¡Œä»»åŠ¡åˆ†é…ã€‚ä¼˜å…ˆçº§é«˜çš„ä»»åŠ¡ï¼ˆå¦‚é”®ç›˜è¾“å…¥ï¼‰å¯ä»¥æ‰“æ–­ä¼˜å…ˆçº§ä½çš„ä»»åŠ¡ï¼ˆå¦‚ Diffï¼‰çš„æ‰§è¡Œï¼Œä»è€Œæ›´å¿«çš„ç”Ÿæ•ˆã€‚ä»»åŠ¡çš„ä¼˜å…ˆçº§æœ‰å…­ç§ï¼š</p>
<ul>
<li>synchronousï¼Œä¸ä¹‹å‰çš„ Stack Reconciler æ“ä½œä¸€æ ·ï¼ŒåŒæ­¥æ‰§è¡Œ</li>
<li>taskï¼Œåœ¨ next tick ä¹‹å‰æ‰§è¡Œ</li>
<li>animationï¼Œä¸‹ä¸€å¸§ä¹‹å‰æ‰§è¡Œ</li>
<li>highï¼Œåœ¨ä¸ä¹…çš„å°†æ¥ç«‹å³æ‰§è¡Œ</li>
<li>lowï¼Œç¨å¾®å»¶è¿Ÿæ‰§è¡Œä¹Ÿæ²¡å…³ç³»</li>
<li>offscreenï¼Œä¸‹ä¸€æ¬¡ render æ—¶æˆ– scroll æ—¶æ‰æ‰§è¡Œ</li>
</ul>
</li>
<li><p>Fiber Reconcilerï¼ˆreact ï¼‰æ‰§è¡Œè¿‡ç¨‹åˆ†ä¸º 2 ä¸ªé˜¶æ®µï¼š</p>
<ul>
<li>é˜¶æ®µä¸€ï¼Œç”Ÿæˆ Fiber æ ‘ï¼Œå¾—å‡ºéœ€è¦æ›´æ–°çš„èŠ‚ç‚¹ä¿¡æ¯ã€‚è¿™ä¸€æ­¥æ˜¯ä¸€ä¸ªæ¸è¿›çš„è¿‡ç¨‹ï¼Œå¯ä»¥è¢«æ‰“æ–­ã€‚é˜¶æ®µä¸€å¯è¢«æ‰“æ–­çš„ç‰¹æ€§ï¼Œè®©ä¼˜å…ˆçº§æ›´é«˜çš„ä»»åŠ¡å…ˆæ‰§è¡Œï¼Œä»æ¡†æ¶å±‚é¢å¤§å¤§é™ä½äº†é¡µé¢æ‰å¸§çš„æ¦‚ç‡ã€‚</li>
<li>é˜¶æ®µäºŒï¼Œå°†éœ€è¦æ›´æ–°çš„èŠ‚ç‚¹ä¸€æ¬¡è¿‡æ‰¹é‡æ›´æ–°ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸èƒ½è¢«æ‰“æ–­ã€‚</li>
</ul>
</li>
<li><p>Fiber æ ‘ï¼šReact åœ¨ render ç¬¬ä¸€æ¬¡æ¸²æŸ“æ—¶ï¼Œä¼šé€šè¿‡ React.createElement åˆ›å»ºä¸€é¢— Element æ ‘ï¼Œå¯ä»¥ç§°ä¹‹ä¸º Virtual DOM Treeï¼Œç”±äºè¦è®°å½•ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼ŒåŠ å…¥äº† Fiberï¼Œæ¯ä¸€ä¸ª Element ä¼šå¯¹åº”ä¸€ä¸ª Fiber Nodeï¼Œå°† Fiber Node é“¾æ¥èµ·æ¥çš„ç»“æ„æˆä¸º Fiber Treeã€‚Fiber Tree ä¸€ä¸ªé‡è¦çš„ç‰¹ç‚¹æ˜¯é“¾è¡¨ç»“æ„ï¼Œå°†é€’å½’éå†ç¼–ç¨‹å¾ªç¯éå†ï¼Œç„¶åé…åˆ requestIdleCallback API, å®ç°ä»»åŠ¡æ‹†åˆ†ã€ä¸­æ–­ä¸æ¢å¤ã€‚</p>
</li>
</ul>
<p>ä» Stack Reconciler åˆ° Fiber Reconcilerï¼Œæºç å±‚é¢å…¶å®å°±æ˜¯å¹²äº†ä¸€ä»¶é€’å½’æ”¹å¾ªç¯çš„äº‹æƒ…</p>
<p>ä¼ é€é—¨ â˜<a target="_blank" rel="noopener" href="https://juejin.cn/post/7002250258826657799"># æ·±å…¥äº†è§£ Fiber</a></p>
<h3 id="Portals"><a href="#Portals" class="headerlink" title="Portals"></a>Portals</h3><p>Portals æä¾›äº†ä¸€ç§ä¸€æµçš„æ–¹å¼æ¥å°†å­ç»„ä»¶æ¸²æŸ“åˆ°å­˜åœ¨äºçˆ¶ç»„ä»¶çš„ DOM å±‚æ¬¡ç»“æ„ä¹‹å¤–çš„ DOM èŠ‚ç‚¹ä¸­ã€‚ç»“æ„ä¸å—å¤–ç•Œçš„æ§åˆ¶çš„æƒ…å†µä¸‹å°±å¯ä»¥ä½¿ç”¨ portals è¿›è¡Œåˆ›å»º</p>
<h3 id="ä½•æ—¶è¦ä½¿ç”¨å¼‚æ­¥ç»„ä»¶ï¼Ÿå¦‚å’Œä½¿ç”¨å¼‚æ­¥ç»„ä»¶"><a href="#ä½•æ—¶è¦ä½¿ç”¨å¼‚æ­¥ç»„ä»¶ï¼Ÿå¦‚å’Œä½¿ç”¨å¼‚æ­¥ç»„ä»¶" class="headerlink" title="ä½•æ—¶è¦ä½¿ç”¨å¼‚æ­¥ç»„ä»¶ï¼Ÿå¦‚å’Œä½¿ç”¨å¼‚æ­¥ç»„ä»¶"></a>ä½•æ—¶è¦ä½¿ç”¨å¼‚æ­¥ç»„ä»¶ï¼Ÿå¦‚å’Œä½¿ç”¨å¼‚æ­¥ç»„ä»¶</h3><ul>
<li>åŠ è½½å¤§ç»„ä»¶çš„æ—¶å€™</li>
<li>è·¯ç”±å¼‚æ­¥åŠ è½½çš„æ—¶å€™</li>
</ul>
<p>react ä¸­è¦é…åˆ Suspense ä½¿ç”¨</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼‚æ­¥æ‡’åŠ è½½</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Box</span> = <span class="title function_">lazy</span>(<span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;./components/Box&#x27;</span>));</span><br><span class="line"><span class="comment">// ä½¿ç”¨ç»„ä»¶çš„æ—¶å€™è¦ç”¨suspenseè¿›è¡ŒåŒ…è£¹</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Suspense</span> <span class="attr">fallback</span>=<span class="string">&#123;</span>&lt;<span class="attr">div</span>&gt;</span>loading...<span class="tag">&lt;/<span class="name">div</span>&gt;</span>&#125;&gt;&#123;show &amp;&amp; <span class="tag">&lt;<span class="name">Box</span> /&gt;</span>&#125;<span class="tag">&lt;/<span class="name">Suspense</span>&gt;</span></span>;</span><br></pre></td></tr></table></figure>

<h3 id="React-äº‹ä»¶ç»‘å®šåŸç†"><a href="#React-äº‹ä»¶ç»‘å®šåŸç†" class="headerlink" title="React äº‹ä»¶ç»‘å®šåŸç†"></a>React äº‹ä»¶ç»‘å®šåŸç†</h3><p>React å¹¶ä¸æ˜¯å°† click äº‹ä»¶ç»‘åœ¨è¯¥ div çš„çœŸå® DOM ä¸Šï¼Œè€Œæ˜¯<code>åœ¨documentå¤„ç›‘å¬æ‰€æœ‰æ”¯æŒçš„äº‹ä»¶</code>ï¼Œå½“äº‹ä»¶å‘ç”Ÿå¹¶å†’æ³¡è‡³ document å¤„æ—¶ï¼ŒReact å°†äº‹ä»¶å†…å®¹å°è£…å¹¶äº¤ç”±çœŸæ­£çš„å¤„ç†å‡½æ•°è¿è¡Œã€‚è¿™æ ·çš„æ–¹å¼ä¸ä»…å‡å°‘äº†å†…å­˜æ¶ˆè€—ï¼Œè¿˜èƒ½åœ¨ç»„ä»¶æŒ‚è½½é”€æ¯æ—¶ç»Ÿä¸€è®¢é˜…å’Œç§»é™¤äº‹ä»¶ã€‚<br>å¦å¤–å†’æ³¡åˆ° document ä¸Šçš„äº‹ä»¶ä¹Ÿä¸æ˜¯åŸç”Ÿæµè§ˆå™¨äº‹ä»¶ï¼Œè€Œæ˜¯ React è‡ªå·±å®ç°çš„åˆæˆäº‹ä»¶ï¼ˆSyntheticEventï¼‰ã€‚å› æ­¤æˆ‘ä»¬å¦‚æœä¸æƒ³è¦äº‹ä»¶å†’æ³¡çš„è¯ï¼Œè°ƒç”¨ event.stopPropagation æ˜¯æ— æ•ˆçš„ï¼Œè€Œåº”è¯¥è°ƒç”¨ <code>event.preventDefault</code>ã€‚</p>
<p><img src="https://gitee.com/xjxjxj123/xiaojun-personal-blog/raw/master/images/2089718f74b342869de15f01588f033f~tplv-k3u1fbpfcp-zoom-1.image" alt="reactäº‹ä»¶ç»‘å®šåŸç†"></p>
<h3 id="React-lazy-å®ç°çš„åŸç†"><a href="#React-lazy-å®ç°çš„åŸç†" class="headerlink" title="React.lazy() å®ç°çš„åŸç†"></a>React.lazy() å®ç°çš„åŸç†</h3><p>React çš„æ‡’åŠ è½½ç¤ºä¾‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; <span class="title class_">Suspense</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">OtherComponent</span> = <span class="title class_">React</span>.<span class="title function_">lazy</span>(<span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;./OtherComponent&#x27;</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">MyComponent</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="keyword">return</span> (</span><br><span class="line">		<span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">			<span class="tag">&lt;<span class="name">Suspense</span> <span class="attr">fallback</span>=<span class="string">&#123;</span>&lt;<span class="attr">div</span>&gt;</span>Loading...<span class="tag">&lt;/<span class="name">div</span>&gt;</span>&#125;&gt;</span></span><br><span class="line"><span class="language-xml">				<span class="tag">&lt;<span class="name">OtherComponent</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">			<span class="tag">&lt;/<span class="name">Suspense</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">	);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>React.lazy åŸç†</strong></p>
<p>ä»¥ä¸‹ React æºç åŸºäº 16.8.0 ç‰ˆæœ¬</p>
<p>React.lazy çš„æºç å®ç°å¦‚ä¸‹ï¼š</p>
<p>export function lazy&lt;T, R&gt;(ctor: () &#x3D;&gt; Thenable&lt;T, R&gt;): LazyComponent<T> {<br>let lazyType &#x3D; {<br>$$typeof: REACT_LAZY_TYPE,<br>_ctor: ctor,<br>&#x2F;&#x2F; React uses these fields to store the result.<br>_status: -1,<br>_result: null,<br>};</p>
<p>return lazyType;<br>}<br>å¯ä»¥çœ‹åˆ°å…¶è¿”å›äº†ä¸€ä¸ª LazyComponent å¯¹è±¡ã€‚</p>
<p>è€Œå¯¹äº LazyComponent å¯¹è±¡çš„è§£æï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="title class_">LazyComponent</span>: &#123;</span><br><span class="line">  <span class="keyword">const</span> elementType = workInProgress.<span class="property">elementType</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">mountLazyComponent</span>(</span><br><span class="line">    current,</span><br><span class="line">    workInProgress,</span><br><span class="line">    elementType,</span><br><span class="line">    updateExpirationTime,</span><br><span class="line">    renderExpirationTime,</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">mountLazyComponent</span>(<span class="params"></span></span><br><span class="line"><span class="params">  _current,</span></span><br><span class="line"><span class="params">  workInProgress,</span></span><br><span class="line"><span class="params">  elementType,</span></span><br><span class="line"><span class="params">  updateExpirationTime,</span></span><br><span class="line"><span class="params">  renderExpirationTime,</span></span><br><span class="line"><span class="params"></span>) &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">let</span> <span class="title class_">Component</span> = <span class="title function_">readLazyComponentType</span>(elementType);</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Pending = 0, Resolved = 1, Rejected = 2</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> readLazyComponentType&lt;T&gt;(<span class="attr">lazyComponent</span>: <span class="title class_">LazyComponent</span>&lt;T&gt;): T &#123;</span><br><span class="line">	<span class="keyword">const</span> status = lazyComponent.<span class="property">_status</span>;</span><br><span class="line">	<span class="keyword">const</span> result = lazyComponent.<span class="property">_result</span>;</span><br><span class="line">	<span class="keyword">switch</span> (status) &#123;</span><br><span class="line">		<span class="keyword">case</span> <span class="title class_">Resolved</span>: &#123;</span><br><span class="line">			<span class="keyword">const</span> <span class="title class_">Component</span>: T = result;</span><br><span class="line">			<span class="keyword">return</span> <span class="title class_">Component</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">case</span> <span class="title class_">Rejected</span>: &#123;</span><br><span class="line">			<span class="keyword">const</span> <span class="attr">error</span>: mixed = result;</span><br><span class="line">			<span class="keyword">throw</span> error;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">case</span> <span class="title class_">Pending</span>: &#123;</span><br><span class="line">			<span class="keyword">const</span> <span class="attr">thenable</span>: <span class="title class_">Thenable</span>&lt;T, mixed&gt; = result;</span><br><span class="line">			<span class="keyword">throw</span> thenable;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="attr">default</span>: &#123;</span><br><span class="line">			<span class="comment">// lazyComponent é¦–æ¬¡è¢«æ¸²æŸ“</span></span><br><span class="line">			lazyComponent.<span class="property">_status</span> = <span class="title class_">Pending</span>;</span><br><span class="line">			<span class="keyword">const</span> ctor = lazyComponent.<span class="property">_ctor</span>;</span><br><span class="line">			<span class="keyword">const</span> thenable = <span class="title function_">ctor</span>();</span><br><span class="line">			thenable.<span class="title function_">then</span>(</span><br><span class="line">				<span class="function"><span class="params">moduleObject</span> =&gt;</span> &#123;</span><br><span class="line">					<span class="keyword">if</span> (lazyComponent.<span class="property">_status</span> === <span class="title class_">Pending</span>) &#123;</span><br><span class="line">						<span class="keyword">const</span> defaultExport = moduleObject.<span class="property">default</span>;</span><br><span class="line">						lazyComponent.<span class="property">_status</span> = <span class="title class_">Resolved</span>;</span><br><span class="line">						lazyComponent.<span class="property">_result</span> = defaultExport;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;,</span><br><span class="line">				<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">					<span class="keyword">if</span> (lazyComponent.<span class="property">_status</span> === <span class="title class_">Pending</span>) &#123;</span><br><span class="line">						lazyComponent.<span class="property">_status</span> = <span class="title class_">Rejected</span>;</span><br><span class="line">						lazyComponent.<span class="property">_result</span> = error;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			);</span><br><span class="line">			<span class="comment">// Handle synchronous thenables.</span></span><br><span class="line">			<span class="keyword">switch</span> (lazyComponent.<span class="property">_status</span>) &#123;</span><br><span class="line">				<span class="keyword">case</span> <span class="title class_">Resolved</span>:</span><br><span class="line">					<span class="keyword">return</span> lazyComponent.<span class="property">_result</span>;</span><br><span class="line">				<span class="keyword">case</span> <span class="title class_">Rejected</span>:</span><br><span class="line">					<span class="keyword">throw</span> lazyComponent.<span class="property">_result</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			lazyComponent.<span class="property">_result</span> = thenable;</span><br><span class="line">			<span class="keyword">throw</span> thenable;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ³¨ï¼šå¦‚æœ readLazyComponentType å‡½æ•°å¤šæ¬¡å¤„ç†åŒä¸€ä¸ª lazyComponentï¼Œåˆ™å¯èƒ½è¿›å…¥ Pendingã€Rejected ç­‰ case ä¸­ã€‚</p>
<p>ä»ä¸Šè¿°ä»£ç ä¸­å¯ä»¥çœ‹å‡ºï¼Œå¯¹äºæœ€åˆ React.lazy() æ‰€è¿”å›çš„ LazyComponent å¯¹è±¡ï¼Œå…¶ _status é»˜è®¤æ˜¯ -1ï¼Œæ‰€ä»¥é¦–æ¬¡æ¸²æŸ“æ—¶ï¼Œä¼šè¿›å…¥ readLazyComponentType å‡½æ•°ä¸­çš„ default çš„é€»è¾‘ï¼Œè¿™é‡Œæ‰ä¼šçœŸæ­£å¼‚æ­¥æ‰§è¡Œ import(url)æ“ä½œï¼Œç”±äºå¹¶æœªç­‰å¾…ï¼Œéšåä¼šæ£€æŸ¥æ¨¡å—æ˜¯å¦ Resolvedï¼Œå¦‚æœå·²ç» Resolved äº†ï¼ˆå·²ç»åŠ è½½å®Œæ¯•ï¼‰åˆ™ç›´æ¥è¿”å› moduleObject.defaultï¼ˆåŠ¨æ€åŠ è½½çš„æ¨¡å—çš„é»˜è®¤å¯¼å‡ºï¼‰ï¼Œå¦åˆ™å°†é€šè¿‡ throw å°† thenable æŠ›å‡ºåˆ°ä¸Šå±‚ã€‚</p>
<p>ä¸ºä»€ä¹ˆè¦ throw å®ƒï¼Ÿè¿™å°±è¦æ¶‰åŠåˆ° Suspense çš„å·¥ä½œåŸç†ï¼Œæˆ‘ä»¬æ¥ç€å¾€ä¸‹åˆ†æã€‚</p>
<p><strong>Suspense åŸç†</strong></p>
<p>ç”±äº React æ•è·å¼‚å¸¸å¹¶å¤„ç†çš„ä»£ç é€»è¾‘æ¯”è¾ƒå¤šï¼Œè¿™é‡Œå°±ä¸è´´æºç ï¼Œæ„Ÿå…´è¶£å¯ä»¥å»çœ‹ throwException ä¸­çš„é€»è¾‘ï¼Œå…¶ä¸­å°±åŒ…å«äº†å¦‚ä½•å¤„ç†æ•è·çš„å¼‚å¸¸ã€‚ç®€å•æè¿°ä¸€ä¸‹å¤„ç†è¿‡ç¨‹ï¼ŒReact æ•è·åˆ°å¼‚å¸¸ä¹‹åï¼Œä¼šåˆ¤æ–­å¼‚å¸¸æ˜¯ä¸æ˜¯ä¸€ä¸ª thenableï¼Œå¦‚æœæ˜¯åˆ™ä¼šæ‰¾åˆ° SuspenseComponent ï¼Œå¦‚æœ thenable å¤„äº pending çŠ¶æ€ï¼Œåˆ™ä¼šå°†å…¶ children éƒ½æ¸²æŸ“æˆ fallback çš„å€¼ï¼Œä¸€æ—¦ thenable è¢« resolve åˆ™ SuspenseComponent çš„å­ç»„ä»¶ä¼šé‡æ–°æ¸²æŸ“ä¸€æ¬¡ã€‚</p>
<p>ä¸ºäº†ä¾¿äºç†è§£ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨ componentDidCatch å®ç°ä¸€ä¸ªè‡ªå·±çš„ Suspense ç»„ä»¶ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Suspense</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">	state = &#123;</span><br><span class="line">		<span class="attr">promise</span>: <span class="literal">null</span>,</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="title function_">componentDidCatch</span>(<span class="params">err</span>) &#123;</span><br><span class="line">		<span class="comment">// åˆ¤æ–­ err æ˜¯å¦æ˜¯ thenable</span></span><br><span class="line">		<span class="keyword">if</span> (err !== <span class="literal">null</span> &amp;&amp; <span class="keyword">typeof</span> err === <span class="string">&#x27;object&#x27;</span> &amp;&amp; <span class="keyword">typeof</span> err.<span class="property">then</span> === <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">			<span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123; <span class="attr">promise</span>: err &#125;, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">				err.<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">					<span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">						<span class="attr">promise</span>: <span class="literal">null</span>,</span><br><span class="line">					&#125;);</span><br><span class="line">				&#125;);</span><br><span class="line">			&#125;);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">		<span class="keyword">const</span> &#123; fallback, children &#125; = <span class="variable language_">this</span>.<span class="property">props</span>;</span><br><span class="line">		<span class="keyword">const</span> &#123; promise &#125; = <span class="variable language_">this</span>.<span class="property">state</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;&gt;</span>&#123;promise ? fallback : children&#125;<span class="tag">&lt;/&gt;</span></span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è‡³æ­¤ï¼Œæˆ‘ä»¬åˆ†æå®Œäº† React çš„æ‡’åŠ è½½åŸç†ã€‚ç®€å•æ¥è¯´ï¼ŒReact åˆ©ç”¨ React.lazy ä¸ import()å®ç°äº†æ¸²æŸ“æ—¶çš„åŠ¨æ€åŠ è½½ ï¼Œå¹¶åˆ©ç”¨ Suspense æ¥å¤„ç†å¼‚æ­¥åŠ è½½èµ„æºæ—¶é¡µé¢åº”è¯¥å¦‚ä½•æ˜¾ç¤ºçš„é—®é¢˜ã€‚</p>
<p>å‚è€ƒä¼ é€é—¨ â˜ <a target="_blank" rel="noopener" href="https://thoamsy.github.io/blogs/react-lazy/">React Lazy çš„å®ç°åŸç†</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://770746548.github.io/2025/02/28/react/" data-id="cmkgdulh2000ey4mhh0hx0ili" data-title="ğŸ”¥ react" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%85%AB%E8%82%A1%E6%96%87/" rel="tag">å‰ç«¯å…«è‚¡æ–‡</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-æµè§ˆå™¨" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/02/28/%E6%B5%8F%E8%A7%88%E5%99%A8/" class="article-date">
  <time class="dt-published" datetime="2025-02-28T01:00:00.000Z" itemprop="datePublished">2025-02-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/02/28/%E6%B5%8F%E8%A7%88%E5%99%A8/">ğŸ”¥ æµè§ˆå™¨</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="æµè§ˆå™¨"><a href="#æµè§ˆå™¨" class="headerlink" title="æµè§ˆå™¨"></a>æµè§ˆå™¨</h1><h3 id="ä»è¾“å…¥-URL-åˆ°é¡µé¢åŠ è½½çš„å…¨è¿‡ç¨‹"><a href="#ä»è¾“å…¥-URL-åˆ°é¡µé¢åŠ è½½çš„å…¨è¿‡ç¨‹" class="headerlink" title="ä»è¾“å…¥ URL åˆ°é¡µé¢åŠ è½½çš„å…¨è¿‡ç¨‹"></a>ä»è¾“å…¥ URL åˆ°é¡µé¢åŠ è½½çš„å…¨è¿‡ç¨‹</h3><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e44aa8a92602405db3c12161b71e2094~tplv-k3u1fbpfcp-zoom-1.image" alt="ä»è¾“å…¥URLåˆ°é¡µé¢åŠ è½½çš„ä¸»å¹²æµç¨‹"></p>
<ol>
<li><p>é¦–å…ˆåœ¨æµè§ˆå™¨ä¸­è¾“å…¥ URL</p>
</li>
<li><p>æŸ¥æ‰¾ç¼“å­˜ï¼šæµè§ˆå™¨å…ˆæŸ¥çœ‹æµè§ˆå™¨ç¼“å­˜-ç³»ç»Ÿç¼“å­˜-è·¯ç”±ç¼“å­˜ä¸­æ˜¯å¦æœ‰è¯¥åœ°å€é¡µé¢ï¼Œå¦‚æœæœ‰åˆ™æ˜¾ç¤ºé¡µé¢å†…å®¹ã€‚å¦‚æœæ²¡æœ‰åˆ™è¿›è¡Œä¸‹ä¸€æ­¥ã€‚</p>
<ul>
<li>æµè§ˆå™¨ç¼“å­˜ï¼šæµè§ˆå™¨ä¼šè®°å½• DNS ä¸€æ®µæ—¶é—´ï¼Œå› æ­¤ï¼Œåªæ˜¯ç¬¬ä¸€ä¸ªåœ°æ–¹è§£æ DNS è¯·æ±‚ï¼›</li>
<li>æ“ä½œç³»ç»Ÿç¼“å­˜:å¦‚æœåœ¨æµè§ˆå™¨ç¼“å­˜ä¸­ä¸åŒ…å«è¿™ä¸ªè®°å½•ï¼Œåˆ™ä¼šä½¿ç³»ç»Ÿè°ƒç”¨æ“ä½œç³»ç»Ÿï¼Œ è·å–æ“ä½œç³»ç»Ÿçš„è®°å½•(ä¿å­˜æœ€è¿‘çš„ DNS æŸ¥è¯¢ç¼“å­˜)ï¼›</li>
<li>è·¯ç”±å™¨ç¼“å­˜ï¼šå¦‚æœä¸Šè¿°ä¸¤ä¸ªæ­¥éª¤å‡ä¸èƒ½æˆåŠŸè·å– DNS è®°å½•ï¼Œç»§ç»­æœç´¢è·¯ç”±å™¨ç¼“å­˜ï¼›</li>
<li>ISP ç¼“å­˜ï¼šè‹¥ä¸Šè¿°å‡å¤±è´¥ï¼Œç»§ç»­å‘ ISP æœç´¢ã€‚</li>
</ul>
</li>
<li><p>DNS åŸŸåè§£æï¼šæµè§ˆå™¨å‘ DNS æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œè§£æè¯¥ URL ä¸­çš„åŸŸåå¯¹åº”çš„ IP åœ°å€ã€‚<code>DNSæœåŠ¡å™¨æ˜¯åŸºäºUDPçš„ï¼Œå› æ­¤ä¼šç”¨åˆ°UDPåè®®</code>ã€‚</p>
</li>
<li><p>å»ºç«‹ TCP è¿æ¥ï¼šè§£æå‡º IP åœ°å€åï¼Œæ ¹æ® IP åœ°å€å’Œé»˜è®¤ 80 ç«¯å£ï¼Œå’ŒæœåŠ¡å™¨å»ºç«‹ TCP è¿æ¥</p>
</li>
<li><p>å‘èµ· HTTP è¯·æ±‚ï¼šæµè§ˆå™¨å‘èµ·è¯»å–æ–‡ä»¶çš„ HTTP è¯·æ±‚ï¼Œï¼Œè¯¥è¯·æ±‚æŠ¥æ–‡ä½œä¸º TCP ä¸‰æ¬¡æ¡æ‰‹çš„ç¬¬ä¸‰æ¬¡æ•°æ®å‘é€ç»™æœåŠ¡å™¨</p>
</li>
<li><p>æœåŠ¡å™¨å“åº”è¯·æ±‚å¹¶è¿”å›ç»“æœï¼šæœåŠ¡å™¨å¯¹æµè§ˆå™¨è¯·æ±‚åšå‡ºå“åº”ï¼Œå¹¶æŠŠå¯¹åº”çš„ html æ–‡ä»¶å‘é€ç»™æµè§ˆå™¨</p>
</li>
<li><p>å…³é—­ TCP è¿æ¥ï¼šé€šè¿‡å››æ¬¡æŒ¥æ‰‹é‡Šæ”¾ TCP è¿æ¥</p>
</li>
<li><p>æµè§ˆå™¨æ¸²æŸ“ï¼šå®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰è§£æ HTML å†…å®¹å¹¶æ¸²æŸ“å‡ºæ¥ï¼Œæµè§ˆå™¨æ¥æ”¶åˆ°æ•°æ®åŒ…åçš„è§£ææµç¨‹ä¸ºï¼š</p>
<ul>
<li>æ„å»º DOM æ ‘ï¼šè¯æ³•åˆ†æç„¶åè§£ææˆ DOM æ ‘ï¼ˆdom treeï¼‰ï¼Œæ˜¯ç”± dom å…ƒç´ åŠå±æ€§èŠ‚ç‚¹ç»„æˆï¼Œæ ‘çš„æ ¹æ˜¯ document å¯¹è±¡</li>
<li>æ„å»º CSS è§„åˆ™æ ‘ï¼šç”Ÿæˆ CSS è§„åˆ™æ ‘ï¼ˆCSS Rule Treeï¼‰</li>
<li>æ„å»º render æ ‘ï¼šWeb æµè§ˆå™¨å°† DOM å’Œ CSSOM ç»“åˆï¼Œå¹¶æ„å»ºå‡ºæ¸²æŸ“æ ‘ï¼ˆrender treeï¼‰</li>
<li>å¸ƒå±€ï¼ˆLayoutï¼‰ï¼šè®¡ç®—å‡ºæ¯ä¸ªèŠ‚ç‚¹åœ¨å±å¹•ä¸­çš„ä½ç½®</li>
<li>ç»˜åˆ¶ï¼ˆPaintingï¼‰ï¼šå³éå† render æ ‘ï¼Œå¹¶ä½¿ç”¨ UI åç«¯å±‚ç»˜åˆ¶æ¯ä¸ªèŠ‚ç‚¹ã€‚</li>
</ul>
<p><img src="https://gitee.com/xjxjxj123/xiaojun-personal-blog/raw/master/images/a90660027f0d4c559732519bad4c6323~tplv-k3u1fbpfcp-zoom-1.image" alt="æµè§ˆå™¨æ¸²æŸ“æµç¨‹å›¾"></p>
</li>
<li><p>JS å¼•æ“è§£æè¿‡ç¨‹ï¼šè°ƒç”¨ JS å¼•æ“æ‰§è¡Œ JS ä»£ç ï¼ˆJS çš„è§£é‡Šé˜¶æ®µï¼Œé¢„å¤„ç†é˜¶æ®µï¼Œæ‰§è¡Œé˜¶æ®µç”Ÿæˆæ‰§è¡Œä¸Šä¸‹æ–‡ï¼ŒVOï¼Œä½œç”¨åŸŸé“¾ã€å›æ”¶æœºåˆ¶ç­‰ç­‰ï¼‰</p>
<ul>
<li>åˆ›å»º window å¯¹è±¡ï¼šwindow å¯¹è±¡ä¹Ÿå«å…¨å±€æ‰§è¡Œç¯å¢ƒï¼Œå½“é¡µé¢äº§ç”Ÿæ—¶å°±è¢«åˆ›å»ºï¼Œæ‰€æœ‰çš„å…¨å±€å˜é‡å’Œå‡½æ•°éƒ½å±äº window çš„å±æ€§å’Œæ–¹æ³•ï¼Œè€Œ DOM Tree ä¹Ÿä¼šæ˜ å°„åœ¨ window çš„ doucment å¯¹è±¡ä¸Šã€‚å½“å…³é—­ç½‘é¡µæˆ–è€…å…³é—­æµè§ˆå™¨æ—¶ï¼Œå…¨å±€æ‰§è¡Œç¯å¢ƒä¼šè¢«é”€æ¯ã€‚</li>
<li>åŠ è½½æ–‡ä»¶ï¼šå®Œæˆ js å¼•æ“åˆ†æå®ƒçš„è¯­æ³•ä¸è¯æ³•æ˜¯å¦åˆæ³•ï¼Œå¦‚æœåˆæ³•è¿›å…¥é¢„ç¼–è¯‘</li>
<li>é¢„ç¼–è¯‘ï¼šåœ¨é¢„ç¼–è¯‘çš„è¿‡ç¨‹ä¸­ï¼Œæµè§ˆå™¨ä¼šå¯»æ‰¾å…¨å±€å˜é‡å£°æ˜ï¼ŒæŠŠå®ƒä½œä¸º window çš„å±æ€§åŠ å…¥åˆ° window å¯¹è±¡ä¸­ï¼Œå¹¶ç»™å˜é‡èµ‹å€¼ä¸ºâ€™undefinedâ€™ï¼›å¯»æ‰¾å…¨å±€å‡½æ•°å£°æ˜ï¼ŒæŠŠå®ƒä½œä¸º window çš„æ–¹æ³•åŠ å…¥åˆ° window å¯¹è±¡ä¸­ï¼Œå¹¶å°†å‡½æ•°ä½“èµ‹å€¼ç»™ä»–ï¼ˆåŒ¿åå‡½æ•°æ˜¯ä¸å‚ä¸é¢„ç¼–è¯‘çš„ï¼Œå› ä¸ºå®ƒæ˜¯å˜é‡ï¼‰ã€‚è€Œå˜é‡æå‡ä½œä¸ºä¸åˆç†çš„åœ°æ–¹åœ¨ ES6 ä¸­å·²ç»è§£å†³äº†ï¼Œå‡½æ•°æå‡è¿˜å­˜åœ¨ã€‚</li>
<li>è§£é‡Šæ‰§è¡Œï¼šæ‰§è¡Œåˆ°å˜é‡å°±èµ‹å€¼ï¼Œå¦‚æœå˜é‡æ²¡æœ‰è¢«å®šä¹‰ï¼Œä¹Ÿå°±æ²¡æœ‰è¢«é¢„ç¼–è¯‘ç›´æ¥èµ‹å€¼ï¼Œåœ¨ ES5 éä¸¥æ ¼æ¨¡å¼ä¸‹è¿™ä¸ªå˜é‡ä¼šæˆä¸º window çš„ä¸€ä¸ªå±æ€§ï¼Œä¹Ÿå°±æ˜¯æˆä¸ºå…¨å±€å˜é‡ã€‚stringã€int è¿™æ ·çš„å€¼å°±æ˜¯ç›´æ¥æŠŠå€¼æ”¾åœ¨å˜é‡çš„å­˜å‚¨ç©ºé—´é‡Œï¼Œobject å¯¹è±¡å°±æ˜¯æŠŠæŒ‡é’ˆæŒ‡å‘å˜é‡çš„å­˜å‚¨ç©ºé—´ã€‚å‡½æ•°æ‰§è¡Œï¼Œå°±å°†å‡½æ•°çš„ç¯å¢ƒæ¨å…¥ä¸€ä¸ªç¯å¢ƒçš„æ ˆä¸­ï¼Œæ‰§è¡Œå®Œæˆåå†å¼¹å‡ºï¼Œæ§åˆ¶æƒäº¤è¿˜ç»™ä¹‹å‰çš„ç¯å¢ƒã€‚JS ä½œç”¨åŸŸå…¶å®å°±æ˜¯è¿™æ ·çš„æ‰§è¡Œæµæœºåˆ¶å®ç°çš„ã€‚</li>
</ul>
</li>
</ol>
<p>ä¼ é€é—¨ â˜ <a target="_blank" rel="noopener" href="https://juejin.cn/post/7005468491067162655"># DNS åŸŸåè§£æè¿‡ç¨‹</a> â˜<a target="_blank" rel="noopener" href="https://juejin.cn/post/6992597760935460901"># æµè§ˆå™¨çš„å·¥ä½œåŸç†</a></p>
<h3 id="åœ¨æµè§ˆå™¨ä¸­è¾“å…¥-URL-åˆ°æ˜¾ç¤ºé¡µé¢ç»å†å“ªäº›è¿‡ç¨‹ï¼Œæ¶‰åŠåˆ°å“ªäº›åè®®ï¼Ÿ"><a href="#åœ¨æµè§ˆå™¨ä¸­è¾“å…¥-URL-åˆ°æ˜¾ç¤ºé¡µé¢ç»å†å“ªäº›è¿‡ç¨‹ï¼Œæ¶‰åŠåˆ°å“ªäº›åè®®ï¼Ÿ" class="headerlink" title="åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ URL åˆ°æ˜¾ç¤ºé¡µé¢ç»å†å“ªäº›è¿‡ç¨‹ï¼Œæ¶‰åŠåˆ°å“ªäº›åè®®ï¼Ÿ"></a>åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ URL åˆ°æ˜¾ç¤ºé¡µé¢ç»å†å“ªäº›è¿‡ç¨‹ï¼Œæ¶‰åŠåˆ°å“ªäº›åè®®ï¼Ÿ</h3><p>æµè§ˆå™¨è¦å°† URL è§£æä¸º IP åœ°å€ï¼Œè§£æåŸŸåå°±è¦ç”¨åˆ° DNS åè®®ï¼Œé¦–å…ˆä¸»æœºä¼šæŸ¥è¯¢ DNS çš„ç¼“å­˜ï¼Œå¦‚æœæ²¡æœ‰å°±ç»™æœ¬åœ° DNS å‘é€æŸ¥è¯¢è¯·æ±‚ã€‚DNS æŸ¥è¯¢åˆ†ä¸ºä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯é€’å½’æŸ¥è¯¢ï¼Œä¸€ç§æ˜¯è¿­ä»£æŸ¥è¯¢ã€‚å¦‚æœæ˜¯è¿­ä»£æŸ¥è¯¢ï¼Œæœ¬åœ°çš„ DNS æœåŠ¡å™¨ï¼Œå‘æ ¹åŸŸåæœåŠ¡å™¨å‘é€æŸ¥è¯¢è¯·æ±‚ï¼Œæ ¹åŸŸåæœåŠ¡å™¨å‘ŠçŸ¥è¯¥åŸŸåçš„ä¸€çº§åŸŸåæœåŠ¡å™¨ï¼Œç„¶åæœ¬åœ°æœåŠ¡å™¨ç»™è¯¥ä¸€çº§åŸŸåæœåŠ¡å™¨å‘é€æŸ¥è¯¢è¯·æ±‚ï¼Œç„¶åä¾æ¬¡ç±»æ¨ç›´åˆ°æŸ¥è¯¢åˆ°è¯¥åŸŸåçš„ IP åœ°å€ã€‚<code>DNSæœåŠ¡å™¨æ˜¯åŸºäºUDPçš„ï¼Œå› æ­¤ä¼šç”¨åˆ°UDPåè®®ã€‚</code></p>
<p>å¾—åˆ° IP åœ°å€åï¼Œæµè§ˆå™¨å°±è¦ä¸æœåŠ¡å™¨å»ºç«‹ä¸€ä¸ª http è¿æ¥ã€‚å› æ­¤è¦ç”¨åˆ° http åè®®ã€‚http ç”Ÿæˆä¸€ä¸ª get è¯·æ±‚æŠ¥æ–‡ï¼Œå°†è¯¥æŠ¥æ–‡ä¼ ç»™ TCP å±‚å¤„ç†ï¼Œæ‰€ä»¥è¿˜ä¼šç”¨åˆ° TCP åè®®ã€‚å¦‚æœé‡‡ç”¨ https è¿˜ä¼šä½¿ç”¨ https åè®®å…ˆå¯¹ http æ•°æ®è¿›è¡ŒåŠ å¯†ã€‚TCP å±‚å¦‚æœæœ‰éœ€è¦å…ˆå°† HTTP æ•°æ®åŒ…åˆ†ç‰‡ï¼Œåˆ†ç‰‡ä¾æ®è·¯å¾„ MTU å’Œ MSSã€‚TCP çš„æ•°æ®åŒ…ç„¶åä¼šå‘é€ç»™ IP å±‚ï¼Œç”¨åˆ° IP åè®®ã€‚IP å±‚é€šè¿‡è·¯ç”±é€‰è·¯ï¼Œä¸€è·³ä¸€è·³å‘é€åˆ°ç›®çš„åœ°å€ã€‚å½“ç„¶åœ¨ä¸€ä¸ªç½‘æ®µå†…çš„å¯»å€æ˜¯é€šè¿‡ä»¥å¤ªç½‘åè®®å®ç°(ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–ç‰©ç†å±‚åè®®ï¼Œæ¯”å¦‚ PPPï¼ŒSLIP)ï¼Œä»¥å¤ªç½‘åè®®éœ€è¦ç›´åˆ°ç›®çš„ IP åœ°å€çš„ç‰©ç†åœ°å€ï¼Œæœ‰éœ€è¦ ARP åè®®ã€‚</p>
<p>å…¶ä¸­ï¼š</p>
<p>1ã€<code>DNSåè®®ï¼Œhttpåè®®ï¼Œhttpsåè®®å±äºåº”ç”¨å±‚</code></p>
<p>åº”ç”¨å±‚æ˜¯ä½“ç³»ç»“æ„ä¸­çš„æœ€é«˜å±‚ã€‚åº”ç”¨å±‚ç¡®å®šè¿›ç¨‹ä¹‹é—´é€šä¿¡çš„æ€§è´¨ä»¥æ»¡è¶³ç”¨æˆ·çš„éœ€è¦ã€‚è¿™é‡Œçš„è¿›ç¨‹å°±æ˜¯æŒ‡æ­£åœ¨è¿è¡Œçš„ç¨‹åºã€‚åº”ç”¨å±‚ä¸ä»…è¦æä¾›åº”ç”¨è¿›ç¨‹æ‰€éœ€è¦çš„ä¿¡æ¯äº¤æ¢å’Œè¿œåœ°æ“ä½œï¼Œè€Œä¸”è¿˜è¦ä½œä¸ºäº’ç›¸ä½œç”¨çš„åº”ç”¨è¿›ç¨‹çš„ç”¨æˆ·ä»£ç†ï¼Œæ¥å®Œæˆä¸€äº›ä¸ºè¿›è¡Œè¯­ä¹‰ä¸Šæœ‰æ„ä¹‰çš„ä¿¡æ¯äº¤æ¢æ‰€å¿…é¡»çš„åŠŸèƒ½ã€‚åº”ç”¨å±‚ç›´æ¥ä¸ºç”¨æˆ·çš„åº”ç”¨è¿›ç¨‹æä¾›æœåŠ¡ã€‚</p>
<p>2ã€<code>TCP/UDPå±äºä¼ è¾“å±‚</code></p>
<p>ä¼ è¾“å±‚çš„ä»»åŠ¡å°±æ˜¯è´Ÿè´£ä¸»æœºä¸­ä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ã€‚å› ç‰¹ç½‘çš„ä¼ è¾“å±‚å¯ä½¿ç”¨ä¸¤ç§ä¸åŒåè®®ï¼šå³é¢å‘è¿æ¥çš„ä¼ è¾“æ§åˆ¶åè®® TCPï¼Œå’Œæ— è¿æ¥çš„ç”¨æˆ·æ•°æ®æŠ¥åè®® UDPã€‚é¢å‘è¿æ¥çš„æœåŠ¡èƒ½å¤Ÿæä¾›å¯é çš„äº¤ä»˜ï¼Œä½†æ— è¿æ¥æœåŠ¡åˆ™ä¸ä¿è¯æä¾›å¯é çš„äº¤ä»˜ï¼Œå®ƒåªæ˜¯â€œå°½æœ€å¤§åŠªåŠ›äº¤ä»˜â€ã€‚è¿™ä¸¤ç§æœåŠ¡æ–¹å¼éƒ½å¾ˆæœ‰ç”¨ï¼Œå¤‡æœ‰å…¶ä¼˜ç¼ºç‚¹ã€‚åœ¨åˆ†ç»„äº¤æ¢ç½‘å†…çš„å„ä¸ªäº¤æ¢ç»“ç‚¹æœºéƒ½æ²¡æœ‰ä¼ è¾“å±‚ã€‚</p>
<p>3ã€<code>IPåè®®ï¼ŒARPåè®®å±äºç½‘ç»œå±‚</code></p>
<p>ç½‘ç»œå±‚è´Ÿè´£ä¸ºåˆ†ç»„äº¤æ¢ç½‘ä¸Šçš„ä¸åŒä¸»æœºæä¾›é€šä¿¡ã€‚åœ¨å‘é€æ•°æ®æ—¶ï¼Œç½‘ç»œå±‚å°†è¿è¾“å±‚äº§ç”Ÿçš„æŠ¥æ–‡æ®µæˆ–ç”¨æˆ·æ•°æ®æŠ¥å°è£…æˆåˆ†ç»„æˆ–åŒ…è¿›è¡Œä¼ é€ã€‚åœ¨ TCP&#x2F;IP ä½“ç³»ä¸­ï¼Œåˆ†ç»„ä¹Ÿå«ä½œ IP æ•°æ®æŠ¥ï¼Œæˆ–ç®€ç§°ä¸ºæ•°æ®æŠ¥ã€‚ç½‘ç»œå±‚çš„å¦ä¸€ä¸ªä»»åŠ¡å°±æ˜¯è¦é€‰æ‹©åˆé€‚çš„è·¯ç”±ï¼Œä½¿æºä¸»æœºè¿è¾“å±‚æ‰€ä¼ ä¸‹æ¥çš„åˆ†ç»„èƒ½å¤Ÿäº¤ä»˜åˆ°ç›®çš„ä¸»æœºã€‚</p>
<p>4ã€æ•°æ®é“¾è·¯å±‚</p>
<p>å½“å‘é€æ•°æ®æ—¶ï¼Œæ•°æ®é“¾è·¯å±‚çš„ä»»åŠ¡æ˜¯å°†åœ¨ç½‘ç»œå±‚äº¤ä¸‹æ¥çš„ IP æ•°æ®æŠ¥ç»„è£…æˆå¸§ï¼Œåœ¨ä¸¤ä¸ªç›¸é‚»ç»“ç‚¹é—´çš„é“¾è·¯ä¸Šä¼ é€ä»¥å¸§ä¸ºå•ä½çš„æ•°æ®ã€‚æ¯ä¸€å¸§åŒ…æ‹¬æ•°æ®å’Œå¿…è¦çš„æ§åˆ¶ä¿¡æ¯ï¼ˆå¦‚åŒæ­¥ä¿¡æ¯ã€åœ°å€ä¿¡æ¯ã€å·®é”™æ§åˆ¶ã€ä»¥åŠæµé‡æ§åˆ¶ä¿¡æ¯ç­‰ï¼‰ã€‚æ§åˆ¶ä¿¡æ¯ä½¿æ¥æ”¶ç«¯èƒ½å¤ŸçŸ¥é“â€”ä¸ªå¸§ä»å“ªä¸ªæ¯”ç‰¹å¼€å§‹å’Œåˆ°å“ªä¸ªæ¯”ç‰¹ç»“æŸã€‚æ§åˆ¶ä¿¡æ¯è¿˜ä½¿æ¥æ”¶ç«¯èƒ½å¤Ÿæ£€æµ‹åˆ°æ‰€æ”¶åˆ°çš„å¸§ä¸­æœ‰æ— å·®é”™ã€‚</p>
<p>5ã€ç‰©ç†å±‚</p>
<p>ç‰©ç†å±‚çš„ä»»åŠ¡å°±æ˜¯é€æ˜åœ°ä¼ é€æ¯”ç‰¹æµã€‚åœ¨ç‰©ç†å±‚ä¸Šæ‰€ä¼ æ•°æ®çš„å•ä½æ˜¯æ¯”ç‰¹ã€‚ä¼ é€’ä¿¡æ¯æ‰€åˆ©ç”¨çš„ä¸€äº›ç‰©ç†åª’ä½“ï¼Œå¦‚åŒç»çº¿ã€åŒè½´ç”µç¼†ã€å…‰ç¼†ç­‰ï¼Œå¹¶ä¸åœ¨ç‰©ç†å±‚ä¹‹å†…è€Œæ˜¯åœ¨ç‰©ç†å±‚çš„ä¸‹é¢ã€‚å› æ­¤ä¹Ÿæœ‰äººæŠŠç‰©ç†åª’ä½“å½“åšç¬¬ 0 å±‚ã€‚</p>
<h3 id="æµè§ˆå™¨çš„ä¸»è¦åŠŸèƒ½"><a href="#æµè§ˆå™¨çš„ä¸»è¦åŠŸèƒ½" class="headerlink" title="æµè§ˆå™¨çš„ä¸»è¦åŠŸèƒ½"></a>æµè§ˆå™¨çš„ä¸»è¦åŠŸèƒ½</h3><p>æµè§ˆå™¨çš„ä¸»è¦åŠŸèƒ½å°±æ˜¯å‘æœåŠ¡å™¨å‘å‡ºè¯·æ±‚ï¼Œåœ¨æµè§ˆå™¨çª—å£ä¸­å±•ç¤ºæ‚¨é€‰æ‹©çš„ç½‘ç»œèµ„æºã€‚è¿™é‡Œæ‰€è¯´çš„èµ„æºä¸€èˆ¬æ˜¯æŒ‡ HTML æ–‡æ¡£ï¼Œä¹Ÿå¯ä»¥æ˜¯ PDFã€å›¾ç‰‡æˆ–å…¶ä»–çš„ç±»å‹ã€‚èµ„æºçš„ä½ç½®ç”±ç”¨æˆ·ä½¿ç”¨ URIï¼ˆç»Ÿä¸€èµ„æºæ ‡ç¤ºç¬¦ï¼‰æŒ‡å®šã€‚</p>
<h3 id="æµè§ˆå™¨çš„å·¥ä½œåŸç†"><a href="#æµè§ˆå™¨çš„å·¥ä½œåŸç†" class="headerlink" title="æµè§ˆå™¨çš„å·¥ä½œåŸç†"></a>æµè§ˆå™¨çš„å·¥ä½œåŸç†</h3><p>æ¸²æŸ“å¼•æ“ä¸€å¼€å§‹ä¼šä»ç½‘ç»œå±‚è·å–è¯·æ±‚æ–‡æ¡£çš„å†…å®¹ï¼Œå†…å®¹çš„å¤§å°ä¸€èˆ¬é™åˆ¶åœ¨ 8000 ä¸ªå—ä»¥å†…ã€‚</p>
<p>ç„¶åè¿›è¡Œå¦‚ä¸‹æ‰€ç¤ºçš„åŸºæœ¬æµç¨‹ï¼š</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9ef6cb226b374e89914a2315e4ca9ba9~tplv-k3u1fbpfcp-zoom-1.image"></p>
<p>å›¾ï¼šæ¸²æŸ“å¼•æ“çš„åŸºæœ¬æµç¨‹ã€‚</p>
<p>æ¸²æŸ“å¼•æ“å°†å¼€å§‹<code>è§£æ HTML æ–‡æ¡£</code>ï¼Œå¹¶å°†å„æ ‡è®°é€ä¸ªè½¬åŒ–æˆâ€œå†…å®¹æ ‘â€ä¸Šçš„ <a href="https://link.juejin.cn/?target=https://www.html5rocks.com/zh/tutorials/internals/howbrowserswork/%23DOM" title="https://www.html5rocks.com/zh/tutorials/internals/howbrowserswork/#DOM">DOM</a> èŠ‚ç‚¹ã€‚åŒæ—¶ä¹Ÿä¼š<code>è§£æå¤–éƒ¨ CSS æ–‡ä»¶ä»¥åŠæ ·å¼å…ƒç´ ä¸­çš„æ ·å¼æ•°æ®</code>ã€‚HTML ä¸­è¿™äº›å¸¦æœ‰è§†è§‰æŒ‡ä»¤çš„æ ·å¼ä¿¡æ¯å°†ç”¨äºåˆ›å»ºå¦ä¸€ä¸ªæ ‘ç»“æ„ï¼š<a href="https://link.juejin.cn/?target=https://www.html5rocks.com/zh/tutorials/internals/howbrowserswork/%23Render_tree_construction" title="https://www.html5rocks.com/zh/tutorials/internals/howbrowserswork/#Render_tree_construction"><code>æ¸²æŸ“æ ‘</code></a>ã€‚</p>
<p>æ¸²æŸ“æ ‘åŒ…å«å¤šä¸ªå¸¦æœ‰è§†è§‰å±æ€§ï¼ˆå¦‚é¢œè‰²å’Œå°ºå¯¸ï¼‰çš„çŸ©å½¢ã€‚è¿™äº›çŸ©å½¢çš„æ’åˆ—é¡ºåºå°±æ˜¯å®ƒä»¬å°†åœ¨å±å¹•ä¸Šæ˜¾ç¤ºçš„é¡ºåºã€‚</p>
<p>æ¸²æŸ“æ ‘æ„å»ºå®Œæ¯•ä¹‹åï¼Œè¿›å…¥â€œ<a href="https://link.juejin.cn/?target=https://www.html5rocks.com/zh/tutorials/internals/howbrowserswork/%23layout" title="https://www.html5rocks.com/zh/tutorials/internals/howbrowserswork/#layout">å¸ƒå±€</a>â€å¤„ç†é˜¶æ®µï¼Œä¹Ÿå°±æ˜¯ä¸ºæ¯ä¸ªèŠ‚ç‚¹åˆ†é…ä¸€ä¸ªåº”å‡ºç°åœ¨å±å¹•ä¸Šçš„ç¡®åˆ‡åæ ‡ã€‚ä¸‹ä¸€ä¸ªé˜¶æ®µæ˜¯<a href="https://link.juejin.cn/?target=https://www.html5rocks.com/zh/tutorials/internals/howbrowserswork/%23Painting" title="https://www.html5rocks.com/zh/tutorials/internals/howbrowserswork/#Painting">ç»˜åˆ¶</a> - æ¸²æŸ“å¼•æ“ä¼šéå†æ¸²æŸ“æ ‘ï¼Œç”±ç”¨æˆ·ç•Œé¢åç«¯å±‚å°†æ¯ä¸ªèŠ‚ç‚¹ç»˜åˆ¶å‡ºæ¥ã€‚</p>
<p>éœ€è¦ç€é‡æŒ‡å‡ºçš„æ˜¯ï¼Œè¿™æ˜¯ä¸€ä¸ªæ¸è¿›çš„è¿‡ç¨‹ã€‚ä¸ºè¾¾åˆ°æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œæ¸²æŸ“å¼•æ“ä¼šåŠ›æ±‚å°½å¿«å°†å†…å®¹æ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚å®ƒä¸å¿…ç­‰åˆ°æ•´ä¸ª HTML æ–‡æ¡£è§£æå®Œæ¯•ä¹‹åï¼Œå°±ä¼šå¼€å§‹æ„å»ºå‘ˆç°æ ‘å’Œè®¾ç½®å¸ƒå±€ã€‚åœ¨ä¸æ–­æ¥æ”¶å’Œå¤„ç†æ¥è‡ªç½‘ç»œçš„å…¶ä½™å†…å®¹çš„åŒæ—¶ï¼Œæ¸²æŸ“å¼•æ“ä¼šå°†éƒ¨åˆ†å†…å®¹è§£æå¹¶æ˜¾ç¤ºå‡ºæ¥ã€‚</p>
<h3 id="æµè§ˆå™¨çš„ä¸»è¦ç»„æˆéƒ¨åˆ†æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#æµè§ˆå™¨çš„ä¸»è¦ç»„æˆéƒ¨åˆ†æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="æµè§ˆå™¨çš„ä¸»è¦ç»„æˆéƒ¨åˆ†æ˜¯ä»€ä¹ˆï¼Ÿ"></a>æµè§ˆå™¨çš„ä¸»è¦ç»„æˆéƒ¨åˆ†æ˜¯ä»€ä¹ˆï¼Ÿ</h3><ol>
<li><strong>ç”¨æˆ·ç•Œé¢</strong> - åŒ…æ‹¬åœ°å€æ ã€å‰è¿›&#x2F;åé€€æŒ‰é’®ã€ä¹¦ç­¾èœå•ç­‰ã€‚é™¤äº†æµè§ˆå™¨ä¸»çª—å£æ˜¾ç¤ºçš„æ‚¨è¯·æ±‚çš„é¡µé¢å¤–ï¼Œå…¶ä»–æ˜¾ç¤ºçš„å„ä¸ªéƒ¨åˆ†éƒ½å±äºç”¨æˆ·ç•Œé¢ã€‚</li>
<li><strong>æµè§ˆå™¨å¼•æ“</strong> - åœ¨ç”¨æˆ·ç•Œé¢å’Œå‘ˆç°å¼•æ“ä¹‹é—´ä¼ é€æŒ‡ä»¤ã€‚</li>
<li><strong>å‘ˆç°å¼•æ“</strong> - è´Ÿè´£æ˜¾ç¤ºè¯·æ±‚çš„å†…å®¹ã€‚å¦‚æœè¯·æ±‚çš„å†…å®¹æ˜¯ HTMLï¼Œå®ƒå°±è´Ÿè´£è§£æ HTML å’Œ CSS å†…å®¹ï¼Œå¹¶å°†è§£æåçš„å†…å®¹æ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚</li>
<li><strong>ç½‘ç»œ</strong> - ç”¨äºç½‘ç»œè°ƒç”¨ï¼Œæ¯”å¦‚ HTTP è¯·æ±‚ã€‚å…¶æ¥å£ä¸å¹³å°æ— å…³ï¼Œå¹¶ä¸ºæ‰€æœ‰å¹³å°æä¾›åº•å±‚å®ç°ã€‚</li>
<li><strong>ç”¨æˆ·ç•Œé¢åç«¯</strong> - ç”¨äºç»˜åˆ¶åŸºæœ¬çš„çª—å£å°éƒ¨ä»¶ï¼Œæ¯”å¦‚ç»„åˆæ¡†å’Œçª—å£ã€‚å…¶å…¬å¼€äº†ä¸å¹³å°æ— å…³çš„é€šç”¨æ¥å£ï¼Œè€Œåœ¨åº•å±‚ä½¿ç”¨æ“ä½œç³»ç»Ÿçš„ç”¨æˆ·ç•Œé¢æ–¹æ³•ã€‚</li>
<li><strong>JavaScript è§£é‡Šå™¨</strong>ã€‚ç”¨äºè§£æå’Œæ‰§è¡Œ JavaScript ä»£ç ã€‚</li>
<li><strong>æ•°æ®å­˜å‚¨</strong>ã€‚è¿™æ˜¯æŒä¹…å±‚ã€‚æµè§ˆå™¨éœ€è¦åœ¨ç¡¬ç›˜ä¸Šä¿å­˜å„ç§æ•°æ®ï¼Œä¾‹å¦‚ Cookieã€‚æ–°çš„ HTML è§„èŒƒ (HTML5) å®šä¹‰äº†â€œç½‘ç»œæ•°æ®åº“â€ï¼Œè¿™æ˜¯ä¸€ä¸ªå®Œæ•´ï¼ˆä½†æ˜¯è½»ä¾¿ï¼‰çš„æµè§ˆå™¨å†…æ•°æ®åº“ã€‚<br><img src="https://gitee.com/xjxjxj123/xiaojun-personal-blog/raw/master/images/f83cb61cb9de4a65abeb95e50608af48~tplv-k3u1fbpfcp-watermark.awebp"></li>
</ol>
<p>å›¾ï¼šæµè§ˆå™¨çš„ä¸»è¦ç»„ä»¶ã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå’Œå¤§å¤šæ•°æµè§ˆå™¨ä¸åŒï¼ŒChrome æµè§ˆå™¨çš„æ¯ä¸ªæ ‡ç­¾é¡µéƒ½åˆ†åˆ«å¯¹åº”ä¸€ä¸ªå‘ˆç°å¼•æ“å®ä¾‹ã€‚æ¯ä¸ªæ ‡ç­¾é¡µéƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è¿›ç¨‹ã€‚</p>
<h3 id="æµè§ˆå™¨æ˜¯å¦‚ä½•æ¸²æŸ“-UI-çš„ï¼Ÿ"><a href="#æµè§ˆå™¨æ˜¯å¦‚ä½•æ¸²æŸ“-UI-çš„ï¼Ÿ" class="headerlink" title="æµè§ˆå™¨æ˜¯å¦‚ä½•æ¸²æŸ“ UI çš„ï¼Ÿ"></a>æµè§ˆå™¨æ˜¯å¦‚ä½•æ¸²æŸ“ UI çš„ï¼Ÿ</h3><ol>
<li>æµè§ˆå™¨è·å– HTML æ–‡ä»¶ï¼Œç„¶åå¯¹æ–‡ä»¶è¿›è¡Œè§£æï¼Œå½¢æˆ DOM Tree</li>
<li>ä¸æ­¤åŒæ—¶ï¼Œè¿›è¡Œ CSS è§£æï¼Œç”Ÿæˆ Style Rules</li>
<li>æ¥ç€å°† DOM Tree ä¸ Style Rules åˆæˆä¸º Render Tree</li>
<li>æ¥ç€è¿›å…¥å¸ƒå±€ï¼ˆLayoutï¼‰é˜¶æ®µï¼Œä¹Ÿå°±æ˜¯ä¸ºæ¯ä¸ªèŠ‚ç‚¹åˆ†é…ä¸€ä¸ªåº”å‡ºç°åœ¨å±å¹•ä¸Šçš„ç¡®åˆ‡åæ ‡</li>
<li>éšåè°ƒç”¨ GPU è¿›è¡Œç»˜åˆ¶ï¼ˆPaintï¼‰ï¼Œéå† Render Tree çš„èŠ‚ç‚¹ï¼Œå¹¶å°†å…ƒç´ å‘ˆç°å‡ºæ¥</li>
</ol>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/67b1336692f540c9a81756f93e82c2f5~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h3 id="DOM-Tree-æ˜¯å¦‚ä½•æ„å»ºçš„ï¼Ÿ"><a href="#DOM-Tree-æ˜¯å¦‚ä½•æ„å»ºçš„ï¼Ÿ" class="headerlink" title="DOM Tree æ˜¯å¦‚ä½•æ„å»ºçš„ï¼Ÿ"></a>DOM Tree æ˜¯å¦‚ä½•æ„å»ºçš„ï¼Ÿ</h3><ol>
<li>è½¬ç : æµè§ˆå™¨å°†æ¥æ”¶åˆ°çš„äºŒè¿›åˆ¶æ•°æ®æŒ‰ç…§æŒ‡å®šç¼–ç æ ¼å¼è½¬åŒ–ä¸º HTML å­—ç¬¦ä¸²</li>
<li>ç”Ÿæˆ Tokens: ä¹‹åå¼€å§‹ parserï¼Œæµè§ˆå™¨ä¼šå°† HTML å­—ç¬¦ä¸²è§£ææˆ Tokens</li>
<li>æ„å»º Nodes: å¯¹ Node æ·»åŠ ç‰¹å®šçš„å±æ€§ï¼Œé€šè¿‡æŒ‡é’ˆç¡®å®š Node çš„çˆ¶ã€å­ã€å…„å¼Ÿå…³ç³»å’Œæ‰€å± treeScope</li>
<li>ç”Ÿæˆ DOM Tree: é€šè¿‡ node åŒ…å«çš„æŒ‡é’ˆç¡®å®šçš„å…³ç³»æ„å»ºå‡º DOM<br>Tree</li>
</ol>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1dc0f577836c4705bb582b2ac15bc5d1~tplv-k3u1fbpfcp-zoom-1.image" alt="2019-06-22-11-48-00"></p>
<h3 id="æµè§ˆå™¨é‡ç»˜ä¸é‡æ’çš„åŒºåˆ«ï¼Ÿ"><a href="#æµè§ˆå™¨é‡ç»˜ä¸é‡æ’çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="æµè§ˆå™¨é‡ç»˜ä¸é‡æ’çš„åŒºåˆ«ï¼Ÿ"></a>æµè§ˆå™¨é‡ç»˜ä¸é‡æ’çš„åŒºåˆ«ï¼Ÿ</h3><ul>
<li><code>é‡æ’/å›æµï¼ˆReflowï¼‰</code>ï¼šå½“<code>DOM</code>çš„å˜åŒ–å½±å“äº†å…ƒç´ çš„å‡ ä½•ä¿¡æ¯ï¼Œæµè§ˆå™¨éœ€è¦é‡æ–°è®¡ç®—å…ƒç´ çš„å‡ ä½•å±æ€§ï¼Œå°†å…¶å®‰æ”¾åœ¨ç•Œé¢ä¸­çš„æ­£ç¡®ä½ç½®ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšé‡æ’ã€‚è¡¨ç°ä¸ºé‡æ–°ç”Ÿæˆå¸ƒå±€ï¼Œé‡æ–°æ’åˆ—å…ƒç´ ã€‚</li>
<li><code>é‡ç»˜(Repaint)</code>: å½“ä¸€ä¸ªå…ƒç´ çš„å¤–è§‚å‘ç”Ÿæ”¹å˜ï¼Œä½†æ²¡æœ‰æ”¹å˜å¸ƒå±€,é‡æ–°æŠŠå…ƒç´ å¤–è§‚ç»˜åˆ¶å‡ºæ¥çš„è¿‡ç¨‹ï¼Œå«åšé‡ç»˜ã€‚è¡¨ç°ä¸ºæŸäº›å…ƒç´ çš„å¤–è§‚è¢«æ”¹å˜</li>
</ul>
<p>å•å•æ”¹å˜å…ƒç´ çš„å¤–è§‚ï¼Œè‚¯å®šä¸ä¼šå¼•èµ·ç½‘é¡µé‡æ–°ç”Ÿæˆå¸ƒå±€ï¼Œä½†å½“æµè§ˆå™¨å®Œæˆé‡æ’ä¹‹åï¼Œå°†ä¼šé‡æ–°ç»˜åˆ¶å—åˆ°æ­¤æ¬¡é‡æ’å½±å“çš„éƒ¨åˆ†</p>
<p>é‡æ’å’Œé‡ç»˜ä»£ä»·æ˜¯é«˜æ˜‚çš„ï¼Œå®ƒä»¬ä¼šç ´åç”¨æˆ·ä½“éªŒï¼Œå¹¶ä¸”è®© UI å±•ç¤ºéå¸¸è¿Ÿç¼“ï¼Œè€Œç›¸æ¯”ä¹‹ä¸‹é‡æ’çš„æ€§èƒ½å½±å“æ›´å¤§ï¼Œåœ¨ä¸¤è€…æ— æ³•é¿å…çš„æƒ…å†µä¸‹ï¼Œä¸€èˆ¬æˆ‘ä»¬å®å¯é€‰æ‹©ä»£ä»·æ›´å°çš„é‡ç»˜ã€‚</p>
<p>ã€é‡ç»˜ã€ä¸ä¸€å®šä¼šå‡ºç°ã€é‡æ’ã€ï¼Œã€é‡æ’ã€å¿…ç„¶ä¼šå‡ºç°ã€é‡ç»˜ã€ã€‚</p>
<h3 id="å¦‚ä½•è§¦å‘é‡æ’å’Œé‡ç»˜ï¼Ÿ"><a href="#å¦‚ä½•è§¦å‘é‡æ’å’Œé‡ç»˜ï¼Ÿ" class="headerlink" title="å¦‚ä½•è§¦å‘é‡æ’å’Œé‡ç»˜ï¼Ÿ"></a>å¦‚ä½•è§¦å‘é‡æ’å’Œé‡ç»˜ï¼Ÿ</h3><p>ä»»ä½•æ”¹å˜ç”¨æ¥æ„å»ºæ¸²æŸ“æ ‘çš„ä¿¡æ¯éƒ½ä¼šå¯¼è‡´ä¸€æ¬¡é‡æ’æˆ–é‡ç»˜ï¼š</p>
<ul>
<li>æ·»åŠ ã€åˆ é™¤ã€æ›´æ–° DOM èŠ‚ç‚¹</li>
<li>é€šè¿‡ display: none éšè—ä¸€ä¸ª DOM èŠ‚ç‚¹-è§¦å‘é‡æ’å’Œé‡ç»˜</li>
<li>é€šè¿‡ visibility: hidden éšè—ä¸€ä¸ª DOM èŠ‚ç‚¹-åªè§¦å‘é‡ç»˜ï¼Œå› ä¸ºæ²¡æœ‰å‡ ä½•å˜åŒ–</li>
<li>ç§»åŠ¨æˆ–è€…ç»™é¡µé¢ä¸­çš„ DOM èŠ‚ç‚¹æ·»åŠ åŠ¨ç”»</li>
<li>æ·»åŠ ä¸€ä¸ªæ ·å¼è¡¨ï¼Œè°ƒæ•´æ ·å¼å±æ€§</li>
<li>ç”¨æˆ·è¡Œä¸ºï¼Œä¾‹å¦‚è°ƒæ•´çª—å£å¤§å°ï¼Œæ”¹å˜å­—å·ï¼Œæˆ–è€…æ»šåŠ¨ã€‚</li>
</ul>
<h3 id="å¦‚ä½•é¿å…é‡ç»˜æˆ–è€…é‡æ’ï¼Ÿ"><a href="#å¦‚ä½•é¿å…é‡ç»˜æˆ–è€…é‡æ’ï¼Ÿ" class="headerlink" title="å¦‚ä½•é¿å…é‡ç»˜æˆ–è€…é‡æ’ï¼Ÿ"></a>å¦‚ä½•é¿å…é‡ç»˜æˆ–è€…é‡æ’ï¼Ÿ</h3><ol>
<li><p><code>é›†ä¸­æ”¹å˜æ ·å¼</code>ï¼Œä¸è¦ä¸€æ¡ä¸€æ¡åœ°ä¿®æ”¹ DOM çš„æ ·å¼ã€‚</p>
</li>
<li><p>ä¸è¦æŠŠ DOM ç»“ç‚¹çš„å±æ€§å€¼æ”¾åœ¨å¾ªç¯é‡Œå½“æˆå¾ªç¯é‡Œçš„å˜é‡ã€‚</p>
</li>
<li><p>ä¸ºåŠ¨ç”»çš„ HTML å…ƒä»¶ä½¿ç”¨ <code>fixed</code> æˆ– <code>absoult</code> çš„ <code>position</code>ï¼Œé‚£ä¹ˆä¿®æ”¹ä»–ä»¬çš„ CSS æ˜¯ä¸ä¼š reflow çš„ã€‚</p>
</li>
<li><p>ä¸ä½¿ç”¨ table å¸ƒå±€ã€‚å› ä¸ºå¯èƒ½å¾ˆå°çš„ä¸€ä¸ªå°æ”¹åŠ¨ä¼šé€ æˆæ•´ä¸ª table çš„é‡æ–°å¸ƒå±€ã€‚</p>
</li>
<li><p>å°½é‡åªä¿®æ”¹<code>positionï¼šabsolute</code>æˆ–<code>fixed</code>å…ƒç´ ï¼Œå¯¹å…¶ä»–å…ƒç´ å½±å“ä¸å¤§</p>
</li>
<li><p>åŠ¨ç”»å¼€å§‹<code>GPU</code>åŠ é€Ÿï¼Œ<code>translate</code>ä½¿ç”¨<code>3D</code>å˜åŒ–</p>
</li>
<li><p>æå‡ä¸ºåˆæˆå±‚</p>
<p>å°†å…ƒç´ æå‡ä¸ºåˆæˆå±‚æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š</p>
<ul>
<li>åˆæˆå±‚çš„ä½å›¾ï¼Œä¼šäº¤ç”± GPU åˆæˆï¼Œæ¯” CPU å¤„ç†è¦å¿«</li>
<li>å½“éœ€è¦ repaint æ—¶ï¼Œåªéœ€è¦ repaint æœ¬èº«ï¼Œä¸ä¼šå½±å“åˆ°å…¶ä»–çš„å±‚</li>
<li>å¯¹äº transform å’Œ opacity æ•ˆæœï¼Œä¸ä¼šè§¦å‘ layout å’Œ paint</li>
</ul>
<p>æå‡åˆæˆå±‚çš„æœ€å¥½æ–¹å¼æ˜¯ä½¿ç”¨ CSS çš„ will-change å±æ€§ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#target &#123;</span><br><span class="line">  will-change: transform;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å…³äºåˆæˆå±‚çš„è¯¦è§£è¯·ç§»æ­¥<a href="https://link.juejin.cn/?target=http://taobaofed.org/blog/2016/04/25/performance-composite/" title="http://taobaofed.org/blog/2016/04/25/performance-composite/">æ— çº¿æ€§èƒ½ä¼˜åŒ–ï¼šComposite</a></p>
</blockquote>
</li>
</ol>
<h3 id="ä»‹ç»ä¸‹-304-è¿‡ç¨‹"><a href="#ä»‹ç»ä¸‹-304-è¿‡ç¨‹" class="headerlink" title="ä»‹ç»ä¸‹ 304 è¿‡ç¨‹"></a>ä»‹ç»ä¸‹ 304 è¿‡ç¨‹</h3><ul>
<li>a. æµè§ˆå™¨è¯·æ±‚èµ„æºæ—¶é¦–å…ˆå‘½ä¸­èµ„æºçš„ Expires å’Œ Cache-Controlï¼ŒExpires å—é™äºæœ¬åœ°æ—¶é—´ï¼Œå¦‚æœä¿®æ”¹äº†æœ¬åœ°æ—¶é—´ï¼Œå¯èƒ½ä¼šé€ æˆç¼“å­˜å¤±æ•ˆï¼Œå¯ä»¥é€šè¿‡ Cache-control: max-age æŒ‡å®šæœ€å¤§ç”Ÿå‘½å‘¨æœŸï¼ŒçŠ¶æ€ä»ç„¶è¿”å› 200ï¼Œä½†ä¸ä¼šè¯·æ±‚æ•°æ®ï¼Œåœ¨æµè§ˆå™¨ä¸­èƒ½æ˜æ˜¾çœ‹åˆ° from cache å­—æ ·ã€‚</li>
<li>b. å¼ºç¼“å­˜å¤±æ•ˆï¼Œè¿›å…¥åå•†ç¼“å­˜é˜¶æ®µï¼Œé¦–å…ˆéªŒè¯ ETagETag å¯ä»¥ä¿è¯æ¯ä¸€ä¸ªèµ„æºæ˜¯å”¯ä¸€çš„ï¼Œèµ„æºå˜åŒ–éƒ½ä¼šå¯¼è‡´ ETag å˜åŒ–ã€‚æœåŠ¡å™¨æ ¹æ®å®¢æˆ·ç«¯ä¸Šé€çš„ If-None-Match å€¼æ¥åˆ¤æ–­æ˜¯å¦å‘½ä¸­ç¼“å­˜ã€‚</li>
<li>c. åå•†ç¼“å­˜ Last-Modify&#x2F;If-Modify-Since é˜¶æ®µï¼Œå®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡è¯·æ±‚èµ„æºæ—¶ï¼ŒæœåŠ¡æœè¿”å›çš„ header ä¸­ä¼šåŠ ä¸Š Last-Modifyï¼ŒLast-modify æ˜¯ä¸€ä¸ªæ—¶é—´æ ‡è¯†è¯¥èµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´ã€‚å†æ¬¡è¯·æ±‚è¯¥èµ„æºæ—¶ï¼Œrequest çš„è¯·æ±‚å¤´ä¸­ä¼šåŒ…å« If-Modify-Sinceï¼Œè¯¥å€¼ä¸ºç¼“å­˜ä¹‹å‰è¿”å›çš„ Last-Modifyã€‚æœåŠ¡å™¨æ”¶åˆ° If-Modify-Since åï¼Œæ ¹æ®èµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´åˆ¤æ–­æ˜¯å¦å‘½ä¸­ç¼“å­˜ã€‚</li>
</ul>
<h3 id="æµè§ˆå™¨çš„ç¼“å­˜æœºåˆ¶-å¼ºåˆ¶ç¼“å­˜-amp-amp-åå•†ç¼“å­˜"><a href="#æµè§ˆå™¨çš„ç¼“å­˜æœºåˆ¶-å¼ºåˆ¶ç¼“å­˜-amp-amp-åå•†ç¼“å­˜" class="headerlink" title="æµè§ˆå™¨çš„ç¼“å­˜æœºåˆ¶ å¼ºåˆ¶ç¼“å­˜ &amp;&amp; åå•†ç¼“å­˜"></a>æµè§ˆå™¨çš„ç¼“å­˜æœºåˆ¶ å¼ºåˆ¶ç¼“å­˜ &amp;&amp; åå•†ç¼“å­˜</h3><p>æµè§ˆå™¨ä¸æœåŠ¡å™¨é€šä¿¡çš„æ–¹å¼ä¸ºåº”ç­”æ¨¡å¼ï¼Œå³æ˜¯ï¼šæµè§ˆå™¨å‘èµ· HTTP è¯·æ±‚ â€“ æœåŠ¡å™¨å“åº”è¯¥è¯·æ±‚ã€‚é‚£ä¹ˆæµè§ˆå™¨ç¬¬ä¸€æ¬¡å‘æœåŠ¡å™¨å‘èµ·è¯¥è¯·æ±‚åæ‹¿åˆ°è¯·æ±‚ç»“æœï¼Œä¼šæ ¹æ®å“åº”æŠ¥æ–‡ä¸­ HTTP å¤´çš„ç¼“å­˜æ ‡è¯†ï¼Œå†³å®šæ˜¯å¦ç¼“å­˜ç»“æœï¼Œæ˜¯åˆ™å°†è¯·æ±‚ç»“æœå’Œç¼“å­˜æ ‡è¯†å­˜å…¥æµè§ˆå™¨ç¼“å­˜ä¸­ï¼Œç®€å•çš„è¿‡ç¨‹å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/487144abaada4b9a8b34bc9375191ec7~tplv-k3u1fbpfcp-zoom-1.image" alt="å›¾ç‰‡"></p>
<p>ç”±ä¸Šå›¾æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼š</p>
<ul>
<li>æµè§ˆå™¨æ¯æ¬¡å‘èµ·è¯·æ±‚ï¼Œéƒ½ä¼š<code>å…ˆåœ¨æµè§ˆå™¨ç¼“å­˜ä¸­æŸ¥æ‰¾è¯¥è¯·æ±‚çš„ç»“æœä»¥åŠç¼“å­˜æ ‡è¯†</code></li>
<li>æµè§ˆå™¨æ¯æ¬¡æ‹¿åˆ°è¿”å›çš„è¯·æ±‚ç»“æœéƒ½ä¼š<code>å°†è¯¥ç»“æœå’Œç¼“å­˜æ ‡è¯†å­˜å…¥æµè§ˆå™¨ç¼“å­˜ä¸­</code></li>
</ul>
<p>ä»¥ä¸Šä¸¤ç‚¹ç»“è®ºå°±æ˜¯æµè§ˆå™¨ç¼“å­˜æœºåˆ¶çš„å…³é”®ï¼Œä»–ç¡®ä¿äº†æ¯ä¸ªè¯·æ±‚çš„ç¼“å­˜å­˜å…¥ä¸è¯»å–ï¼Œåªè¦æˆ‘ä»¬å†ç†è§£æµè§ˆå™¨ç¼“å­˜çš„ä½¿ç”¨è§„åˆ™ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„é—®é¢˜å°±è¿åˆƒè€Œè§£äº†ã€‚ä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œè¿™é‡Œæ ¹æ®æ˜¯å¦éœ€è¦å‘æœåŠ¡å™¨é‡æ–°å‘èµ· HTTP è¯·æ±‚å°†ç¼“å­˜è¿‡ç¨‹åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«æ˜¯<code>å¼ºåˆ¶ç¼“å­˜</code>å’Œ<code>åå•†ç¼“å­˜</code>ã€‚</p>
<ul>
<li><p><strong>å¼ºåˆ¶ç¼“å­˜</strong></p>
<p><code>å¼ºåˆ¶ç¼“å­˜å°±æ˜¯å‘æµè§ˆå™¨ç¼“å­˜æŸ¥æ‰¾è¯¥è¯·æ±‚ç»“æœï¼Œå¹¶æ ¹æ®è¯¥ç»“æœçš„ç¼“å­˜è§„åˆ™æ¥å†³å®šæ˜¯å¦ä½¿ç”¨è¯¥ç¼“å­˜ç»“æœçš„è¿‡ç¨‹ã€‚</code>å½“æµè§ˆå™¨å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨ä¼šå°†ç¼“å­˜è§„åˆ™æ”¾å…¥ HTTP å“åº”æŠ¥æ–‡çš„ HTTP å¤´ä¸­å’Œè¯·æ±‚ç»“æœä¸€èµ·è¿”å›ç»™æµè§ˆå™¨ï¼Œæ§åˆ¶å¼ºåˆ¶ç¼“å­˜çš„å­—æ®µåˆ†åˆ«æ˜¯ <code>Expires</code> å’Œ <code>Cache-Control</code>ï¼Œå…¶ä¸­ Cache-Control ä¼˜å…ˆçº§æ¯” Expires é«˜ã€‚</p>
<p>å¼ºåˆ¶ç¼“å­˜çš„æƒ…å†µä¸»è¦æœ‰ä¸‰ç§(æš‚ä¸åˆ†æåå•†ç¼“å­˜è¿‡ç¨‹)ï¼Œå¦‚ä¸‹ï¼š</p>
<ol>
<li>ä¸å­˜åœ¨è¯¥ç¼“å­˜ç»“æœå’Œç¼“å­˜æ ‡è¯†ï¼Œå¼ºåˆ¶ç¼“å­˜å¤±æ•ˆï¼Œåˆ™ç›´æ¥å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼ˆè·Ÿç¬¬ä¸€æ¬¡å‘èµ·è¯·æ±‚ä¸€è‡´ï¼‰ã€‚</li>
<li>å­˜åœ¨è¯¥ç¼“å­˜ç»“æœå’Œç¼“å­˜æ ‡è¯†ï¼Œä½†è¯¥ç»“æœå·²å¤±æ•ˆï¼Œå¼ºåˆ¶ç¼“å­˜å¤±æ•ˆï¼Œåˆ™ä½¿ç”¨åå•†ç¼“å­˜ã€‚</li>
<li>å­˜åœ¨è¯¥ç¼“å­˜ç»“æœå’Œç¼“å­˜æ ‡è¯†ï¼Œä¸”è¯¥ç»“æœå°šæœªå¤±æ•ˆï¼Œå¼ºåˆ¶ç¼“å­˜ç”Ÿæ•ˆï¼Œç›´æ¥è¿”å›è¯¥ç»“æœ</li>
</ol>
</li>
<li><p><strong>åå•†ç¼“å­˜</strong></p>
<p><code>åå•†ç¼“å­˜å°±æ˜¯å¼ºåˆ¶ç¼“å­˜å¤±æ•ˆåï¼Œæµè§ˆå™¨æºå¸¦ç¼“å­˜æ ‡è¯†å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œç”±æœåŠ¡å™¨æ ¹æ®ç¼“å­˜æ ‡è¯†å†³å®šæ˜¯å¦ä½¿ç”¨ç¼“å­˜çš„è¿‡ç¨‹</code>ï¼ŒåŒæ ·ï¼Œåå•†ç¼“å­˜çš„æ ‡è¯†ä¹Ÿæ˜¯åœ¨å“åº”æŠ¥æ–‡çš„ HTTP å¤´ä¸­å’Œè¯·æ±‚ç»“æœä¸€èµ·è¿”å›ç»™æµè§ˆå™¨çš„ï¼Œæ§åˆ¶åå•†ç¼“å­˜çš„å­—æ®µåˆ†åˆ«æœ‰ï¼š<code>Last-Modified / If-Modified-Since</code> å’Œ <code>Etag / If-None-Match</code>ï¼Œå…¶ä¸­ Etag &#x2F; If-None-Match çš„ä¼˜å…ˆçº§æ¯” Last-Modified &#x2F; If-Modified-Since é«˜ã€‚åå•†ç¼“å­˜ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š</p>
<ol>
<li>åå•†ç¼“å­˜ç”Ÿæ•ˆï¼Œè¿”å› 304</li>
<li>åå•†ç¼“å­˜å¤±æ•ˆï¼Œè¿”å› 200 å’Œè¯·æ±‚ç»“æœç»“æœ</li>
</ol>
</li>
</ul>
<p>ä¼ é€é—¨ â˜ <a target="_blank" rel="noopener" href="https://juejin.cn/post/6992843117963509791"># å½»åº•ç†è§£æµè§ˆå™¨çš„ç¼“å­˜æœºåˆ¶</a></p>
<h3 id="Cookieã€sessionStorageã€localStorage-çš„åŒºåˆ«"><a href="#Cookieã€sessionStorageã€localStorage-çš„åŒºåˆ«" class="headerlink" title="Cookieã€sessionStorageã€localStorage çš„åŒºåˆ«"></a>Cookieã€sessionStorageã€localStorage çš„åŒºåˆ«</h3><p><strong>ç›¸åŒç‚¹</strong>ï¼š</p>
<ul>
<li>å­˜å‚¨åœ¨å®¢æˆ·ç«¯</li>
</ul>
<p><strong>ä¸åŒç‚¹</strong>ï¼š</p>
<ul>
<li>cookie æ•°æ®å¤§å°ä¸èƒ½è¶…è¿‡ 4kï¼›sessionStorage å’Œ localStorage çš„å­˜å‚¨æ¯” cookie å¤§å¾—å¤šï¼Œå¯ä»¥è¾¾åˆ° 5M+</li>
<li>cookie è®¾ç½®çš„è¿‡æœŸæ—¶é—´ä¹‹å‰ä¸€ç›´æœ‰æ•ˆï¼›localStorage æ°¸ä¹…å­˜å‚¨ï¼Œæµè§ˆå™¨å…³é—­åæ•°æ®ä¸ä¸¢å¤±é™¤éä¸»åŠ¨åˆ é™¤æ•°æ®ï¼›sessionStorage æ•°æ®åœ¨å½“å‰æµè§ˆå™¨çª—å£å…³é—­åè‡ªåŠ¨åˆ é™¤</li>
<li>cookie çš„æ•°æ®ä¼šè‡ªåŠ¨çš„ä¼ é€’åˆ°æœåŠ¡å™¨ï¼›sessionStorage å’Œ localStorage æ•°æ®ä¿å­˜åœ¨æœ¬åœ°</li>
</ul>
<h3 id="è¯´ä¸‹è¿›ç¨‹ã€çº¿ç¨‹å’Œåç¨‹"><a href="#è¯´ä¸‹è¿›ç¨‹ã€çº¿ç¨‹å’Œåç¨‹" class="headerlink" title="è¯´ä¸‹è¿›ç¨‹ã€çº¿ç¨‹å’Œåç¨‹"></a>è¯´ä¸‹è¿›ç¨‹ã€çº¿ç¨‹å’Œåç¨‹</h3><p><strong>è¿›ç¨‹</strong>æ˜¯ä¸€ä¸ªå…·æœ‰ä¸€å®šç‹¬ç«‹åŠŸèƒ½çš„ç¨‹åºåœ¨ä¸€ä¸ªæ•°æ®é›†ä¸Šçš„ä¸€æ¬¡åŠ¨æ€æ‰§è¡Œçš„è¿‡ç¨‹ï¼Œ<code>æ˜¯æ“ä½œç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ä¸€ä¸ªç‹¬ç«‹å•ä½</code>ï¼Œæ˜¯åº”ç”¨ç¨‹åºè¿è¡Œçš„è½½ä½“ã€‚è¿›ç¨‹æ˜¯ä¸€ç§æŠ½è±¡çš„æ¦‚å¿µï¼Œä»æ¥æ²¡æœ‰ç»Ÿä¸€çš„æ ‡å‡†å®šä¹‰ã€‚</p>
<p><strong>çº¿ç¨‹</strong>æ˜¯ç¨‹åºæ‰§è¡Œä¸­ä¸€ä¸ªå•ä¸€çš„é¡ºåºæ§åˆ¶æµç¨‹ï¼Œæ˜¯<code>ç¨‹åºæ‰§è¡Œæµçš„æœ€å°å•å…ƒ</code>ï¼Œæ˜¯å¤„ç†å™¨è°ƒåº¦å’Œåˆ†æ´¾çš„åŸºæœ¬å•ä½ã€‚ä¸€ä¸ªè¿›ç¨‹å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ï¼Œå„ä¸ªçº¿ç¨‹ä¹‹é—´å…±äº«ç¨‹åºçš„å†…å­˜ç©ºé—´(ä¹Ÿå°±æ˜¯æ‰€åœ¨è¿›ç¨‹çš„å†…å­˜ç©ºé—´)ã€‚ä¸€ä¸ªæ ‡å‡†çš„çº¿ç¨‹ç”±çº¿ç¨‹ IDã€å½“å‰æŒ‡ä»¤æŒ‡é’ˆ(PC)ã€å¯„å­˜å™¨å’Œå †æ ˆç»„æˆã€‚è€Œè¿›ç¨‹ç”±å†…å­˜ç©ºé—´(ä»£ç ã€æ•°æ®ã€è¿›ç¨‹ç©ºé—´ã€æ‰“å¼€çš„æ–‡ä»¶)å’Œä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ç»„æˆã€‚</p>
<p><strong>åç¨‹</strong>ï¼Œè‹±æ–‡ Coroutinesï¼Œæ˜¯ä¸€ç§<code>åŸºäºçº¿ç¨‹ä¹‹ä¸Šï¼Œä½†åˆæ¯”çº¿ç¨‹æ›´åŠ è½»é‡çº§çš„å­˜åœ¨</code>ï¼Œè¿™ç§ç”±ç¨‹åºå‘˜è‡ªå·±å†™ç¨‹åºæ¥ç®¡ç†çš„è½»é‡çº§çº¿ç¨‹å«åšã€ç”¨æˆ·ç©ºé—´çº¿ç¨‹ã€ï¼Œå…·æœ‰å¯¹å†…æ ¸æ¥è¯´ä¸å¯è§çš„ç‰¹æ€§ã€‚</p>
<p><strong>è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ä¸è”ç³»</strong></p>
<p>ã€åŒºåˆ«ã€‘ï¼š</p>
<p>è°ƒåº¦ï¼šçº¿ç¨‹ä½œä¸ºè°ƒåº¦å’Œåˆ†é…çš„åŸºæœ¬å•ä½ï¼Œè¿›ç¨‹ä½œä¸ºæ‹¥æœ‰èµ„æºçš„åŸºæœ¬å•ä½ï¼›</p>
<p>å¹¶å‘æ€§ï¼šä¸ä»…è¿›ç¨‹ä¹‹é—´å¯ä»¥å¹¶å‘æ‰§è¡Œï¼ŒåŒä¸€ä¸ªè¿›ç¨‹çš„å¤šä¸ªçº¿ç¨‹ä¹‹é—´ä¹Ÿå¯å¹¶å‘æ‰§è¡Œï¼›</p>
<p>æ‹¥æœ‰èµ„æºï¼šè¿›ç¨‹æ˜¯æ‹¥æœ‰èµ„æºçš„ä¸€ä¸ªç‹¬ç«‹å•ä½ï¼Œçº¿ç¨‹ä¸æ‹¥æœ‰ç³»ç»Ÿèµ„æºï¼Œä½†å¯ä»¥è®¿é—®éš¶å±äºè¿›ç¨‹çš„èµ„æºã€‚</p>
<p>ç³»ç»Ÿå¼€é”€ï¼šåœ¨åˆ›å»ºæˆ–æ’¤æ¶ˆè¿›ç¨‹æ—¶ï¼Œç”±äºç³»ç»Ÿéƒ½è¦ä¸ºä¹‹åˆ†é…å’Œå›æ”¶èµ„æºï¼Œå¯¼è‡´ç³»ç»Ÿçš„å¼€é”€æ˜æ˜¾å¤§äºåˆ›å»ºæˆ–æ’¤æ¶ˆçº¿ç¨‹æ—¶çš„å¼€é”€ã€‚ä½†æ˜¯è¿›ç¨‹æœ‰ç‹¬ç«‹çš„åœ°å€ç©ºé—´ï¼Œä¸€ä¸ªè¿›ç¨‹å´©æºƒåï¼Œåœ¨ä¿æŠ¤æ¨¡å¼ä¸‹ä¸ä¼šå¯¹å…¶å®ƒè¿›ç¨‹äº§ç”Ÿå½±å“ï¼Œè€Œçº¿ç¨‹åªæ˜¯ä¸€ä¸ªè¿›ç¨‹ä¸­çš„ä¸åŒæ‰§è¡Œè·¯å¾„ã€‚çº¿ç¨‹æœ‰è‡ªå·±çš„å †æ ˆå’Œå±€éƒ¨å˜é‡ï¼Œä½†çº¿ç¨‹ä¹‹é—´æ²¡æœ‰å•ç‹¬çš„åœ°å€ç©ºé—´ï¼Œä¸€ä¸ªè¿›ç¨‹æ­»æ‰å°±ç­‰äºæ‰€æœ‰çš„çº¿ç¨‹æ­»æ‰ï¼Œæ‰€ä»¥å¤šè¿›ç¨‹çš„ç¨‹åºè¦æ¯”å¤šçº¿ç¨‹çš„ç¨‹åºå¥å£®ï¼Œä½†åœ¨è¿›ç¨‹åˆ‡æ¢æ—¶ï¼Œè€—è´¹èµ„æºè¾ƒå¤§ï¼Œæ•ˆç‡è¦å·®ä¸€äº›ã€‚</p>
<p>ã€è”ç³»ã€‘ï¼š</p>
<p>ä¸€ä¸ªçº¿ç¨‹åªèƒ½å±äºä¸€ä¸ªè¿›ç¨‹ï¼Œè€Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œä½†è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ï¼›</p>
<p>èµ„æºåˆ†é…ç»™è¿›ç¨‹ï¼ŒåŒä¸€è¿›ç¨‹çš„æ‰€æœ‰çº¿ç¨‹å…±äº«è¯¥è¿›ç¨‹çš„æ‰€æœ‰èµ„æºï¼›</p>
<p>å¤„ç†æœºåˆ†ç»™çº¿ç¨‹ï¼Œå³çœŸæ­£åœ¨å¤„ç†æœºä¸Šè¿è¡Œçš„æ˜¯çº¿ç¨‹ï¼›</p>
<p>çº¿ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œéœ€è¦åä½œåŒæ­¥ã€‚ä¸åŒè¿›ç¨‹çš„çº¿ç¨‹é—´è¦åˆ©ç”¨æ¶ˆæ¯é€šä¿¡çš„åŠæ³•å®ç°åŒæ­¥ã€‚</p>
<p>ä¼ é€é—¨ â˜ <a target="_blank" rel="noopener" href="https://juejin.cn/post/7005465381791875109"># ä¸€æ–‡ææ‡‚è¿›ç¨‹ã€çº¿ç¨‹ã€åç¨‹åŠ JS åç¨‹çš„å‘å±•</a><br><a target="_blank" rel="noopener" href="http://www.360doc.com/content/20/0417/14/32196507_906628857.shtml">â˜ äº†è§£æ›´å¤š</a></p>
<p>å…³äºæµè§ˆå™¨ä¼ é€é—¨ â˜<a target="_blank" rel="noopener" href="https://juejin.cn/post/6993095345576083486"># æ·±å…¥äº†è§£ç°ä»£ Web æµè§ˆå™¨</a></p>
<h3 id="è¿›ç¨‹é—´çš„é€šä¿¡æ–¹å¼"><a href="#è¿›ç¨‹é—´çš„é€šä¿¡æ–¹å¼" class="headerlink" title="è¿›ç¨‹é—´çš„é€šä¿¡æ–¹å¼"></a>è¿›ç¨‹é—´çš„é€šä¿¡æ–¹å¼</h3><p><code>è¿›ç¨‹é€šä¿¡</code>ï¼š<br>æ¯ä¸ªè¿›ç¨‹å„è‡ªæœ‰ä¸åŒçš„ç”¨æˆ·åœ°å€ç©ºé—´,ä»»ä½•ä¸€ä¸ªè¿›ç¨‹çš„å…¨å±€å˜é‡åœ¨å¦ä¸€ä¸ªè¿›ç¨‹ä¸­éƒ½çœ‹ä¸åˆ°ï¼Œæ‰€ä»¥è¿›ç¨‹ä¹‹é—´è¦äº¤æ¢æ•°æ®å¿…é¡»é€šè¿‡å†…æ ¸,åœ¨å†…æ ¸ä¸­å¼€è¾Ÿä¸€å—ç¼“å†²åŒº,è¿›ç¨‹ A æŠŠæ•°æ®ä»ç”¨æˆ·ç©ºé—´æ‹·åˆ°å†…æ ¸ç¼“å†²åŒº,è¿›ç¨‹ B å†ä»å†…æ ¸ç¼“å†²åŒºæŠŠæ•°æ®è¯»èµ°,å†…æ ¸æä¾›çš„è¿™ç§æœºåˆ¶ç§°ä¸ºè¿›ç¨‹é—´é€šä¿¡ã€‚</p>
<p>è¿›ç¨‹é—´çš„é€šä¿¡æ–¹å¼ï¼šç®¡é“ã€æœ‰åç®¡é“ã€ä¿¡å·ã€æ¶ˆæ¯é˜Ÿåˆ—ã€å…±äº«å†…å­˜ã€ä¿¡å·é‡ã€socket</p>
<p><code>åŒ¿åç®¡é“( pipe )</code>ï¼š ç®¡é“æ˜¯ä¸€ç§åŠåŒå·¥çš„é€šä¿¡æ–¹å¼ï¼Œæ•°æ®åªèƒ½<strong>å•å‘æµåŠ¨</strong>ï¼Œè€Œä¸”åªèƒ½åœ¨å…·æœ‰äº²ç¼˜å…³ç³»çš„è¿›ç¨‹é—´ä½¿ç”¨ã€‚è¿›ç¨‹çš„äº²ç¼˜å…³ç³»é€šå¸¸æ˜¯æŒ‡<strong>çˆ¶å­è¿›ç¨‹å…³ç³»</strong>ã€‚</p>
<p><code>é«˜çº§ç®¡é“(popen)</code>ï¼šå°†å¦ä¸€ä¸ªç¨‹åºå½“åšä¸€ä¸ªæ–°çš„è¿›ç¨‹åœ¨å½“å‰ç¨‹åºè¿›ç¨‹ä¸­å¯åŠ¨ï¼Œåˆ™å®ƒç®—æ˜¯å½“å‰ç¨‹åºçš„å­è¿›ç¨‹ï¼Œè¿™ç§æ–¹å¼æˆ‘ä»¬æˆä¸ºé«˜çº§ç®¡é“æ–¹å¼ã€‚</p>
<p><code>æœ‰åç®¡é“ (named pipe)</code>ï¼š æœ‰åç®¡é“ä¹Ÿæ˜¯åŠåŒå·¥çš„é€šä¿¡æ–¹å¼ï¼Œä½†æ˜¯å®ƒå…è®¸æ— äº²ç¼˜å…³ç³»è¿›ç¨‹é—´çš„é€šä¿¡ã€‚</p>
<p><code>æ¶ˆæ¯é˜Ÿåˆ—( message queue )</code> ï¼š æ¶ˆæ¯é˜Ÿåˆ—æ˜¯ç”±æ¶ˆæ¯çš„é“¾è¡¨ï¼Œå­˜æ”¾åœ¨å†…æ ¸ä¸­å¹¶ç”±æ¶ˆæ¯é˜Ÿåˆ—æ ‡è¯†ç¬¦æ ‡è¯†ã€‚æ¶ˆæ¯é˜Ÿåˆ—å…‹æœäº†ä¿¡å·ä¼ é€’ä¿¡æ¯å°‘ã€ç®¡é“åªèƒ½æ‰¿è½½æ— æ ¼å¼å­—èŠ‚æµä»¥åŠç¼“å†²åŒºå¤§å°å—é™ç­‰ç¼ºç‚¹ã€‚</p>
<p><code>ä¿¡å·é‡( semophore )</code> ï¼š ä¿¡å·é‡æ˜¯ä¸€ä¸ªè®¡æ•°å™¨ï¼Œå¯ä»¥ç”¨æ¥æ§åˆ¶å¤šä¸ªè¿›ç¨‹å¯¹å…±äº«èµ„æºçš„è®¿é—®ã€‚å®ƒå¸¸ä½œä¸ºä¸€ç§é”æœºåˆ¶ï¼Œé˜²æ­¢æŸè¿›ç¨‹æ­£åœ¨è®¿é—®å…±äº«èµ„æºæ—¶ï¼Œå…¶ä»–è¿›ç¨‹ä¹Ÿè®¿é—®è¯¥èµ„æºã€‚å› æ­¤ï¼Œä¸»è¦ä½œä¸ºè¿›ç¨‹é—´ä»¥åŠåŒä¸€è¿›ç¨‹å†…ä¸åŒçº¿ç¨‹ä¹‹é—´çš„åŒæ­¥æ‰‹æ®µã€‚</p>
<p><code>ä¿¡å· ( sinal )</code> ï¼š ä¿¡å·æ˜¯ä¸€ç§æ¯”è¾ƒå¤æ‚çš„é€šä¿¡æ–¹å¼ï¼Œç”¨äºé€šçŸ¥æ¥æ”¶è¿›ç¨‹æŸä¸ªäº‹ä»¶å·²ç»å‘ç”Ÿã€‚</p>
<p><code>å…±äº«å†…å­˜( shared memory )</code> ï¼šå…±äº«å†…å­˜å°±æ˜¯æ˜ å°„ä¸€æ®µèƒ½è¢«å…¶ä»–è¿›ç¨‹æ‰€è®¿é—®çš„å†…å­˜ï¼Œè¿™æ®µå…±äº«å†…å­˜ç”±ä¸€ä¸ªè¿›ç¨‹åˆ›å»ºï¼Œä½†å¤šä¸ªè¿›ç¨‹éƒ½å¯ä»¥è®¿é—®ã€‚å…±äº«å†…å­˜æ˜¯æœ€å¿«çš„ IPC æ–¹å¼ï¼Œå®ƒæ˜¯é’ˆå¯¹å…¶ä»–è¿›ç¨‹é—´é€šä¿¡æ–¹å¼è¿è¡Œæ•ˆç‡ä½è€Œä¸“é—¨è®¾è®¡çš„ã€‚å®ƒå¾€å¾€ä¸å…¶ä»–é€šä¿¡æœºåˆ¶ï¼Œå¦‚ä¿¡å·ä¸¤ï¼Œé…åˆä½¿ç”¨ï¼Œæ¥å®ç°è¿›ç¨‹é—´çš„åŒæ­¥å’Œé€šä¿¡ã€‚</p>
<p><code>å¥—æ¥å­—( socket ) é€šä¿¡</code>ï¼š å¥—æ¥å£ä¹Ÿæ˜¯ä¸€ç§è¿›ç¨‹é—´é€šä¿¡æœºåˆ¶ï¼Œä¸å…¶ä»–é€šä¿¡æœºåˆ¶ä¸åŒçš„æ˜¯ï¼Œå®ƒå¯ç”¨äºä¸åŒæœºå™¨é—´çš„è¿›ç¨‹é€šä¿¡</p>
<h3 id="æµè§ˆå™¨æ ·å¼å…¼å®¹"><a href="#æµè§ˆå™¨æ ·å¼å…¼å®¹" class="headerlink" title="æµè§ˆå™¨æ ·å¼å…¼å®¹"></a>æµè§ˆå™¨æ ·å¼å…¼å®¹</h3><h4 id="ä¸€ã€CSS-åˆå§‹åŒ–"><a href="#ä¸€ã€CSS-åˆå§‹åŒ–" class="headerlink" title="ä¸€ã€CSS åˆå§‹åŒ–"></a>ä¸€ã€CSS åˆå§‹åŒ–</h4><p>æ¯ä¸ªæµè§ˆå™¨çš„ css é»˜è®¤æ ·å¼ä¸å°½ç›¸åŒï¼Œæ‰€ä»¥æœ€ç®€å•æœ‰æ•ˆçš„æ–¹å¼å°±æ˜¯å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ï¼ˆè¦†ç›–é»˜è®¤æ ·å¼ï¼‰</p>
<blockquote>
<p>å¸¸è§ : *{ margin: 0; padding: 0;}</p>
<p>åº“ï¼šnormalize.css</p>
</blockquote>
<h4 id="äºŒã€æµè§ˆå™¨ç§æœ‰å±æ€§"><a href="#äºŒã€æµè§ˆå™¨ç§æœ‰å±æ€§" class="headerlink" title="äºŒã€æµè§ˆå™¨ç§æœ‰å±æ€§"></a>äºŒã€<strong>æµè§ˆå™¨ç§æœ‰å±æ€§</strong></h4><blockquote>
<p>å¸¸ç”¨çš„å‰ç¼€æœ‰ï¼š</p>
<p>firefox æµè§ˆå™¨ ï¼š-moz-</p>
<p>chromeã€safari ï¼š-webkit-</p>
<p>opera ï¼š-o- &#x2F; -xv-</p>
<p>IE æµè§ˆå™¨ ï¼š-ms-ï¼ˆç›®å‰åªæœ‰ IE 8+æ”¯æŒï¼‰</p>
</blockquote>
<h4 id="ä¸‰ã€CSS-hackï¼ˆæ¡ä»¶-hackã€å±æ€§çº§-hackã€é€‰æ‹©ç¬¦çº§-hackï¼‰"><a href="#ä¸‰ã€CSS-hackï¼ˆæ¡ä»¶-hackã€å±æ€§çº§-hackã€é€‰æ‹©ç¬¦çº§-hackï¼‰" class="headerlink" title="ä¸‰ã€CSS hackï¼ˆæ¡ä»¶ hackã€å±æ€§çº§ hackã€é€‰æ‹©ç¬¦çº§ hackï¼‰"></a><strong>ä¸‰ã€CSS hackï¼ˆæ¡ä»¶ hackã€å±æ€§çº§ hackã€é€‰æ‹©ç¬¦çº§ hackï¼‰</strong></h4><h3 id="JS-åƒåœ¾å›æ”¶æœºåˆ¶"><a href="#JS-åƒåœ¾å›æ”¶æœºåˆ¶" class="headerlink" title="JS åƒåœ¾å›æ”¶æœºåˆ¶"></a>JS åƒåœ¾å›æ”¶æœºåˆ¶</h3><ol>
<li><p>é¡¹ç›®ä¸­ï¼Œå¦‚æœå­˜åœ¨å¤§é‡ä¸è¢«é‡Šæ”¾çš„å†…å­˜ï¼ˆå †&#x2F;æ ˆ&#x2F;ä¸Šä¸‹æ–‡ï¼‰ï¼Œé¡µé¢æ€§èƒ½ä¼šå˜å¾—å¾ˆæ…¢ã€‚å½“æŸäº›ä»£ç æ“ä½œä¸èƒ½è¢«åˆç†é‡Šæ”¾ï¼Œå°±ä¼šé€ æˆå†…å­˜æ³„æ¼ã€‚æˆ‘ä»¬å°½å¯èƒ½å‡å°‘ä½¿ç”¨é—­åŒ…ï¼Œå› ä¸ºå®ƒä¼šæ¶ˆè€—å†…å­˜ã€‚</p>
</li>
<li><p>æµè§ˆå™¨åƒåœ¾å›æ”¶æœºåˆ¶&#x2F;å†…å­˜å›æ”¶æœºåˆ¶:</p>
<blockquote>
<p>æµè§ˆå™¨çš„<code>Javascript</code>å…·æœ‰è‡ªåŠ¨åƒåœ¾å›æ”¶æœºåˆ¶(<code>GC:Garbage Collecation</code>)ï¼Œåƒåœ¾æ”¶é›†å™¨ä¼šå®šæœŸï¼ˆå‘¨æœŸæ€§ï¼‰æ‰¾å‡ºé‚£äº›ä¸åœ¨ç»§ç»­ä½¿ç”¨çš„å˜é‡ï¼Œç„¶åé‡Šæ”¾å…¶å†…å­˜ã€‚</p>
</blockquote>
<p><strong>æ ‡è®°æ¸…é™¤</strong>:åœ¨<code>js</code>ä¸­ï¼Œæœ€å¸¸ç”¨çš„åƒåœ¾å›æ”¶æœºåˆ¶æ˜¯æ ‡è®°æ¸…é™¤ï¼šå½“å˜é‡è¿›å…¥æ‰§è¡Œç¯å¢ƒæ—¶ï¼Œè¢«æ ‡è®°ä¸ºâ€œè¿›å…¥ç¯å¢ƒâ€ï¼Œå½“å˜é‡ç¦»å¼€æ‰§è¡Œç¯å¢ƒæ—¶ï¼Œä¼šè¢«æ ‡è®°ä¸ºâ€œç¦»å¼€ç¯å¢ƒâ€ã€‚åƒåœ¾å›æ”¶å™¨ä¼šé”€æ¯é‚£äº›å¸¦æ ‡è®°çš„å€¼å¹¶å›æ”¶å®ƒä»¬æ‰€å ç”¨çš„å†…å­˜ç©ºé—´ã€‚<br><strong>è°·æ­Œæµè§ˆå™¨</strong>ï¼šâ€œæŸ¥æ‰¾å¼•ç”¨â€ï¼Œæµè§ˆå™¨ä¸å®šæ—¶å»æŸ¥æ‰¾å½“å‰å†…å­˜çš„å¼•ç”¨ï¼Œå¦‚æœæ²¡æœ‰è¢«å ç”¨äº†ï¼Œæµè§ˆå™¨ä¼šå›æ”¶å®ƒï¼›å¦‚æœè¢«å ç”¨ï¼Œå°±ä¸èƒ½å›æ”¶ã€‚<br><strong>IE æµè§ˆå™¨</strong>ï¼šâ€œå¼•ç”¨è®¡æ•°æ³•â€ï¼Œå½“å‰å†…å­˜è¢«å ç”¨ä¸€æ¬¡ï¼Œè®¡æ•°ç´¯åŠ  1 æ¬¡ï¼Œç§»é™¤å ç”¨å°±å‡ 1ï¼Œå‡åˆ° 0 æ—¶ï¼Œæµè§ˆå™¨å°±å›æ”¶å®ƒã€‚</p>
</li>
<li><p>ä¼˜åŒ–æ‰‹æ®µï¼šå†…å­˜ä¼˜åŒ– ; æ‰‹åŠ¨é‡Šæ”¾ï¼šå–æ¶ˆå†…å­˜çš„å ç”¨å³å¯ã€‚</p>
<p>ï¼ˆ1ï¼‰å †å†…å­˜ï¼šfn &#x3D; null ã€nullï¼šç©ºæŒ‡é’ˆå¯¹è±¡ã€‘</p>
<p>ï¼ˆ2ï¼‰æ ˆå†…å­˜ï¼šæŠŠä¸Šä¸‹æ–‡ä¸­ï¼Œè¢«å¤–éƒ¨å ç”¨çš„å †çš„å ç”¨å–æ¶ˆå³å¯ã€‚</p>
</li>
<li><p>å†…å­˜æ³„æ¼</p>
<p>åœ¨ JS ä¸­ï¼Œå¸¸è§çš„å†…å­˜æ³„éœ²ä¸»è¦æœ‰ 4 ç§,å…¨å±€å˜é‡ã€é—­åŒ…ã€DOM å…ƒç´ çš„å¼•ç”¨ã€å®šæ—¶å™¨</p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://770746548.github.io/2025/02/28/%E6%B5%8F%E8%A7%88%E5%99%A8/" data-id="cmkgdulh6000my4mh9f1r6h0d" data-title="ğŸ”¥ æµè§ˆå™¨" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%85%AB%E8%82%A1%E6%96%87/" rel="tag">å‰ç«¯å…«è‚¡æ–‡</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-è®¡ç®—æœºç½‘ç»œ" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/02/28/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" class="article-date">
  <time class="dt-published" datetime="2025-02-28T01:00:00.000Z" itemprop="datePublished">2025-02-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/02/28/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">ğŸ”¥ è®¡ç®—æœºç½‘ç»œ</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>æ¨èä¸ªAPIç®¡ç†ç¥å™¨ Apipost ç”¨è¿‡çš„éƒ½çŸ¥é“å¥½ä½¿</p>
<h1 id="HTTP-å’Œ-HTTPS"><a href="#HTTP-å’Œ-HTTPS" class="headerlink" title="HTTP å’Œ HTTPS"></a>HTTP å’Œ HTTPS</h1><h3 id="HTTP-çš„åŸºæœ¬æ¦‚å¿µ"><a href="#HTTP-çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="HTTP çš„åŸºæœ¬æ¦‚å¿µ"></a>HTTP çš„åŸºæœ¬æ¦‚å¿µ</h3><p>http: æ˜¯äº’è”ç½‘ä¸Šåº”ç”¨æœ€ä¸ºå¹¿æ³›çš„ä¸€ç§ç½‘ç»œåè®®ï¼Œæ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯<code>è¯·æ±‚å’Œåº”ç­”çš„æ ‡å‡†ï¼ˆTCPï¼‰</code>ï¼Œç”¨äºä» WWW æœåŠ¡å™¨ä¼ è¾“è¶…æ–‡æœ¬åˆ°æœ¬åœ°æµè§ˆå™¨çš„<code>è¶…æ–‡æœ¬ä¼ è¾“åè®®</code>ã€‚</p>
<h3 id="HTTPå·¥ä½œåŸç†"><a href="#HTTPå·¥ä½œåŸç†" class="headerlink" title="HTTPå·¥ä½œåŸç†"></a>HTTPå·¥ä½œåŸç†</h3><p>HTTPåè®®å®šä¹‰Webå®¢æˆ·ç«¯å¦‚ä½•ä»WebæœåŠ¡å™¨è¯·æ±‚Webé¡µé¢ï¼Œä»¥åŠæœåŠ¡å™¨å¦‚ä½•æŠŠWebé¡µé¢ä¼ é€ç»™å®¢æˆ·ç«¯ã€‚å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚æŠ¥æ–‡ï¼ŒæœåŠ¡å™¨ä»¥ä¸€ä¸ªçŠ¶æ€è¡Œä½œä¸ºå“åº”ã€‚</p>
<h3 id="HTTPè¯·æ±‚-x2F-å“åº”çš„æ­¥éª¤"><a href="#HTTPè¯·æ±‚-x2F-å“åº”çš„æ­¥éª¤" class="headerlink" title="HTTPè¯·æ±‚&#x2F;å“åº”çš„æ­¥éª¤"></a>HTTPè¯·æ±‚&#x2F;å“åº”çš„æ­¥éª¤</h3><ul>
<li>1.å®¢æˆ·ç«¯è¿æ¥åˆ°WebæœåŠ¡å™¨</li>
<li>2.å‘é€HTTPè¯·æ±‚</li>
<li>3.æœåŠ¡å™¨æ¥å—è¯·æ±‚å¹¶è¿”å›HTTPå“åº”</li>
<li>4.é‡Šæ”¾TCPè¿æ¥</li>
<li>5.å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰è§£æHTMLå†…å®¹</li>
</ul>
<blockquote>
<p>è®°å¿†å£è¯€ï¼šè¿æ¥å‘é€åŠ å“åº”ï¼Œé‡Šæ”¾è§£ææ•´è¿‡ç¨‹ã€‚</p>
</blockquote>
<h3 id="HTTP-çš„-5-ç§æ–¹æ³•"><a href="#HTTP-çš„-5-ç§æ–¹æ³•" class="headerlink" title="HTTP çš„ 5 ç§æ–¹æ³•"></a>HTTP çš„ 5 ç§æ–¹æ³•</h3><ul>
<li>GETâ€”è·å–èµ„æº</li>
<li>POSTâ€”ä¼ è¾“èµ„æº</li>
<li>PUTâ€”æ›´æ–°èµ„æº</li>
<li>DELETEâ€”åˆ é™¤èµ„æº</li>
<li>HEADâ€”è·å–æŠ¥æ–‡é¦–éƒ¨</li>
</ul>
<h3 id="GETä¸POSTçš„åŒºåˆ«"><a href="#GETä¸POSTçš„åŒºåˆ«" class="headerlink" title="GETä¸POSTçš„åŒºåˆ«"></a>GETä¸POSTçš„åŒºåˆ«</h3><p><strong>1.æµè§ˆå™¨å›é€€è¡¨ç°ä¸åŒ</strong> GETåœ¨æµè§ˆå™¨å›é€€æ—¶æ˜¯æ— å®³çš„ï¼Œè€ŒPOSTä¼šå†æ¬¡æäº¤è¯·æ±‚<br><strong>2.æµè§ˆå™¨å¯¹è¯·æ±‚åœ°å€çš„å¤„ç†ä¸åŒ</strong> GETè¯·æ±‚åœ°å€ä¼šè¢«æµè§ˆå™¨ä¸»åŠ¨ç¼“å­˜ï¼Œè€ŒPOSTä¸ä¼šï¼Œé™¤éæ‰‹åŠ¨è®¾ç½®<br><strong>3.æµè§ˆå™¨å¯¹å“åº”çš„å¤„ç†ä¸åŒ</strong>GETè¯·æ±‚å‚æ•°ä¼šè¢«å®Œæ•´çš„ä¿ç•™åœ¨æµè§ˆå™¨å†å²è®°å½•é‡Œï¼Œè€ŒPOSTä¸­çš„å‚æ•°ä¸ä¼šè¢«ä¿ç•™<br><strong>4.å‚æ•°å¤§å°ä¸åŒ.</strong> GETè¯·æ±‚åœ¨URLä¸­ä¼ é€çš„å‚æ•°æ˜¯æœ‰é•¿åº¦çš„é™åˆ¶ï¼Œè€ŒPOSTæ²¡æœ‰é™åˆ¶<br><strong>5.å®‰å…¨æ€§ä¸åŒ.</strong> GETå‚æ•°é€šè¿‡URLä¼ é€’ï¼Œä¼šæš´éœ²ï¼Œä¸å®‰å…¨ï¼›POSTæ”¾åœ¨Request Bodyä¸­ï¼Œç›¸å¯¹æ›´å®‰å…¨<br><strong>6.é’ˆå¯¹æ•°æ®æ“ä½œçš„ç±»å‹ä¸åŒ</strong>.GETå¯¹æ•°æ®è¿›è¡ŒæŸ¥è¯¢ï¼ŒPOSTä¸»è¦å¯¹æ•°æ®è¿›è¡Œå¢åˆ æ”¹ï¼ç®€å•è¯´ï¼ŒGETæ˜¯åªè¯»ï¼ŒPOSTæ˜¯å†™ã€‚</p>
<h3 id="HTTPæŠ¥æ–‡çš„ç»„æˆæˆåˆ†"><a href="#HTTPæŠ¥æ–‡çš„ç»„æˆæˆåˆ†" class="headerlink" title="HTTPæŠ¥æ–‡çš„ç»„æˆæˆåˆ†"></a>HTTPæŠ¥æ–‡çš„ç»„æˆæˆåˆ†</h3><p>è¯·æ±‚æŠ¥æ–‡{ è¯·æ±‚è¡Œã€è¯·æ±‚å¤´ã€ç©ºè¡Œã€è¯·æ±‚ä½“ } è¯·æ±‚è¡Œï¼š{httpæ–¹æ³•ã€é¡µé¢åœ°å€ã€httpåè®®ã€httpç‰ˆæœ¬} å“åº”æŠ¥æ–‡{ çŠ¶æ€è¡Œã€å“åº”å¤´ã€ç©ºè¡Œã€å“åº”ä½“ }</p>
<p><strong>Request Header:</strong></p>
<ol>
<li><strong>GET &#x2F;sample.Jsp HTTP&#x2F;1.1</strong>  &#x2F;&#x2F;è¯·æ±‚è¡Œ</li>
<li><strong>Host:</strong>  <a target="_blank" rel="noopener" href="http://www.uuid.online/">www.uuid.online/</a> &#x2F;&#x2F;è¯·æ±‚çš„ç›®æ ‡åŸŸåå’Œç«¯å£å·</li>
<li><strong>Origin:</strong> <a target="_blank" rel="noopener" href="http://localhost:8081/">http://localhost:8081/</a>  &#x2F;&#x2F;è¯·æ±‚çš„æ¥æºåŸŸåå’Œç«¯å£å· ï¼ˆè·¨åŸŸè¯·æ±‚æ—¶ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å¸¦ä¸Šè¿™ä¸ªå¤´ä¿¡æ¯ï¼‰</li>
<li><strong>Referer:</strong> <a target="_blank" rel="noopener" href="https://localhost:8081/link?query=xxxxx">https://localhost:8081/link?query=xxxxx</a> &#x2F;&#x2F;è¯·æ±‚èµ„æºçš„å®Œæ•´URI</li>
<li><strong>User-Agent:</strong> Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;67.0.3396.99 Safari&#x2F;537.36 &#x2F;&#x2F;æµè§ˆå™¨ä¿¡æ¯</li>
<li><strong>Cookie:</strong>  BAIDUID&#x3D;FA89F036:FG&#x3D;1; BD_HOME&#x3D;1; sugstore&#x3D;0  &#x2F;&#x2F;å½“å‰åŸŸåä¸‹çš„Cookie</li>
<li><strong>Accept:</strong> text&#x2F;html,image&#x2F;apng  &#x2F;&#x2F;ä»£è¡¨å®¢æˆ·ç«¯å¸Œæœ›æ¥å—çš„æ•°æ®ç±»å‹æ˜¯htmlæˆ–è€…æ˜¯pngå›¾ç‰‡ç±»å‹</li>
<li><strong>Accept-Encoding:</strong> gzip, deflate  &#x2F;&#x2F;ä»£è¡¨å®¢æˆ·ç«¯èƒ½æ”¯æŒgzipå’Œdeflateæ ¼å¼çš„å‹ç¼©</li>
<li><strong>Accept-Language:</strong> zh-CN,zh;q&#x3D;0.9  &#x2F;&#x2F;ä»£è¡¨å®¢æˆ·ç«¯å¯ä»¥æ”¯æŒè¯­è¨€zh-CNæˆ–è€…zh(å€¼å¾—ä¸€æçš„æ˜¯q(0~1)æ˜¯ä¼˜å…ˆçº§æƒé‡çš„æ„æ€ï¼Œä¸å†™é»˜è®¤ä¸º1ï¼Œè¿™é‡Œzh-CNæ˜¯1ï¼Œzhæ˜¯0.9)</li>
<li><strong>Connection:</strong> keep-alive  &#x2F;&#x2F;å‘Šè¯‰æœåŠ¡å™¨ï¼Œå®¢æˆ·ç«¯éœ€è¦çš„tcpè¿æ¥æ˜¯ä¸€ä¸ªé•¿è¿æ¥</li>
</ol>
<p><strong>Response Header:</strong></p>
<ol>
<li><strong>HTTP&#x2F;1.1 200 OK</strong>  &#x2F;&#x2F; å“åº”çŠ¶æ€è¡Œ</li>
<li><strong>Date:</strong>  Mon, 30 Jul 2018 02:50:55 GMT  &#x2F;&#x2F;æœåŠ¡ç«¯å‘é€èµ„æºæ—¶çš„æœåŠ¡å™¨æ—¶é—´</li>
<li><strong>Expires:</strong>  Wed, 31 Dec 1969 23:59:59 GMT &#x2F;&#x2F;æ¯”è¾ƒè¿‡æ—¶çš„ä¸€ç§éªŒè¯ç¼“å­˜çš„æ–¹å¼ï¼Œä¸æµè§ˆå™¨ï¼ˆå®¢æˆ·ç«¯ï¼‰çš„æ—¶é—´æ¯”è¾ƒï¼Œè¶…è¿‡è¿™ä¸ªæ—¶é—´å°±ä¸ç”¨ç¼“å­˜ï¼ˆä¸å’ŒæœåŠ¡å™¨è¿›è¡ŒéªŒè¯ï¼‰ï¼Œé€‚åˆç‰ˆæœ¬æ¯”è¾ƒç¨³å®šçš„ç½‘é¡µ</li>
<li><strong>Cache-Control:</strong>  no-cache  &#x2F;&#x2F; ç°åœ¨æœ€å¤šä½¿ç”¨çš„æ§åˆ¶ç¼“å­˜çš„æ–¹å¼ï¼Œä¼šå’ŒæœåŠ¡å™¨è¿›è¡Œç¼“å­˜éªŒè¯ï¼Œå…·ä½“è§<a target="_blank" rel="noopener" href="https://www.cnblogs.com/amiezhang/p/9389537.html">åšæ–‡â€Cache-Controlâ€œ</a></li>
<li><strong>etag:</strong>  â€œfb8ba2f80b1d324bb997cbe188f28187-ssl-dfâ€  &#x2F;&#x2F; ä¸€èˆ¬æ˜¯<a target="_blank" rel="noopener" href="http://www.t086.com/article/5207">Nginxé™æ€æœåŠ¡å™¨</a>å‘æ¥çš„é™æ€æ–‡ä»¶ç­¾åï¼Œæµè§ˆåœ¨æ²¡æœ‰â€œDisabled cacheâ€æƒ…å†µä¸‹ï¼Œæ¥æ”¶åˆ°etagåï¼ŒåŒä¸€ä¸ªurlç¬¬äºŒæ¬¡è¯·æ±‚å°±ä¼šè‡ªåŠ¨å¸¦ä¸Šâ€œIf-None-Matchâ€</li>
<li><strong>Last-Modified:</strong>  Fri, 27 Jul 2018 11:04:55 GMT &#x2F;&#x2F;æ˜¯æœåŠ¡å™¨å‘æ¥çš„å½“å‰èµ„æºæœ€åä¸€æ¬¡ä¿®æ”¹çš„æ—¶é—´ï¼Œä¸‹æ¬¡è¯·æ±‚æ—¶ï¼Œå¦‚æœæœåŠ¡å™¨ä¸Šå½“å‰èµ„æºçš„ä¿®æ”¹æ—¶é—´å¤§äºè¿™ä¸ªæ—¶é—´ï¼Œå°±è¿”å›æ–°çš„èµ„æºå†…å®¹</li>
<li><strong>Content-Type:</strong>  text&#x2F;html; charset&#x3D;utf-8  &#x2F;&#x2F;å¦‚æœè¿”å›æ˜¯æµå¼çš„æ•°æ®ï¼Œæˆ‘ä»¬å°±å¿…é¡»å‘Šè¯‰æµè§ˆå™¨è¿™ä¸ªå¤´ï¼Œä¸ç„¶æµè§ˆå™¨ä¼šä¸‹è½½è¿™ä¸ªé¡µé¢ï¼ŒåŒæ—¶å‘Šè¯‰æµè§ˆå™¨æ˜¯utf8ç¼–ç ï¼Œå¦åˆ™å¯èƒ½å‡ºç°ä¹±ç </li>
<li><strong>Content-Encoding:</strong>  gzip  &#x2F;&#x2F;å‘Šè¯‰å®¢æˆ·ç«¯ï¼Œåº”è¯¥é‡‡ç”¨gzipå¯¹èµ„æºè¿›è¡Œè§£ç </li>
<li><strong>Connection:</strong>  keep-alive  &#x2F;&#x2F;å‘Šè¯‰å®¢æˆ·ç«¯æœåŠ¡å™¨çš„tcpè¿æ¥ä¹Ÿæ˜¯ä¸€ä¸ªé•¿è¿æ¥</li>
</ol>
<h3 id="https-çš„åŸºæœ¬æ¦‚å¿µ"><a href="#https-çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="https çš„åŸºæœ¬æ¦‚å¿µ"></a>https çš„åŸºæœ¬æ¦‚å¿µ</h3><p>https:æ˜¯ä»¥å®‰å…¨ä¸ºç›®æ ‡çš„ HTTP é€šé“ï¼Œå³ HTTP ä¸‹ åŠ å…¥ SSL å±‚è¿›è¡ŒåŠ å¯†ã€‚</p>
<p>https åè®®çš„ä½œç”¨ï¼šå»ºç«‹ä¸€ä¸ªä¿¡æ¯å®‰å…¨é€šé“ï¼Œæ¥ç¡®ä¿æ•°æ®çš„ä¼ è¾“ï¼Œç¡®ä¿ç½‘ç«™çš„çœŸå®æ€§ã€‚</p>
<h3 id="http-å’Œ-https-çš„åŒºåˆ«ï¼Ÿ"><a href="#http-å’Œ-https-çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="http å’Œ https çš„åŒºåˆ«ï¼Ÿ"></a>http å’Œ https çš„åŒºåˆ«ï¼Ÿ</h3><ul>
<li>http æ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œä¿¡æ¯æ˜¯æ˜æ–‡ä¼ è¾“ï¼Œhttps åˆ™æ˜¯å…·æœ‰å®‰å…¨æ€§çš„ ssl åŠ å¯†ä¼ è¾“åè®®ã€‚</li>
<li>Https åè®®éœ€è¦ ca è¯ä¹¦ï¼Œè´¹ç”¨è¾ƒé«˜ã€‚</li>
<li>ä½¿ç”¨ä¸åŒçš„é“¾æ¥æ–¹å¼ï¼Œç«¯å£ä¹Ÿä¸åŒï¼Œä¸€èˆ¬ï¼Œhttp åè®®çš„ç«¯å£ä¸º 80ï¼Œhttps çš„ç«¯å£ä¸º 443ã€‚</li>
<li>http çš„è¿æ¥å¾ˆç®€å•ï¼Œæ˜¯æ— çŠ¶æ€çš„ã€‚</li>
</ul>
<blockquote>
<p>è®°å¿†å£è¯€ï¼šæ˜æ–‡ä¼ è¾“è¶…æ–‡æœ¬ï¼Œå®‰å…¨ç­‰çº§å„ä¸åŒã€‚CAè¯ä¹¦è´¹ç”¨é«˜ï¼Œæ— çŠ¶è¿æ¥ç«¯éš¾åŒã€‚</p>
</blockquote>
<h4 id="https-åè®®çš„å·¥ä½œåŸç†"><a href="#https-åè®®çš„å·¥ä½œåŸç†" class="headerlink" title="https åè®®çš„å·¥ä½œåŸç†"></a>https åè®®çš„å·¥ä½œåŸç†</h4><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c42bc6f45451457fa6d614fb27534516~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>å®¢æˆ·ç«¯åœ¨ä½¿ç”¨ HTTPS æ–¹å¼ä¸ Web æœåŠ¡å™¨é€šä¿¡æ—¶æœ‰ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li>å®¢æˆ·ç«¯ä½¿ç”¨ https url è®¿é—®æœåŠ¡å™¨ï¼Œåˆ™è¦æ±‚ web æœåŠ¡å™¨<code>å»ºç«‹ ssl é“¾æ¥</code>ã€‚</li>
<li>web æœåŠ¡å™¨æ¥æ”¶åˆ°å®¢æˆ·ç«¯çš„è¯·æ±‚ä¹‹åï¼Œä¼š<code>å°†ç½‘ç«™çš„è¯ä¹¦ï¼ˆè¯ä¹¦ä¸­åŒ…å«äº†å…¬é’¥ï¼‰ï¼Œä¼ è¾“ç»™å®¢æˆ·ç«¯</code>ã€‚</li>
<li>å®¢æˆ·ç«¯å’Œ web æœåŠ¡å™¨ç«¯å¼€å§‹<code>åå•† SSL é“¾æ¥çš„å®‰å…¨ç­‰çº§</code>ï¼Œä¹Ÿå°±æ˜¯åŠ å¯†ç­‰çº§ã€‚</li>
<li>å®¢æˆ·ç«¯æµè§ˆå™¨é€šè¿‡åŒæ–¹åå•†ä¸€è‡´çš„å®‰å…¨ç­‰çº§ï¼Œ<code>å»ºç«‹ä¼šè¯å¯†é’¥</code>ï¼Œç„¶åé€šè¿‡ç½‘ç«™çš„å…¬é’¥æ¥åŠ å¯†ä¼šè¯å¯†é’¥ï¼Œå¹¶ä¼ é€ç»™ç½‘ç«™ã€‚</li>
<li>web æœåŠ¡å™¨<code>é€šè¿‡è‡ªå·±çš„ç§é’¥è§£å¯†å‡ºä¼šè¯å¯†é’¥</code>ã€‚</li>
<li>web æœåŠ¡å™¨<code>é€šè¿‡ä¼šè¯å¯†é’¥åŠ å¯†ä¸å®¢æˆ·ç«¯ä¹‹é—´çš„é€šä¿¡</code>ã€‚</li>
</ol>
<blockquote>
<p>è®°å¿†å£è¯€ï¼šä¸€è¿äºŒä¼ ä¸‰åå•†ï¼Œå››å»ºäº”å¾—å…­ä½¿ç”¨ã€‚</p>
</blockquote>
<h4 id="https-åè®®çš„ä¼˜ç¼ºç‚¹"><a href="#https-åè®®çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="https åè®®çš„ä¼˜ç¼ºç‚¹"></a>https åè®®çš„ä¼˜ç¼ºç‚¹</h4><ul>
<li>HTTPS åè®®è¦æ¯” http åè®®<code>å®‰å…¨</code>ï¼Œå¯é˜²æ­¢æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­è¢«çªƒå–ã€æ”¹å˜ï¼Œç¡®ä¿æ•°æ®çš„å®Œæ•´æ€§ã€‚</li>
<li>https æ¡æ‰‹é˜¶æ®µæ¯”è¾ƒ<code>è´¹æ—¶</code>ï¼Œä¼šä½¿é¡µé¢åŠ è½½æ—¶é—´å»¶é•¿ 50%ï¼Œå¢åŠ  10%~20%çš„è€—ç”µã€‚</li>
<li>https <code>ç¼“å­˜</code>ä¸å¦‚ http é«˜æ•ˆï¼Œä¼šå¢åŠ æ•°æ®å¼€é”€ã€‚</li>
<li>SSL è¯ä¹¦ä¹Ÿéœ€è¦é’±ï¼ŒåŠŸèƒ½è¶Šå¼ºå¤§çš„<code>è¯ä¹¦è´¹</code>ç”¨è¶Šé«˜ã€‚</li>
<li>SSL è¯ä¹¦éœ€è¦ç»‘å®š <code>IP</code>ï¼Œä¸èƒ½å†åŒä¸€ä¸ª ip ä¸Šç»‘å®šå¤šä¸ªåŸŸåï¼Œipv4 èµ„æºæ”¯æŒä¸äº†è¿™ç§æ¶ˆè€—ã€‚</li>
</ul>
<h3 id="TCP-x2F-IPç½‘ç»œæ¨¡å‹"><a href="#TCP-x2F-IPç½‘ç»œæ¨¡å‹" class="headerlink" title="TCP&#x2F;IPç½‘ç»œæ¨¡å‹"></a>TCP&#x2F;IPç½‘ç»œæ¨¡å‹</h3><p>TCP&#x2F;IPæ¨¡å‹æ˜¯äº’è”ç½‘çš„åŸºç¡€ï¼Œå®ƒæ˜¯ä¸€ç³»åˆ—ç½‘ç»œåè®®çš„æ€»ç§°ã€‚è¿™äº›åè®®å¯ä»¥åˆ’åˆ†ä¸ºå››å±‚ï¼Œåˆ†åˆ«ä¸ºé“¾è·¯å±‚ã€ç½‘ç»œå±‚ã€ä¼ è¾“å±‚å’Œåº”ç”¨å±‚ã€‚</p>
<ul>
<li>é“¾è·¯å±‚ï¼šè´Ÿè´£å°è£…å’Œè§£å°è£…IPæŠ¥æ–‡ï¼Œå‘é€å’Œæ¥å—ARP&#x2F;RARPæŠ¥æ–‡ç­‰ã€‚</li>
<li>ç½‘ç»œå±‚ï¼šè´Ÿè´£è·¯ç”±ä»¥åŠæŠŠåˆ†ç»„æŠ¥æ–‡å‘é€ç»™ç›®æ ‡ç½‘ç»œæˆ–ä¸»æœºã€‚</li>
<li>ä¼ è¾“å±‚ï¼šè´Ÿè´£å¯¹æŠ¥æ–‡è¿›è¡Œåˆ†ç»„å’Œé‡ç»„ï¼Œå¹¶ä»¥TCPæˆ–UDPåè®®æ ¼å¼å°è£…æŠ¥æ–‡ã€‚</li>
<li>åº”ç”¨å±‚ï¼šè´Ÿè´£å‘ç”¨æˆ·æä¾›åº”ç”¨ç¨‹åºï¼Œæ¯”å¦‚HTTPã€FTPã€Telnetã€DNSã€SMTPç­‰ã€‚</li>
</ul>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2fa80b3b48a84bd18d8e708c56a1dc22~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h3 id="TCPä¸‰æ¬¡æ¡æ‰‹"><a href="#TCPä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="TCPä¸‰æ¬¡æ¡æ‰‹"></a>TCPä¸‰æ¬¡æ¡æ‰‹</h3><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/baf3d5df95a74f47a1d779ee50c3411f~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<ol>
<li>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼š<code>å»ºç«‹è¿æ¥æ—¶ï¼Œå®¢æˆ·ç«¯å‘é€synåŒ…ï¼ˆsyn=jï¼‰åˆ°æœåŠ¡å™¨ï¼Œå¹¶è¿›å…¥SYN_SENTçŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡å™¨ç¡®è®¤</code>ï¼›SYNï¼šåŒæ­¥åºåˆ—ç¼–å·ï¼ˆSynchronize Sequence Numbersï¼‰ã€‚</li>
<li>ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼š<code>æœåŠ¡å™¨æ”¶åˆ°synåŒ…å¹¶ç¡®è®¤å®¢æˆ·çš„SYN</code>ï¼ˆack&#x3D;j+1ï¼‰ï¼Œ<code>åŒæ—¶ä¹Ÿå‘é€ä¸€ä¸ªè‡ªå·±çš„SYNåŒ…</code>ï¼ˆsyn&#x3D;kï¼‰ï¼Œå³SYN+ACKåŒ…ï¼Œæ­¤æ—¶æœåŠ¡å™¨è¿›å…¥SYN_RECVçŠ¶æ€ï¼›</li>
<li>ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼š<code>å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨çš„SYN+ACKåŒ…ï¼Œå‘æœåŠ¡å™¨å‘é€ç¡®è®¤åŒ…ACK(ack=k+1ï¼‰</code>ï¼Œæ­¤åŒ…å‘é€å®Œæ¯•ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨è¿›å…¥ESTABLISHEDï¼ˆTCPè¿æ¥æˆåŠŸï¼‰çŠ¶æ€ï¼Œå®Œæˆä¸‰æ¬¡æ¡æ‰‹ã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ¡æ‰‹è¿‡ç¨‹ä¸­ä¼ é€çš„åŒ…é‡Œä¸åŒ…å«æ•°æ®ï¼Œä¸‰æ¬¡æ¡æ‰‹å®Œæ¯•åï¼Œå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨æ‰æ­£å¼å¼€å§‹ä¼ é€æ•°æ®ã€‚</span><br></pre></td></tr></table></figure>


<h3 id="TCP-å››æ¬¡æŒ¥æ‰‹"><a href="#TCP-å››æ¬¡æŒ¥æ‰‹" class="headerlink" title="TCP å››æ¬¡æŒ¥æ‰‹"></a>TCP å››æ¬¡æŒ¥æ‰‹</h3><ol>
<li><code>å®¢æˆ·ç«¯è¿›ç¨‹å‘å‡ºè¿æ¥é‡Šæ”¾æŠ¥æ–‡</code>ï¼Œå¹¶ä¸”åœæ­¢å‘é€æ•°æ®ã€‚é‡Šæ”¾æ•°æ®æŠ¥æ–‡é¦–éƒ¨ï¼ŒFIN&#x3D;1ï¼Œå…¶åºåˆ—å·ä¸ºseq&#x3D;uï¼ˆç­‰äºå‰é¢å·²ç»ä¼ é€è¿‡æ¥çš„æ•°æ®çš„æœ€åä¸€ä¸ªå­—èŠ‚çš„åºå·åŠ 1ï¼‰ï¼Œæ­¤æ—¶ï¼Œå®¢æˆ·ç«¯è¿›å…¥FIN-WAIT-1ï¼ˆç»ˆæ­¢ç­‰å¾…1ï¼‰çŠ¶æ€ã€‚ TCPè§„å®šï¼ŒFINæŠ¥æ–‡æ®µå³ä½¿ä¸æºå¸¦æ•°æ®ï¼Œä¹Ÿè¦æ¶ˆè€—ä¸€ä¸ªåºå·ã€‚</li>
</ol>
<p>2ï¼‰<code>æœåŠ¡å™¨æ”¶åˆ°è¿æ¥é‡Šæ”¾æŠ¥æ–‡ï¼Œå‘å‡ºç¡®è®¤æŠ¥æ–‡</code>ï¼ŒACK&#x3D;1ï¼Œack&#x3D;u+1ï¼Œå¹¶ä¸”å¸¦ä¸Šè‡ªå·±çš„åºåˆ—å·seq&#x3D;vï¼Œæ­¤æ—¶ï¼ŒæœåŠ¡ç«¯å°±è¿›å…¥äº†CLOSE-WAITï¼ˆå…³é—­ç­‰å¾…ï¼‰çŠ¶æ€ã€‚TCPæœåŠ¡å™¨é€šçŸ¥é«˜å±‚çš„åº”ç”¨è¿›ç¨‹ï¼Œå®¢æˆ·ç«¯å‘æœåŠ¡å™¨çš„æ–¹å‘å°±é‡Šæ”¾äº†ï¼Œè¿™æ—¶å€™å¤„äºåŠå…³é—­çŠ¶æ€ï¼Œå³å®¢æˆ·ç«¯å·²ç»æ²¡æœ‰æ•°æ®è¦å‘é€äº†ï¼Œä½†æ˜¯æœåŠ¡å™¨è‹¥å‘é€æ•°æ®ï¼Œå®¢æˆ·ç«¯ä¾ç„¶è¦æ¥å—ã€‚è¿™ä¸ªçŠ¶æ€è¿˜è¦æŒç»­ä¸€æ®µæ—¶é—´ï¼Œä¹Ÿå°±æ˜¯æ•´ä¸ªCLOSE-WAITçŠ¶æ€æŒç»­çš„æ—¶é—´ã€‚</p>
<p>3ï¼‰å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨çš„ç¡®è®¤è¯·æ±‚åï¼Œæ­¤æ—¶ï¼Œå®¢æˆ·ç«¯å°±è¿›å…¥FIN-WAIT-2ï¼ˆç»ˆæ­¢ç­‰å¾…2ï¼‰çŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡å™¨å‘é€è¿æ¥é‡Šæ”¾æŠ¥æ–‡ï¼ˆåœ¨è¿™ä¹‹å‰è¿˜éœ€è¦æ¥å—æœåŠ¡å™¨å‘é€çš„æœ€ åçš„æ•°æ®ï¼‰ã€‚</p>
<p>4ï¼‰<code>æœåŠ¡å™¨å°†æœ€åçš„æ•°æ®å‘é€å®Œæ¯•åï¼Œå°±å‘å®¢æˆ·ç«¯å‘é€è¿æ¥é‡Šæ”¾æŠ¥æ–‡</code>ï¼ŒFIN&#x3D;1ï¼Œack&#x3D;u+1ï¼Œç”±äºåœ¨åŠå…³é—­çŠ¶æ€ï¼ŒæœåŠ¡å™¨å¾ˆå¯èƒ½åˆå‘é€äº†ä¸€äº›æ•°æ®ï¼Œå‡å®šæ­¤æ—¶çš„åºåˆ—å·ä¸ºseq&#x3D;wï¼Œæ­¤æ—¶ï¼ŒæœåŠ¡å™¨å°±è¿›å…¥äº†LAST-ACKï¼ˆæœ€åç¡®è®¤ï¼‰çŠ¶æ€ï¼Œç­‰å¾…å®¢æˆ·ç«¯çš„ç¡®è®¤ã€‚</p>
<p>5ï¼‰<code>å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨çš„è¿æ¥é‡Šæ”¾æŠ¥æ–‡åï¼Œå¿…é¡»å‘å‡ºç¡®è®¤</code>ï¼ŒACK&#x3D;1ï¼Œack&#x3D;w+1ï¼Œè€Œè‡ªå·±çš„åºåˆ—å·æ˜¯seq&#x3D;u+1ï¼Œæ­¤æ—¶ï¼Œå®¢æˆ·ç«¯å°±è¿›å…¥äº†TIME-WAITï¼ˆæ—¶é—´ç­‰å¾…ï¼‰çŠ¶æ€ã€‚æ³¨æ„æ­¤æ—¶TCPè¿æ¥è¿˜æ²¡æœ‰é‡Šæ”¾ï¼Œå¿…é¡»ç»è¿‡2âˆ—âˆ—MSLï¼ˆæœ€é•¿æŠ¥æ–‡æ®µå¯¿å‘½ï¼‰çš„æ—¶é—´åï¼Œå½“å®¢æˆ·ç«¯æ’¤é”€ç›¸åº”çš„TCBåï¼Œæ‰è¿›å…¥CLOSEDçŠ¶æ€ã€‚</p>
<p>6ï¼‰æœåŠ¡å™¨åªè¦æ”¶åˆ°äº†å®¢æˆ·ç«¯å‘å‡ºçš„ç¡®è®¤ï¼Œç«‹å³è¿›å…¥CLOSEDçŠ¶æ€ã€‚åŒæ ·ï¼Œæ’¤é”€TCBåï¼Œå°±ç»“æŸäº†è¿™æ¬¡çš„TCPè¿æ¥ã€‚å¯ä»¥çœ‹åˆ°ï¼ŒæœåŠ¡å™¨ç»“æŸTCPè¿æ¥çš„æ—¶é—´è¦æ¯”å®¢æˆ·ç«¯æ—©ä¸€äº›ã€‚</p>
<h3 id="TCPå’ŒUDPçš„åŒºåˆ«"><a href="#TCPå’ŒUDPçš„åŒºåˆ«" class="headerlink" title="TCPå’ŒUDPçš„åŒºåˆ«"></a>TCPå’ŒUDPçš„åŒºåˆ«</h3><ol>
<li><p>TCPæ˜¯é¢å‘<code>è¿æ¥</code>çš„ï¼Œè€ŒUDPæ˜¯é¢å‘æ— è¿æ¥çš„ã€‚</p>
</li>
<li><p>TCPä»…æ”¯æŒ<code>å•æ’­ä¼ è¾“</code>ï¼ŒUDP æä¾›äº†å•æ’­ï¼Œå¤šæ’­ï¼Œå¹¿æ’­çš„åŠŸèƒ½ã€‚</p>
</li>
<li><p>TCPçš„ä¸‰æ¬¡æ¡æ‰‹ä¿è¯äº†è¿æ¥çš„<code>å¯é æ€§</code>; UDPæ˜¯æ— è¿æ¥çš„ã€ä¸å¯é çš„ä¸€ç§æ•°æ®ä¼ è¾“åè®®ï¼Œé¦–å…ˆä¸å¯é æ€§ä½“ç°åœ¨æ— è¿æ¥ä¸Šï¼Œé€šä¿¡éƒ½ä¸éœ€è¦å»ºç«‹è¿æ¥ï¼Œå¯¹æ¥æ”¶åˆ°çš„æ•°æ®ä¹Ÿä¸å‘é€ç¡®è®¤ä¿¡å·ï¼Œå‘é€ç«¯ä¸çŸ¥é“æ•°æ®æ˜¯å¦ä¼šæ­£ç¡®æ¥æ”¶ã€‚</p>
</li>
<li><p>UDPçš„<code>å¤´éƒ¨å¼€é”€</code>æ¯”TCPçš„æ›´å°ï¼Œæ•°æ®<code>ä¼ è¾“é€Ÿç‡æ›´é«˜</code>ï¼Œ<code>å®æ—¶æ€§æ›´å¥½</code>ã€‚</p>
</li>
</ol>
<h3 id="HTTP-è¯·æ±‚è·¨åŸŸé—®é¢˜"><a href="#HTTP-è¯·æ±‚è·¨åŸŸé—®é¢˜" class="headerlink" title="HTTP è¯·æ±‚è·¨åŸŸé—®é¢˜"></a>HTTP è¯·æ±‚è·¨åŸŸé—®é¢˜</h3><ol>
<li><p>è·¨åŸŸçš„åŸç†</p>
<p> <strong>è·¨åŸŸ</strong>ï¼Œæ˜¯æŒ‡æµè§ˆå™¨ä¸èƒ½æ‰§è¡Œå…¶ä»–ç½‘ç«™çš„è„šæœ¬ã€‚å®ƒæ˜¯ç”±æµè§ˆå™¨çš„<code>åŒæºç­–ç•¥</code>é€ æˆçš„ã€‚<br> <strong>åŒæºç­–ç•¥</strong>,æ˜¯æµè§ˆå™¨å¯¹ JavaScript å®æ–½çš„å®‰å…¨é™åˆ¶ï¼Œåªè¦<code>åè®®ã€åŸŸåã€ç«¯å£</code>æœ‰ä»»ä½•ä¸€ä¸ªä¸åŒï¼Œéƒ½è¢«å½“ä½œæ˜¯ä¸åŒçš„åŸŸã€‚<br> <strong>è·¨åŸŸåŸç†</strong>ï¼Œå³æ˜¯é€šè¿‡å„ç§æ–¹å¼ï¼Œ<code>é¿å¼€æµè§ˆå™¨çš„å®‰å…¨é™åˆ¶</code>ã€‚</p>
</li>
<li><p>è§£å†³æ–¹æ¡ˆ</p>
<p> æœ€åˆåšé¡¹ç›®çš„æ—¶å€™ï¼Œä½¿ç”¨çš„æ˜¯jsonpï¼Œä½†å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œä½¿ç”¨getè¯·æ±‚ä¸å®‰å…¨ï¼Œæºå¸¦æ•°æ®è¾ƒå°ï¼Œåæ¥ä¹Ÿç”¨è¿‡iframeï¼Œä½†åªæœ‰ä¸»åŸŸç›¸åŒæ‰è¡Œï¼Œä¹Ÿæ˜¯å­˜åœ¨äº›é—®é¢˜ï¼Œåæ¥é€šè¿‡äº†è§£å’Œå­¦ä¹ å‘ç°ä½¿ç”¨ä»£ç†å’Œproxyä»£ç†é…åˆèµ·æ¥ä½¿ç”¨æ¯”è¾ƒæ–¹ä¾¿ï¼Œå°±å¼•å¯¼åå°æŒ‰è¿™ç§æ–¹å¼åšä¸‹æœåŠ¡å™¨é…ç½®ï¼Œåœ¨å¼€å‘ä¸­ä½¿ç”¨proxyï¼Œåœ¨æœåŠ¡å™¨ä¸Šä½¿ç”¨nginxä»£ç†ï¼Œè¿™æ ·å¼€å‘è¿‡ç¨‹ä¸­å½¼æ­¤éƒ½æ–¹ä¾¿ï¼Œæ•ˆç‡ä¹Ÿé«˜ï¼›ç°åœ¨h5æ–°ç‰¹æ€§è¿˜æœ‰ windows.postMessage()</p>
<ul>
<li><p><strong>JSONP</strong>ï¼š<br>  ajax è¯·æ±‚å—åŒæºç­–ç•¥å½±å“ï¼Œä¸å…è®¸è¿›è¡Œè·¨åŸŸè¯·æ±‚ï¼Œè€Œ script æ ‡ç­¾ src å±æ€§ä¸­çš„é“¾ æ¥å´å¯ä»¥è®¿é—®è·¨åŸŸçš„ js è„šæœ¬ï¼Œåˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼ŒæœåŠ¡ç«¯ä¸å†è¿”å› JSON æ ¼å¼çš„æ•°æ®ï¼Œè€Œæ˜¯ è¿”å›ä¸€æ®µè°ƒç”¨æŸä¸ªå‡½æ•°çš„ js ä»£ç ï¼Œåœ¨ src ä¸­è¿›è¡Œäº†è°ƒç”¨ï¼Œè¿™æ ·å®ç°äº†è·¨åŸŸã€‚</p>
<p>  æ­¥éª¤ï¼š</p>
<ol>
<li>å»åˆ›å»ºä¸€ä¸ªscriptæ ‡ç­¾</li>
<li>scriptçš„srcå±æ€§è®¾ç½®æ¥å£åœ°å€</li>
<li>æ¥å£å‚æ•°ï¼Œå¿…é¡»è¦å¸¦ä¸€ä¸ªè‡ªå®šä¹‰å‡½æ•°åï¼Œè¦ä¸ç„¶åå°æ— æ³•è¿”å›æ•°æ®</li>
<li>é€šè¿‡å®šä¹‰å‡½æ•°åå»æ¥å—è¿”å›çš„æ•°æ®</li>
</ol>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åŠ¨æ€åˆ›å»º script</span></span><br><span class="line"><span class="keyword">var</span> script = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;script&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®å›è°ƒå‡½æ•°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getData</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è®¾ç½® script çš„ src å±æ€§ï¼Œå¹¶è®¾ç½®è¯·æ±‚åœ°å€</span></span><br><span class="line">script.<span class="property">src</span> = <span class="string">&#x27;http://localhost:3000/?callback=getData&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®© script ç”Ÿæ•ˆ</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(script);</span><br></pre></td></tr></table></figure>

<p>  <strong>JSONP çš„ç¼ºç‚¹</strong>:<br>  JSON åªæ”¯æŒ getï¼Œå› ä¸º script æ ‡ç­¾åªèƒ½ä½¿ç”¨ get è¯·æ±‚ï¼› JSONP éœ€è¦åç«¯é…åˆè¿”å›æŒ‡å®šæ ¼å¼çš„æ•°æ®ã€‚</p>
</li>
<li><p><strong>document.domain</strong>  åŸºç¡€åŸŸåç›¸åŒ å­åŸŸåä¸åŒ</p>
</li>
<li><p><strong>window.name</strong> åˆ©ç”¨åœ¨ä¸€ä¸ªæµè§ˆå™¨çª—å£å†…ï¼Œè½½å…¥æ‰€æœ‰çš„åŸŸåéƒ½æ˜¯å…±äº«ä¸€ä¸ª window.name</p>
</li>
<li><p><strong>CORS</strong> CORS(Cross-origin resource sharing)è·¨åŸŸèµ„æºå…±äº« æœåŠ¡å™¨è®¾ç½®å¯¹CORSçš„æ”¯æŒåŸç†ï¼šæœåŠ¡å™¨è®¾ç½®Access-Control-Allow-Origin HTTPå“åº”å¤´ä¹‹åï¼Œæµè§ˆå™¨å°†ä¼šå…è®¸è·¨åŸŸè¯·æ±‚</p>
</li>
<li><p><strong>proxyä»£ç†</strong> ç›®å‰å¸¸ç”¨æ–¹å¼</p>
</li>
<li><p><strong>window.postMessage()</strong>  åˆ©ç”¨h5æ–°ç‰¹æ€§ window.postMessage()</p>
</li>
<li><p><strong>Websocket</strong></p>
</li>
</ul>
</li>
</ol>
<h3 id="Cookieã€sessionStorageã€localStorage-çš„åŒºåˆ«"><a href="#Cookieã€sessionStorageã€localStorage-çš„åŒºåˆ«" class="headerlink" title="Cookieã€sessionStorageã€localStorage çš„åŒºåˆ«"></a>Cookieã€sessionStorageã€localStorage çš„åŒºåˆ«</h3><p><strong>ç›¸åŒç‚¹</strong>ï¼š</p>
<ul>
<li>å­˜å‚¨åœ¨å®¢æˆ·ç«¯</li>
</ul>
<p><strong>ä¸åŒç‚¹</strong>ï¼š</p>
<ul>
<li>cookieæ•°æ®å¤§å°ä¸èƒ½è¶…è¿‡4kï¼›sessionStorageå’ŒlocalStorageçš„å­˜å‚¨æ¯”cookieå¤§å¾—å¤šï¼Œå¯ä»¥è¾¾åˆ°5M+</li>
<li>cookieè®¾ç½®çš„è¿‡æœŸæ—¶é—´ä¹‹å‰ä¸€ç›´æœ‰æ•ˆï¼›localStorageæ°¸ä¹…å­˜å‚¨ï¼Œæµè§ˆå™¨å…³é—­åæ•°æ®ä¸ä¸¢å¤±é™¤éä¸»åŠ¨åˆ é™¤æ•°æ®ï¼›sessionStorageæ•°æ®åœ¨å½“å‰æµè§ˆå™¨çª—å£å…³é—­åè‡ªåŠ¨åˆ é™¤</li>
<li>cookieçš„æ•°æ®ä¼šè‡ªåŠ¨çš„ä¼ é€’åˆ°æœåŠ¡å™¨ï¼›sessionStorageå’ŒlocalStorageæ•°æ®ä¿å­˜åœ¨æœ¬åœ°</li>
</ul>
<h3 id="HTTPçŠ¶æ€ç åŠå¸¸è§çŠ¶æ€ç "><a href="#HTTPçŠ¶æ€ç åŠå¸¸è§çŠ¶æ€ç " class="headerlink" title="HTTPçŠ¶æ€ç åŠå¸¸è§çŠ¶æ€ç "></a>HTTPçŠ¶æ€ç åŠå¸¸è§çŠ¶æ€ç </h3><h4 id="HTTPçŠ¶æ€ç "><a href="#HTTPçŠ¶æ€ç " class="headerlink" title="HTTPçŠ¶æ€ç "></a>HTTPçŠ¶æ€ç </h4><ul>
<li>1xxï¼šæŒ‡ç¤ºä¿¡æ¯ç±»ï¼Œè¡¨ç¤ºè¯·æ±‚å·²æ¥å—ï¼Œç»§ç»­å¤„ç†</li>
<li>2xxï¼šæŒ‡ç¤ºæˆåŠŸç±»ï¼Œè¡¨ç¤ºè¯·æ±‚å·²æˆåŠŸæ¥å—</li>
<li>3xxï¼šæŒ‡ç¤ºé‡å®šå‘ï¼Œè¡¨ç¤ºè¦å®Œæˆè¯·æ±‚å¿…é¡»è¿›è¡Œæ›´è¿‘ä¸€æ­¥çš„æ“ä½œ</li>
<li>4xxï¼šæŒ‡ç¤ºå®¢æˆ·ç«¯é”™è¯¯ï¼Œè¯·æ±‚æœ‰è¯­æ³•é”™è¯¯æˆ–è¯·æ±‚æ— æ³•å®ç°</li>
<li>5xxï¼šæŒ‡ç¤ºæœåŠ¡å™¨é”™è¯¯ï¼ŒæœåŠ¡å™¨æœªèƒ½å®ç°åˆæ³•çš„è¯·æ±‚</li>
</ul>
<h4 id="å¸¸è§çŠ¶æ€ç "><a href="#å¸¸è§çŠ¶æ€ç " class="headerlink" title="å¸¸è§çŠ¶æ€ç "></a>å¸¸è§çŠ¶æ€ç </h4><ul>
<li><p>200 OKï¼šå®¢æˆ·ç«¯è¯·æ±‚æˆåŠŸ</p>
</li>
<li><p>301 Moved Permanentlyï¼šæ‰€è¯·æ±‚çš„é¡µé¢å·²ç»æ°¸ä¹…é‡å®šå‘è‡³æ–°çš„URL</p>
</li>
<li><p>302 Foundï¼šæ‰€è¯·æ±‚çš„é¡µé¢å·²ç»ä¸´æ—¶é‡å®šå‘è‡³æ–°çš„URL</p>
</li>
<li><p>304 Not Modified æœªä¿®æ”¹ã€‚</p>
</li>
<li><p>403 Forbiddenï¼šå¯¹è¯·æ±‚é¡µé¢çš„è®¿é—®è¢«ç¦æ­¢</p>
</li>
<li><p>404 Not Foundï¼šè¯·æ±‚èµ„æºä¸å­˜åœ¨</p>
</li>
<li><p>500 Internal Server Errorï¼šæœåŠ¡å™¨å‘ç”Ÿä¸å¯é¢„æœŸçš„é”™è¯¯åŸæ¥ç¼“å†²çš„æ–‡æ¡£è¿˜å¯ä»¥ç»§ç»­ä½¿ç”¨</p>
</li>
<li><p>503 Server Unavailableï¼šè¯·æ±‚æœªå®Œæˆï¼ŒæœåŠ¡å™¨ä¸´æ—¶è¿‡è½½æˆ–å®•æœºï¼Œä¸€æ®µæ—¶é—´åå¯æ¢å¤æ­£å¸¸</p>
</li>
<li><p>1xxï¼ˆä¸´æ—¶å“åº”ï¼‰è¡¨ç¤ºä¸´æ—¶å“åº”å¹¶éœ€è¦è¯·æ±‚è€…ç»§ç»­æ‰§è¡Œæ“ä½œçš„çŠ¶æ€ç </p>
<ul>
<li>100 - ç»§ç»­ è¯·æ±‚è€…åº”å½“ç»§ç»­æå‡ºè¯·æ±‚ã€‚æœåŠ¡å™¨è¿”å›æ­¤ä»£ç è¡¨ç¤ºå·²æ”¶åˆ°è¯·æ±‚çš„ç¬¬ä¸€éƒ¨åˆ†ï¼Œæ­£åœ¨ç­‰å¾…å…¶ä½™éƒ¨åˆ†</li>
<li>101 - åˆ‡æ¢åè®® è¯·æ±‚è€…å·²è¦æ±‚æœåŠ¡å™¨åˆ‡æ¢åè®®ï¼ŒæœåŠ¡å™¨å·²ç¡®è®¤å¹¶å‡†å¤‡åˆ‡æ¢</li>
</ul>
</li>
<li><p>2xxï¼ˆæˆåŠŸï¼‰è¡¨ç¤ºæˆåŠŸå¤„ç†äº†è¯·æ±‚çš„çŠ¶æ€ç </p>
<ul>
<li><code>200</code> - æˆåŠŸ æœåŠ¡å™¨å·²ç»æˆåŠŸå¤„ç†äº†è¯·æ±‚ã€‚é€šå¸¸ï¼Œè¿™è¡¨ç¤ºæœåŠ¡å™¨æä¾›äº†è¯·æ±‚çš„ç½‘é¡µ</li>
<li>201 - å·²åˆ›å»º è¯·æ±‚æˆåŠŸå¹¶ä¸”æœåŠ¡å™¨åˆ›å»ºäº†æ–°çš„èµ„æº</li>
<li>202 - å·²æ¥å— æœåŠ¡å™¨å·²æ¥å—è¯·æ±‚ï¼Œä½†å°šæœªå¤„ç†</li>
<li>203 - éæˆæƒä¿¡æ¯ æœåŠ¡å™¨å·²ç»æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œä½†è¿”å›çš„ä¿¡æ¯å¯èƒ½æ¥è‡ªå¦ä¸€æ¥æº</li>
<li>204 - æ— å†…å®¹ æœåŠ¡å™¨æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œä½†æ²¡æœ‰è¿”å›ä»»ä½•å†…å®¹</li>
<li>205 - é‡ç½®å†…å®¹ æœåŠ¡å™¨æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œä½†æ²¡æœ‰è¿”å›ä»»ä½•å†…å®¹</li>
</ul>
</li>
<li><p>3xxï¼ˆé‡å®šå‘ï¼‰è¡¨ç¤ºè¦å®Œæˆè¯·æ±‚ï¼Œéœ€è¦è¿›ä¸€æ­¥æ“ä½œï¼›é€šå¸¸ï¼Œè¿™äº›çŠ¶æ€ä»£ç ç”¨æ¥é‡å®šå‘</p>
<ul>
<li>300 - å¤šç§é€‰æ‹© é’ˆå¯¹è¯·æ±‚ï¼ŒæœåŠ¡å™¨å¯æ‰§è¡Œå¤šç§æ“ä½œã€‚æœåŠ¡å™¨å¯æ ¹æ®è¯·æ±‚è€…ï¼ˆuser agentï¼‰é€‰æ‹©ä¸€é¡¹æ“ä½œï¼Œæˆ–æä¾›æ“ä½œåˆ—è¡¨ä¾›è¯·æ±‚è€…é€‰æ‹©</li>
<li><code>301</code> - æ°¸ä¹…ç§»åŠ¨ è¯·æ±‚çš„ç½‘é¡µå·²æ°¸ä¹…ç§»åŠ¨åˆ°æ–°ä½ç½®ã€‚æœåŠ¡å™¨è¿”å›æ­¤å“åº”ï¼ˆå¯¹GETæˆ–HEADè¯·æ±‚çš„å“åº”ï¼‰æ—¶ï¼Œä¼šè‡ªåŠ¨å°†è¯·æ±‚è€…è½¬åˆ°æ–°ä½ç½®</li>
<li><code>302</code> - ä¸´æ—¶ç§»åŠ¨ æœåŠ¡å™¨ç›®å‰ä»ä¸åŒä½ç½®çš„ç½‘é¡µå“åº”è¯·æ±‚ï¼Œä½†è¯·æ±‚è€…åº”ç»§ç»­ä½¿ç”¨åŸæœ‰ä½ç½®æ¥è¿›è¡Œä»¥åçš„è¯·æ±‚</li>
<li>303 - æŸ¥çœ‹å…¶å®ƒä½ç½® è¯·æ±‚è€…åº”å½“å¯¹ä¸åŒçš„ä½ç½®ä½¿ç”¨å•ç‹¬çš„GETè¯·æ±‚æ¥æ£€ç´¢å“åº”æ—¶ï¼ŒæœåŠ¡å™¨è¿”å›æ­¤ä»£ç </li>
<li><code>304</code> - æœªä¿®æ”¹ è‡ªä¸Šæ¬¡è¯·æ±‚åï¼Œè¯·æ±‚çš„ç½‘é¡µæœªä¿®æ”¹è¿‡ã€‚æœåŠ¡å™¨è¿”å›æ­¤å“åº”ï¼Œä¸ä¼šè¿”å›ç½‘é¡µçš„å†…å®¹</li>
<li>305 - ä½¿ç”¨ä»£ç† è¯·æ±‚è€…åªèƒ½ä½¿ç”¨ä»£ç†è®¿é—®è¯·æ±‚çš„ç½‘é¡µã€‚å¦‚æœæœåŠ¡å™¨è¿”å›æ­¤å“åº”ï¼Œè¿˜è¡¨ç¤ºè¯·æ±‚è€…åº”ä½¿ç”¨ä»£ç†</li>
<li><code>307</code> - ä¸´æ—¶æ€§é‡å®šå‘ æœåŠ¡å™¨ç›®å‰ä»ä¸åŒä½ç½®çš„ç½‘é¡µå“åº”è¯·æ±‚ï¼Œä½†è¯·æ±‚è€…åº”ç»§ç»­ä½¿ç”¨åŸæœ‰çš„ä½ç½®æ¥è¿›è¡Œä»¥åçš„è¯·æ±‚</li>
</ul>
</li>
<li><p>4xxï¼ˆè¯·æ±‚é”™è¯¯ï¼‰è¿™äº›çŠ¶æ€ç è¡¨ç¤ºè¯·æ±‚å¯èƒ½å‡ºé”™ï¼Œå¦¨ç¢äº†æœåŠ¡å™¨çš„å¤„ç†</p>
<ul>
<li><code>400</code> - é”™è¯¯è¯·æ±‚ æœåŠ¡å™¨ä¸ç†è§£è¯·æ±‚çš„è¯­æ³•</li>
<li><code>401</code> - æœªæˆæƒ è¯·æ±‚è¦æ±‚èº«ä»½éªŒè¯ã€‚å¯¹äºéœ€è¦ç™»å½•çš„ç½‘é¡µï¼ŒæœåŠ¡å™¨å¯èƒ½è¿”å›æ­¤å“åº”</li>
<li><code>403</code> - ç¦æ­¢ æœåŠ¡å™¨æ‹’ç»è¯·æ±‚</li>
<li><code>404</code> - æœªæ‰¾åˆ° æœåŠ¡å™¨æ‰¾ä¸åˆ°è¯·æ±‚çš„ç½‘é¡µ</li>
<li>405 - æ–¹æ³•ç¦ç”¨ ç¦ç”¨è¯·æ±‚ä¸­æŒ‡å®šçš„æ–¹æ³•</li>
<li>406 - ä¸æ¥å— æ— æ³•ä½¿ç”¨è¯·æ±‚çš„å†…å®¹ç‰¹æ€§å“åº”è¯·æ±‚çš„ç½‘é¡µ</li>
<li><code>407</code> - éœ€è¦ä»£ç†æˆæƒ æ­¤çŠ¶æ€ç ä¸401ï¼ˆæœªæˆæƒï¼‰ç±»ä¼¼ï¼Œä½†æŒ‡å®šè¯·æ±‚è€…åº”å½“æˆæƒä½¿ç”¨ä»£ç†</li>
<li><code>408</code> - è¯·æ±‚è¶…æ—¶ æœåŠ¡å™¨ç­‰å€™è¯·æ±‚æ—¶å‘ç”Ÿè¶…æ—¶</li>
<li>410 - å·²åˆ é™¤ å¦‚æœè¯·æ±‚çš„èµ„æºå·²æ°¸ä¹…åˆ é™¤ï¼ŒæœåŠ¡å™¨å°±ä¼šè¿”å›æ­¤å“åº”</li>
<li><code>413</code> - è¯·æ±‚å®ä½“è¿‡å¤§ æœåŠ¡å™¨æ— æ³•å¤„ç†è¯·æ±‚ï¼Œå› ä¸ºè¯·æ±‚å®ä½“è¿‡å¤§ï¼Œè¶…å‡ºäº†æœåŠ¡å™¨çš„å¤„ç†èƒ½åŠ›</li>
<li><code>414</code> - è¯·æ±‚çš„URIè¿‡é•¿ è¯·æ±‚çš„URIï¼ˆé€šå¸¸ä¸ºç½‘å€ï¼‰è¿‡é•¿ï¼ŒæœåŠ¡å™¨æ— æ³•å¤„ç†</li>
</ul>
</li>
<li><p>5xxï¼ˆæœåŠ¡å™¨é”™è¯¯ï¼‰è¿™äº›çŠ¶æ€ç è¡¨ç¤ºæœåŠ¡å™¨åœ¨å°è¯•å¤„ç†è¯·æ±‚æ—¶å‘ç”Ÿå†…éƒ¨é”™è¯¯ã€‚è¿™äº›é”™è¯¯å¯èƒ½æ˜¯æœåŠ¡å™¨æœ¬èº«çš„é”™è¯¯ï¼Œè€Œä¸æ˜¯è¯·æ±‚å‡ºé”™</p>
<ul>
<li><code>500</code> - æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ æœåŠ¡å™¨é‡åˆ°é”™è¯¯ï¼Œæ— æ³•å®Œæˆè¯·æ±‚</li>
<li>501 - å°šæœªå®æ–½ æœåŠ¡å™¨ä¸å…·å¤‡å®Œæˆè¯·æ±‚çš„åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼ŒæœåŠ¡å™¨æ— æ³•è¯†åˆ«è¯·æ±‚æ–¹æ³•æ—¶å¯èƒ½ä¼šè¿”å›æ­¤ä»£ç </li>
<li><code>502</code> - é”™è¯¯ç½‘å…³ æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†ï¼Œä»ä¸Šæ¸¸æœåŠ¡å™¨æ— æ³•æ”¶åˆ°æ— æ•ˆå“åº”</li>
<li><code>503</code> - æœåŠ¡å™¨ä¸å¯ç”¨ æœåŠ¡å™¨ç›®å‰æ— æ³•ä½¿ç”¨ï¼ˆç”±äºè¶…è½½æˆ–è€…åœæœºç»´æŠ¤ï¼‰ã€‚é€šå¸¸ï¼Œè¿™åªæ˜¯æš‚æ—¶çŠ¶æ€</li>
<li><code>504</code> - ç½‘å…³è¶…æ—¶ æœåŠ¡å™¨ä½œä¸ºç½‘å…³ä»£ç†ï¼Œä½†æ˜¯æ²¡æœ‰åŠæ—¶ä»ä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚</li>
<li>505 - HTTPç‰ˆæœ¬ä¸å—æ”¯æŒ æœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚ä¸­æ‰€ç”¨çš„HTTPåè®®ç‰ˆæœ¬</li>
</ul>
</li>
</ul>
<h3 id="ä»‹ç»ä¸‹304è¿‡ç¨‹"><a href="#ä»‹ç»ä¸‹304è¿‡ç¨‹" class="headerlink" title="ä»‹ç»ä¸‹304è¿‡ç¨‹"></a>ä»‹ç»ä¸‹304è¿‡ç¨‹</h3><ul>
<li><p>a. æµè§ˆå™¨è¯·æ±‚èµ„æºæ—¶é¦–å…ˆå‘½ä¸­èµ„æºçš„Expires å’Œ Cache-Controlï¼ŒExpires å—é™äºæœ¬åœ°æ—¶é—´ï¼Œå¦‚æœä¿®æ”¹äº†æœ¬åœ°æ—¶é—´ï¼Œå¯èƒ½ä¼šé€ æˆç¼“å­˜å¤±æ•ˆï¼Œå¯ä»¥é€šè¿‡Cache-control: max-ageæŒ‡å®šæœ€å¤§ç”Ÿå‘½å‘¨æœŸï¼ŒçŠ¶æ€ä»ç„¶è¿”å›200ï¼Œä½†ä¸ä¼šè¯·æ±‚æ•°æ®ï¼Œåœ¨æµè§ˆå™¨ä¸­èƒ½æ˜æ˜¾çœ‹åˆ°from cacheå­—æ ·ã€‚</p>
</li>
<li><p>b. å¼ºç¼“å­˜å¤±æ•ˆï¼Œè¿›å…¥åå•†ç¼“å­˜é˜¶æ®µï¼Œé¦–å…ˆéªŒè¯ETagETagå¯ä»¥ä¿è¯æ¯ä¸€ä¸ªèµ„æºæ˜¯å”¯ä¸€çš„ï¼Œèµ„æºå˜åŒ–éƒ½ä¼šå¯¼è‡´ETagå˜åŒ–ã€‚æœåŠ¡å™¨æ ¹æ®å®¢æˆ·ç«¯ä¸Šé€çš„If-None-Matchå€¼æ¥åˆ¤æ–­æ˜¯å¦å‘½ä¸­ç¼“å­˜ã€‚</p>
</li>
<li><p>c. åå•†ç¼“å­˜Last-Modify&#x2F;If-Modify-Sinceé˜¶æ®µï¼Œå®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡è¯·æ±‚èµ„æºæ—¶ï¼ŒæœåŠ¡æœè¿”å›çš„headerä¸­ä¼šåŠ ä¸ŠLast-Modifyï¼ŒLast-modifyæ˜¯ä¸€ä¸ªæ—¶é—´æ ‡è¯†è¯¥èµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´ã€‚å†æ¬¡è¯·æ±‚è¯¥èµ„æºæ—¶ï¼Œrequestçš„è¯·æ±‚å¤´ä¸­ä¼šåŒ…å«If-Modify-Sinceï¼Œè¯¥å€¼ä¸ºç¼“å­˜ä¹‹å‰è¿”å›çš„Last-Modifyã€‚æœåŠ¡å™¨æ”¶åˆ°If-Modify-Sinceåï¼Œæ ¹æ®èµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´åˆ¤æ–­æ˜¯å¦å‘½ä¸­ç¼“å­˜ã€‚</p>
</li>
</ul>
<h3 id="æµè§ˆå™¨çš„ç¼“å­˜æœºåˆ¶-å¼ºåˆ¶ç¼“å­˜-amp-amp-åå•†ç¼“å­˜"><a href="#æµè§ˆå™¨çš„ç¼“å­˜æœºåˆ¶-å¼ºåˆ¶ç¼“å­˜-amp-amp-åå•†ç¼“å­˜" class="headerlink" title="æµè§ˆå™¨çš„ç¼“å­˜æœºåˆ¶ å¼ºåˆ¶ç¼“å­˜ &amp;&amp; åå•†ç¼“å­˜"></a>æµè§ˆå™¨çš„ç¼“å­˜æœºåˆ¶ å¼ºåˆ¶ç¼“å­˜ &amp;&amp; åå•†ç¼“å­˜</h3><p>æµè§ˆå™¨ä¸æœåŠ¡å™¨é€šä¿¡çš„æ–¹å¼ä¸ºåº”ç­”æ¨¡å¼ï¼Œå³æ˜¯ï¼šæµè§ˆå™¨å‘èµ·HTTPè¯·æ±‚ â€“ æœåŠ¡å™¨å“åº”è¯¥è¯·æ±‚ã€‚é‚£ä¹ˆæµè§ˆå™¨ç¬¬ä¸€æ¬¡å‘æœåŠ¡å™¨å‘èµ·è¯¥è¯·æ±‚åæ‹¿åˆ°è¯·æ±‚ç»“æœï¼Œä¼šæ ¹æ®å“åº”æŠ¥æ–‡ä¸­HTTPå¤´çš„ç¼“å­˜æ ‡è¯†ï¼Œå†³å®šæ˜¯å¦ç¼“å­˜ç»“æœï¼Œæ˜¯åˆ™å°†è¯·æ±‚ç»“æœå’Œç¼“å­˜æ ‡è¯†å­˜å…¥æµè§ˆå™¨ç¼“å­˜ä¸­ï¼Œç®€å•çš„è¿‡ç¨‹å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://gitee.com/xjxjxj123/xiaojun-personal-blog/raw/master/images/05b3fe9c411f4881a8b22fe37eae170b~tplv-k3u1fbpfcp-zoom-1.image" alt="å›¾ç‰‡"></p>
<p>ç”±ä¸Šå›¾æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼š</p>
<ul>
<li>æµè§ˆå™¨æ¯æ¬¡å‘èµ·è¯·æ±‚ï¼Œéƒ½ä¼š<code>å…ˆåœ¨æµè§ˆå™¨ç¼“å­˜ä¸­æŸ¥æ‰¾è¯¥è¯·æ±‚çš„ç»“æœä»¥åŠç¼“å­˜æ ‡è¯†</code></li>
<li>æµè§ˆå™¨æ¯æ¬¡æ‹¿åˆ°è¿”å›çš„è¯·æ±‚ç»“æœéƒ½ä¼š<code>å°†è¯¥ç»“æœå’Œç¼“å­˜æ ‡è¯†å­˜å…¥æµè§ˆå™¨ç¼“å­˜ä¸­</code></li>
</ul>
<p>ä»¥ä¸Šä¸¤ç‚¹ç»“è®ºå°±æ˜¯æµè§ˆå™¨ç¼“å­˜æœºåˆ¶çš„å…³é”®ï¼Œä»–ç¡®ä¿äº†æ¯ä¸ªè¯·æ±‚çš„ç¼“å­˜å­˜å…¥ä¸è¯»å–ï¼Œåªè¦æˆ‘ä»¬å†ç†è§£æµè§ˆå™¨ç¼“å­˜çš„ä½¿ç”¨è§„åˆ™ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„é—®é¢˜å°±è¿åˆƒè€Œè§£äº†ã€‚ä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œè¿™é‡Œæ ¹æ®æ˜¯å¦éœ€è¦å‘æœåŠ¡å™¨é‡æ–°å‘èµ·HTTPè¯·æ±‚å°†ç¼“å­˜è¿‡ç¨‹åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«æ˜¯<code>å¼ºåˆ¶ç¼“å­˜</code>å’Œ<code>åå•†ç¼“å­˜</code>ã€‚</p>
<ul>
<li><p><strong>å¼ºåˆ¶ç¼“å­˜</strong></p>
<p><code>å¼ºåˆ¶ç¼“å­˜å°±æ˜¯å‘æµè§ˆå™¨ç¼“å­˜æŸ¥æ‰¾è¯¥è¯·æ±‚ç»“æœï¼Œå¹¶æ ¹æ®è¯¥ç»“æœçš„ç¼“å­˜è§„åˆ™æ¥å†³å®šæ˜¯å¦ä½¿ç”¨è¯¥ç¼“å­˜ç»“æœçš„è¿‡ç¨‹ã€‚</code>å½“æµè§ˆå™¨å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨ä¼šå°†ç¼“å­˜è§„åˆ™æ”¾å…¥HTTPå“åº”æŠ¥æ–‡çš„HTTPå¤´ä¸­å’Œè¯·æ±‚ç»“æœä¸€èµ·è¿”å›ç»™æµè§ˆå™¨ï¼Œæ§åˆ¶å¼ºåˆ¶ç¼“å­˜çš„å­—æ®µåˆ†åˆ«æ˜¯ <code>Expires</code> å’Œ <code>Cache-Control</code>ï¼Œå…¶ä¸­Cache-Controlä¼˜å…ˆçº§æ¯”Expiresé«˜ã€‚</p>
<p>å¼ºåˆ¶ç¼“å­˜çš„æƒ…å†µä¸»è¦æœ‰ä¸‰ç§(æš‚ä¸åˆ†æåå•†ç¼“å­˜è¿‡ç¨‹)ï¼Œå¦‚ä¸‹ï¼š</p>
<ol>
<li>ä¸å­˜åœ¨è¯¥ç¼“å­˜ç»“æœå’Œç¼“å­˜æ ‡è¯†ï¼Œå¼ºåˆ¶ç¼“å­˜å¤±æ•ˆï¼Œåˆ™ç›´æ¥å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼ˆè·Ÿç¬¬ä¸€æ¬¡å‘èµ·è¯·æ±‚ä¸€è‡´ï¼‰ã€‚</li>
<li>å­˜åœ¨è¯¥ç¼“å­˜ç»“æœå’Œç¼“å­˜æ ‡è¯†ï¼Œä½†è¯¥ç»“æœå·²å¤±æ•ˆï¼Œå¼ºåˆ¶ç¼“å­˜å¤±æ•ˆï¼Œåˆ™ä½¿ç”¨åå•†ç¼“å­˜ã€‚</li>
<li>å­˜åœ¨è¯¥ç¼“å­˜ç»“æœå’Œç¼“å­˜æ ‡è¯†ï¼Œä¸”è¯¥ç»“æœå°šæœªå¤±æ•ˆï¼Œå¼ºåˆ¶ç¼“å­˜ç”Ÿæ•ˆï¼Œç›´æ¥è¿”å›è¯¥ç»“æœ</li>
</ol>
</li>
<li><p><strong>åå•†ç¼“å­˜</strong></p>
<p><code>åå•†ç¼“å­˜å°±æ˜¯å¼ºåˆ¶ç¼“å­˜å¤±æ•ˆåï¼Œæµè§ˆå™¨æºå¸¦ç¼“å­˜æ ‡è¯†å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œç”±æœåŠ¡å™¨æ ¹æ®ç¼“å­˜æ ‡è¯†å†³å®šæ˜¯å¦ä½¿ç”¨ç¼“å­˜çš„è¿‡ç¨‹</code>ï¼ŒåŒæ ·ï¼Œåå•†ç¼“å­˜çš„æ ‡è¯†ä¹Ÿæ˜¯åœ¨å“åº”æŠ¥æ–‡çš„HTTPå¤´ä¸­å’Œè¯·æ±‚ç»“æœä¸€èµ·è¿”å›ç»™æµè§ˆå™¨çš„ï¼Œæ§åˆ¶åå•†ç¼“å­˜çš„å­—æ®µåˆ†åˆ«æœ‰ï¼š<code>Last-Modified / If-Modified-Since</code> å’Œ <code>Etag / If-None-Match</code>ï¼Œå…¶ä¸­Etag &#x2F; If-None-Matchçš„ä¼˜å…ˆçº§æ¯”Last-Modified &#x2F; If-Modified-Sinceé«˜ã€‚åå•†ç¼“å­˜ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š</p>
<ol>
<li>åå•†ç¼“å­˜ç”Ÿæ•ˆï¼Œè¿”å›304</li>
<li>åå•†ç¼“å­˜å¤±æ•ˆï¼Œè¿”å›200å’Œè¯·æ±‚ç»“æœç»“æœ</li>
</ol>
</li>
</ul>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5e0ce991db4847b98d9f049f9ffa5c93~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>ä¼ é€é—¨ â˜ <a target="_blank" rel="noopener" href="https://juejin.cn/post/6992843117963509791" title="https://juejin.cn/post/6992843117963509791"># å½»åº•ç†è§£æµè§ˆå™¨çš„ç¼“å­˜æœºåˆ¶</a></p>
<h3 id="HTTP-è¯·æ±‚è·¨åŸŸé—®é¢˜-1"><a href="#HTTP-è¯·æ±‚è·¨åŸŸé—®é¢˜-1" class="headerlink" title="HTTP è¯·æ±‚è·¨åŸŸé—®é¢˜"></a>HTTP è¯·æ±‚è·¨åŸŸé—®é¢˜</h3><ol>
<li><p>è·¨åŸŸçš„åŸç†</p>
<p><strong>è·¨åŸŸ</strong>ï¼Œæ˜¯æŒ‡æµè§ˆå™¨ä¸èƒ½æ‰§è¡Œå…¶ä»–ç½‘ç«™çš„è„šæœ¬ã€‚å®ƒæ˜¯ç”±æµè§ˆå™¨çš„<code>åŒæºç­–ç•¥</code>é€ æˆçš„ã€‚è·¨åŸŸè®¿é—®æ˜¯è¢«å„å¤§æµè§ˆå™¨æ‰€é»˜è®¤ç¦æ­¢çš„ã€‚<br><strong>åŒæºç­–ç•¥</strong>,æ˜¯æµè§ˆå™¨å¯¹ JavaScript å®æ–½çš„å®‰å…¨é™åˆ¶ï¼Œåªè¦<code>åè®®ã€åŸŸåã€ç«¯å£</code>æœ‰ä»»ä½•ä¸€ä¸ªä¸åŒï¼Œéƒ½è¢«å½“ä½œæ˜¯ä¸åŒçš„åŸŸã€‚<br><strong>è·¨åŸŸåŸç†</strong>ï¼Œå³æ˜¯é€šè¿‡å„ç§æ–¹å¼ï¼Œ<code>é¿å¼€æµè§ˆå™¨çš„å®‰å…¨é™åˆ¶</code>ã€‚</p>
</li>
<li><p>è§£å†³æ–¹æ¡ˆ</p>
<p>æœ€åˆåšé¡¹ç›®çš„æ—¶å€™ï¼Œä½¿ç”¨çš„æ˜¯jsonpï¼Œä½†å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œä½¿ç”¨getè¯·æ±‚ä¸å®‰å…¨ï¼Œæºå¸¦æ•°æ®è¾ƒå°ï¼Œåæ¥ä¹Ÿç”¨è¿‡iframeï¼Œä½†åªæœ‰ä¸»åŸŸç›¸åŒæ‰è¡Œï¼Œä¹Ÿæ˜¯å­˜åœ¨äº›é—®é¢˜ï¼Œåæ¥é€šè¿‡äº†è§£å’Œå­¦ä¹ å‘ç°ä½¿ç”¨ä»£ç†å’Œproxyä»£ç†é…åˆèµ·æ¥ä½¿ç”¨æ¯”è¾ƒæ–¹ä¾¿ï¼Œå°±å¼•å¯¼åå°æŒ‰è¿™ç§æ–¹å¼åšä¸‹æœåŠ¡å™¨é…ç½®ï¼Œåœ¨å¼€å‘ä¸­ä½¿ç”¨proxyï¼Œåœ¨æœåŠ¡å™¨ä¸Šä½¿ç”¨nginxä»£ç†ï¼Œè¿™æ ·å¼€å‘è¿‡ç¨‹ä¸­å½¼æ­¤éƒ½æ–¹ä¾¿ï¼Œæ•ˆç‡ä¹Ÿé«˜ï¼›ç°åœ¨h5æ–°ç‰¹æ€§è¿˜æœ‰ windows.postMessage()</p>
<ul>
<li><p><strong>JSONP</strong>ï¼š<br>ajax è¯·æ±‚å—åŒæºç­–ç•¥å½±å“ï¼Œä¸å…è®¸è¿›è¡Œè·¨åŸŸè¯·æ±‚ï¼Œè€Œ script æ ‡ç­¾ src å±æ€§ä¸­çš„é“¾ æ¥å´å¯ä»¥è®¿é—®è·¨åŸŸçš„ js è„šæœ¬ï¼Œåˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼ŒæœåŠ¡ç«¯ä¸å†è¿”å› JSON æ ¼å¼çš„æ•°æ®ï¼Œè€Œæ˜¯ è¿”å›ä¸€æ®µè°ƒç”¨æŸä¸ªå‡½æ•°çš„ js ä»£ç ï¼Œåœ¨ src ä¸­è¿›è¡Œäº†è°ƒç”¨ï¼Œè¿™æ ·å®ç°äº†è·¨åŸŸã€‚</p>
<p>æ­¥éª¤ï¼š</p>
<ol>
<li>å»åˆ›å»ºä¸€ä¸ªscriptæ ‡ç­¾</li>
<li>scriptçš„srcå±æ€§è®¾ç½®æ¥å£åœ°å€</li>
<li>æ¥å£å‚æ•°ï¼Œå¿…é¡»è¦å¸¦ä¸€ä¸ªè‡ªå®šä¹‰å‡½æ•°åï¼Œè¦ä¸ç„¶åå°æ— æ³•è¿”å›æ•°æ®</li>
<li>é€šè¿‡å®šä¹‰å‡½æ•°åå»æ¥å—è¿”å›çš„æ•°æ®</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åŠ¨æ€åˆ›å»º script</span></span><br><span class="line"><span class="keyword">var</span> script = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;script&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®å›è°ƒå‡½æ•°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getData</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è®¾ç½® script çš„ src å±æ€§ï¼Œå¹¶è®¾ç½®è¯·æ±‚åœ°å€</span></span><br><span class="line">script.<span class="property">src</span> = <span class="string">&#x27;http://localhost:3000/?callback=getData&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®© script ç”Ÿæ•ˆ</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(script);</span><br></pre></td></tr></table></figure>

<p><strong>JSONP çš„ç¼ºç‚¹</strong>:<br>JSON åªæ”¯æŒ getï¼Œå› ä¸º script æ ‡ç­¾åªèƒ½ä½¿ç”¨ get è¯·æ±‚ï¼› JSONP éœ€è¦åç«¯é…åˆè¿”å›æŒ‡å®šæ ¼å¼çš„æ•°æ®ã€‚</p>
</li>
<li><p><strong>document.domain</strong> åŸºç¡€åŸŸåç›¸åŒ å­åŸŸåä¸åŒ</p>
</li>
<li><p><strong>window.name</strong> åˆ©ç”¨åœ¨ä¸€ä¸ªæµè§ˆå™¨çª—å£å†…ï¼Œè½½å…¥æ‰€æœ‰çš„åŸŸåéƒ½æ˜¯å…±äº«ä¸€ä¸ªwindow.name</p>
</li>
<li><p><strong>CORS</strong><br>CORS(Cross-origin resource sharing)è·¨åŸŸèµ„æºå…±äº« æ˜¯ä¸€ç§æœºåˆ¶ï¼Œæ˜¯ç›®å‰ä¸»æµçš„è·¨åŸŸè§£å†³æ–¹æ¡ˆï¼Œå®ƒä½¿ç”¨é¢å¤–çš„ HTTP å¤´æ¥å‘Šè¯‰æµè§ˆå™¨ è®©è¿è¡Œåœ¨ä¸€ä¸ª origin (domain) ä¸Šçš„Webåº”ç”¨è¢«å‡†è®¸è®¿é—®æ¥è‡ªä¸åŒæºæœåŠ¡å™¨ä¸Šçš„æŒ‡å®šçš„èµ„æºã€‚æœåŠ¡å™¨è®¾ç½®å¯¹CORSçš„æ”¯æŒåŸç†ï¼šæœåŠ¡å™¨è®¾ç½®Access-Control-Allow-Origin HTTPå“åº”å¤´ä¹‹åï¼Œæµè§ˆå™¨å°†ä¼šå…è®¸è·¨åŸŸè¯·æ±‚</p>
<p>1.æµè§ˆå™¨ç«¯ä¼šè‡ªåŠ¨å‘è¯·æ±‚å¤´æ·»åŠ originå­—æ®µï¼Œè¡¨æ˜å½“å‰è¯·æ±‚æ¥æºã€‚<br>2.æœåŠ¡å™¨è®¾ç½®Access-Control-Allow-Originã€Access-Control-Allow-Methodsã€Access-Control-Allow-Headersç­‰ HTTPå“åº”å¤´å­—æ®µä¹‹åï¼Œæµè§ˆå™¨å°†ä¼šå…è®¸è·¨åŸŸè¯·æ±‚ã€‚</p>
<p><strong>é¢„æ£€</strong></p>
<p>ä½†æ˜¯è¿˜æœ‰å¤æ‚ä¸€ç‚¹çš„è¯·æ±‚ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå‘OPTIONSè¯·æ±‚ï¼Œa.comæƒ³è¯·æ±‚b.comå®ƒéœ€è¦å‘ä¸€ä¸ªè‡ªå®šä¹‰çš„Headersï¼šX-ABCå’Œcontent-typeï¼Œè¿™ä¸ªæ—¶å€™å°±ä¸æ˜¯ç®€å•è¯·æ±‚äº†ï¼Œ a.comè¦ç»™b.com å‘ä¸€ä¸ªoptionsè¯·æ±‚ï¼Œå®ƒå…¶å®åœ¨é—®b.comæˆ‘ç”¨postè¡Œä¸è¡Œï¼Œè¿˜æƒ³åœ¨Headersä¸­å¸¦X-ABCå’Œcontent-typeï¼›å¹¶ä¸æ˜¯æ‰€æœ‰çš„headerséƒ½å‘è¿™ä¸ªOPTIONSè¯·æ±‚ï¼Œå› ä¸ºX-ABCæ˜¯è‡ªå®šä¹‰çš„ï¼Œæ‰€ä»¥éœ€è¦å‘ï¼›b.comçœ‹åˆ°OPTIONSè¯·æ±‚ï¼Œå…ˆä¸ä¼šè¿”å›æ•°æ®ï¼Œå…ˆæ£€æŸ¥è‡ªå·±çš„ç­–ç•¥ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½æ”¯æŒè¿™æ¬¡è¯·æ±‚ï¼Œå¦‚æœæ”¯æŒå°±è¿”å›200ã€‚</p>
<p>OPTIONSè¯·æ±‚è¿”å›ä»¥ä¸‹æŠ¥æ–‡</p>
<p>HTTP&#x2F;2.0 20 OK<br>Access-Control-Allow-Origin:<a target="_blank" rel="noopener" href="https://a.com/">https://a.com</a><br>Access-Control-Allow-Methods:POST,GET,OPTIONS<br>Access-Control-Allow-Headers:X-ABC,Content-Type<br>Access-Control-Max-Age:86400 &#x2F;&#x2F; å‘Šè¯‰æµè§ˆå™¨è¿™ä¸ªç­–ç•¥ç”Ÿæ•ˆæ—¶é—´ä¸ºä¸€ä¸ªå°æ—¶ï¼Œåœ¨ä¸€ä¸ªå°æ—¶ä¹‹å†…å‘é€ç±»ä¼¼çš„è¯·æ±‚ï¼Œä¸ç”¨åœ¨é—®æœåŠ¡ç«¯äº†ï¼Œç›¸å½“äºç¼“å­˜äº†<br>æµè§ˆå™¨æ”¶åˆ°äº†OPTIONSçš„è¿”å›ï¼Œä¼šåœ¨å‘ä¸€æ¬¡ï¼Œè¿™ä¸€æ¬¡æ‰æ˜¯çœŸæ­£çš„è¯·æ±‚æ•°æ®ï¼Œè¿™æ¬¡headersä¼šå¸¦ä¸ŠX-ABCã€contentTypeã€‚</p>
<p>æ•´ä½“çš„è¿‡ç¨‹corså°†è¯·æ±‚åˆ†ä¸º2ç§ï¼Œç®€å•è¯·æ±‚å’Œå¤æ‚è¯·æ±‚ï¼Œéœ€ä¸éœ€è¦å‘é€OPTIONSæµè§ˆå™¨è¯´çš„ç®—ï¼Œæµè§ˆå™¨åˆ¤æ–­æ˜¯ç®€å•è¯·æ±‚è¿˜æ˜¯å¤æ‚è¯·æ±‚ï¼Œcorsæ˜¯éå¸¸å¹¿æ³›çš„è·¨åŸŸæ‰‹æ®µ è¿™é‡Œçš„ç¼ºç‚¹æ˜¯OPTIONSè¯·æ±‚ä¹Ÿæ˜¯ä¸€æ¬¡è¯·æ±‚ï¼Œæ¶ˆè€—å¸¦å®½ï¼ŒçœŸæ­£çš„è¯·æ±‚ä¹Ÿä¼šå»¶è¿Ÿã€‚</p>
</li>
<li><p>æœ€æ–¹ä¾¿çš„è·¨åŸŸæ–¹æ¡ˆ <strong>proxyä»£ç†+ Nginx</strong><br>  nginxæ˜¯ä¸€æ¬¾æå…¶å¼ºå¤§çš„webæœåŠ¡å™¨ï¼Œå…¶ä¼˜ç‚¹å°±æ˜¯è½»é‡çº§ã€å¯åŠ¨å¿«ã€é«˜å¹¶å‘ã€‚</p>
<p>  è·¨åŸŸé—®é¢˜çš„äº§ç”Ÿæ˜¯å› ä¸ºæµè§ˆå™¨çš„åŒæºæ”¿ç­–é€ æˆçš„ï¼Œä½†æ˜¯æœåŠ¡å™¨ä¸æœåŠ¡å™¨ä¹‹é—´çš„æ•°æ®äº¤æ¢æ˜¯æ²¡æœ‰è¿™ä¸ªé™åˆ¶ã€‚</p>
<p>  åå‘ä»£ç†å°±æ˜¯é‡‡ç”¨è¿™ç§æ–¹å¼ï¼Œå»ºç«‹ä¸€ä¸ªè™šæ‹Ÿçš„ä»£ç†æœåŠ¡å™¨æ¥æ¥æ”¶ internet ä¸Šçš„é“¾æ¥è¯·æ±‚ï¼Œç„¶åè½¬å‘ç»™å†…éƒ¨ç½‘ç»œä¸Šçš„æœåŠ¡å™¨ï¼Œå¹¶å°†ä»æœåŠ¡å™¨ä¸Šå¾—åˆ°çš„ç»“æœï¼Œè¿”å›ç»™ internet ä¸Šè¯·æ±‚é“¾æ¥çš„å®¢æˆ·ç«¯ã€‚ç°åœ¨çš„æ–°é¡¹ç›®ä¸­nginxå‡ ä¹æ˜¯é¦–é€‰ï¼Œæˆ‘ä»¬ç”¨nodeæˆ–è€…javaå¼€å‘çš„æœåŠ¡é€šå¸¸éƒ½éœ€è¦ç»è¿‡nginxçš„åå‘ä»£ç†ã€‚</p>
</li>
<li><p><strong>window.postMessage()</strong> åˆ©ç”¨h5æ–°ç‰¹æ€§window.postMessage()</p>
</li>
</ul>
</li>
</ol>
<p>è·¨åŸŸä¼ é€é—¨ â˜ <a target="_blank" rel="noopener" href="https://juejin.cn/post/7003232769182547998"># è·¨åŸŸï¼Œä¸å¯ä¸çŸ¥çš„åŸºç¡€æ¦‚å¿µ</a></p>
<h3 id="ç²˜åŒ…é—®é¢˜åˆ†æä¸å¯¹ç­–"><a href="#ç²˜åŒ…é—®é¢˜åˆ†æä¸å¯¹ç­–" class="headerlink" title="ç²˜åŒ…é—®é¢˜åˆ†æä¸å¯¹ç­–"></a>ç²˜åŒ…é—®é¢˜åˆ†æä¸å¯¹ç­–</h3><p>TCPç²˜åŒ…æ˜¯æŒ‡å‘é€æ–¹å‘é€çš„è‹¥å¹²åŒ…æ•°æ®åˆ°æ¥æ”¶æ–¹æ¥æ”¶æ—¶ç²˜æˆä¸€åŒ…ï¼Œä»æ¥æ”¶ç¼“å†²åŒºçœ‹ï¼Œåä¸€åŒ…æ•°æ®çš„å¤´ç´§æ¥ç€å‰ä¸€åŒ…æ•°æ®çš„å°¾ã€‚</p>
<p><strong>ç²˜åŒ…å‡ºç°åŸå› </strong></p>
<p>ç®€å•å¾—è¯´ï¼Œåœ¨æµä¼ è¾“ä¸­å‡ºç°ï¼ŒUDPä¸ä¼šå‡ºç°ç²˜åŒ…ï¼Œå› ä¸ºå®ƒæœ‰<strong>æ¶ˆæ¯è¾¹ç•Œ</strong></p>
<p>ç²˜åŒ…æƒ…å†µæœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯<code>ç²˜åœ¨ä¸€èµ·çš„åŒ…éƒ½æ˜¯å®Œæ•´çš„æ•°æ®åŒ…</code>ï¼Œå¦ä¸€ç§æƒ…å†µæ˜¯<code>ç²˜åœ¨ä¸€èµ·çš„åŒ…æœ‰ä¸å®Œæ•´çš„åŒ…</code>ã€‚</p>
<p>ä¸ºäº†<strong>é¿å…ç²˜åŒ…</strong>ç°è±¡ï¼Œå¯é‡‡å–ä»¥ä¸‹å‡ ç§æªæ–½ï¼š</p>
<p>ï¼ˆ1ï¼‰å¯¹äºå‘é€æ–¹å¼•èµ·çš„ç²˜åŒ…ç°è±¡ï¼Œç”¨æˆ·å¯é€šè¿‡ç¼–ç¨‹è®¾ç½®æ¥é¿å…ï¼Œ<code>TCPæä¾›äº†å¼ºåˆ¶æ•°æ®ç«‹å³ä¼ é€çš„æ“ä½œæŒ‡ä»¤push</code>ï¼ŒTCPè½¯ä»¶æ”¶åˆ°è¯¥æ“ä½œæŒ‡ä»¤åï¼Œå°±ç«‹å³å°†æœ¬æ®µæ•°æ®å‘é€å‡ºå»ï¼Œè€Œä¸å¿…ç­‰å¾…å‘é€ç¼“å†²åŒºæ»¡ï¼›</p>
<p>ï¼ˆ2ï¼‰å¯¹äºæ¥æ”¶æ–¹å¼•èµ·çš„ç²˜åŒ…ï¼Œåˆ™å¯é€šè¿‡ä¼˜åŒ–ç¨‹åºè®¾è®¡ã€ç²¾ç®€æ¥æ”¶è¿›ç¨‹å·¥ä½œé‡ã€<code>æé«˜æ¥æ”¶è¿›ç¨‹ä¼˜å…ˆçº§ç­‰æªæ–½</code>ï¼Œä½¿å…¶åŠæ—¶æ¥æ”¶æ•°æ®ï¼Œä»è€Œå°½é‡é¿å…å‡ºç°ç²˜åŒ…ç°è±¡ï¼›</p>
<p>ï¼ˆ3ï¼‰ç”±æ¥æ”¶æ–¹æ§åˆ¶ï¼Œå°†ä¸€åŒ…æ•°æ®æŒ‰ç»“æ„å­—æ®µï¼Œäººä¸ºæ§åˆ¶åˆ†å¤šæ¬¡æ¥æ”¶ï¼Œç„¶ååˆå¹¶ï¼Œé€šè¿‡è¿™ç§æ‰‹æ®µæ¥é¿å…ç²˜åŒ…ã€‚<code>åˆ†åŒ…å¤šå‘</code>ã€‚</p>
<p>ä»¥ä¸Šæåˆ°çš„ä¸‰ç§æªæ–½ï¼Œéƒ½æœ‰å…¶ä¸è¶³ä¹‹å¤„ã€‚</p>
<p>ï¼ˆ1ï¼‰ç¬¬ä¸€ç§ç¼–ç¨‹è®¾ç½®æ–¹æ³•è™½ç„¶å¯ä»¥é¿å…å‘é€æ–¹å¼•èµ·çš„ç²˜åŒ…ï¼Œä½†å®ƒå…³é—­äº†ä¼˜åŒ–ç®—æ³•ï¼Œé™ä½äº†ç½‘ç»œå‘é€æ•ˆç‡ï¼Œå½±å“åº”ç”¨ç¨‹åºçš„æ€§èƒ½ï¼Œä¸€èˆ¬ä¸å»ºè®®ä½¿ç”¨ã€‚</p>
<p>ï¼ˆ2ï¼‰ç¬¬äºŒç§æ–¹æ³•åªèƒ½å‡å°‘å‡ºç°ç²˜åŒ…çš„å¯èƒ½æ€§ï¼Œä½†å¹¶ä¸èƒ½å®Œå…¨é¿å…ç²˜åŒ…ï¼Œå½“å‘é€é¢‘ç‡è¾ƒé«˜æ—¶ï¼Œæˆ–ç”±äºç½‘ç»œçªå‘å¯èƒ½ä½¿æŸä¸ªæ—¶é—´æ®µæ•°æ®åŒ…åˆ°è¾¾æ¥æ”¶æ–¹è¾ƒå¿«ï¼Œæ¥æ”¶æ–¹è¿˜æ˜¯æœ‰å¯èƒ½æ¥ä¸åŠæ¥æ”¶ï¼Œä»è€Œå¯¼è‡´ç²˜åŒ…ã€‚</p>
<p>ï¼ˆ3ï¼‰ç¬¬ä¸‰ç§æ–¹æ³•è™½ç„¶é¿å…äº†ç²˜åŒ…ï¼Œä½†åº”ç”¨ç¨‹åºçš„æ•ˆç‡è¾ƒä½ï¼Œå¯¹å®æ—¶åº”ç”¨çš„åœºåˆä¸é€‚åˆã€‚</p>
<blockquote>
<p>ä¸€ç§æ¯”è¾ƒå‘¨å…¨çš„å¯¹ç­–æ˜¯ï¼šæ¥æ”¶æ–¹åˆ›å»ºä¸€é¢„å¤„ç†çº¿ç¨‹ï¼Œå¯¹æ¥æ”¶åˆ°çš„æ•°æ®åŒ…è¿›è¡Œé¢„å¤„ç†ï¼Œå°†ç²˜è¿çš„åŒ…åˆ†å¼€ã€‚å®éªŒè¯æ˜è¿™ç§æ–¹æ³•æ˜¯é«˜æ•ˆå¯è¡Œçš„ã€‚</p>
</blockquote>
<h3 id="å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯é•¿è¿æ¥çš„å‡ ç§æ–¹å¼"><a href="#å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯é•¿è¿æ¥çš„å‡ ç§æ–¹å¼" class="headerlink" title="å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯é•¿è¿æ¥çš„å‡ ç§æ–¹å¼"></a>å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯é•¿è¿æ¥çš„å‡ ç§æ–¹å¼</h3><ol>
<li><p><strong>ajax è½®è¯¢</strong><br> <strong>å®ç°åŸç†</strong>ï¼šajax è½®è¯¢æŒ‡å®¢æˆ·ç«¯æ¯é—´éš”ä¸€æ®µæ—¶é—´å‘æœåŠ¡ç«¯å‘èµ·è¯·æ±‚ï¼Œä¿æŒæ•°æ®çš„åŒæ­¥ã€‚</p>
<p> <strong>ä¼˜ç‚¹</strong>ï¼šå¯å®ç°åŸºç¡€ï¼ˆæŒ‡é—´éš”æ—¶é—´è¾ƒçŸ­ï¼‰çš„æ•°æ®æ›´æ–°ã€‚</p>
<p> <strong>ç¼ºç‚¹</strong>ï¼šè¿™ç§æ–¹æ³•ä¹Ÿåªæ˜¯å°½é‡çš„æ¨¡æ‹Ÿå³æ—¶ä¼ è¾“ï¼Œä½†å¹¶éçœŸæ­£æ„ä¹‰ä¸Šçš„å³æ—¶é€šè®¯ï¼Œå¾ˆæœ‰å¯èƒ½å‡ºç°å®¢æˆ·ç«¯è¯·æ±‚æ—¶ï¼ŒæœåŠ¡ç«¯æ•°æ®å¹¶æœªæ›´æ–°ã€‚æˆ–è€…æœåŠ¡ç«¯æ•°æ®å·²æ›´æ–°ï¼Œä½†å®¢æˆ·ç«¯æœªå‘èµ·è¯·æ±‚ã€‚å¯¼è‡´å¤šæ¬¡è¯·æ±‚èµ„æºæµªè´¹ï¼Œæ•ˆç‡ä½ä¸‹ã€‚ã€<code>æ•°æ®æ›´æ–°ä¸åŠæ—¶ï¼Œæ•ˆç‡ä½ä¸‹</code>ã€‘</p>
</li>
<li><p><strong>long poll é•¿è½®è¯¢</strong></p>
<p> <strong>å®ç°åŸç†</strong>ï¼š<br> long poll æŒ‡çš„æ˜¯å®¢æˆ·ç«¯å‘é€è¯·æ±‚ä¹‹åï¼Œå¦‚æœæ²¡æœ‰æ•°æ®è¿”å›ï¼ŒæœåŠ¡ç«¯ä¼šå°†è¯·æ±‚æŒ‚èµ·æ”¾å…¥é˜Ÿåˆ—ï¼ˆä¸æ–­å¼€è¿æ¥ï¼‰å¤„ç†å…¶ä»–è¯·æ±‚ï¼Œç›´åˆ°æœ‰æ•°æ®è¿”å›ç»™å®¢æˆ·ç«¯ã€‚ç„¶åå®¢æˆ·ç«¯å†æ¬¡å‘èµ·è¯·æ±‚ï¼Œä»¥æ­¤è½®è¯¢ã€‚åœ¨ HTTP1.0 ä¸­å®¢æˆ·ç«¯å¯ä»¥è®¾ç½®è¯·æ±‚å¤´ Connection:keep-aliveï¼ŒæœåŠ¡ç«¯æ”¶åˆ°è¯¥è¯·æ±‚å¤´ä¹‹åçŸ¥é“è¿™æ˜¯ä¸€ä¸ªé•¿è¿æ¥ï¼Œåœ¨å“åº”æŠ¥æ–‡å¤´ä¸­ä¹Ÿæ·»åŠ  Connection:keep-aliveã€‚å®¢æˆ·ç«¯æ”¶åˆ°ä¹‹åè¡¨ç¤ºé•¿è¿æ¥å»ºç«‹å®Œæˆï¼Œå¯ä»¥ç»§ç»­å‘é€å…¶ä»–çš„è¯·æ±‚ã€‚åœ¨ HTTP1.1 ä¸­é»˜è®¤ä½¿ç”¨äº† Connection:keep-alive é•¿è¿æ¥ã€‚</p>
<p> <strong>ä¼˜ç‚¹</strong>ï¼šå‡å°‘å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œé™ä½æ— æ•ˆçš„ç½‘ç»œä¼ è¾“ï¼Œä¿è¯æ¯æ¬¡è¯·æ±‚éƒ½æœ‰æ•°æ®è¿”å›ï¼Œä¸ä¼šä¸€ç›´å ç”¨çº¿ç¨‹ã€‚</p>
<p> <strong>ç¼ºç‚¹</strong>ï¼šæ— æ³•å¤„ç†é«˜å¹¶å‘ï¼Œå½“å®¢æˆ·ç«¯è¯·æ±‚é‡å¤§ï¼Œè¯·æ±‚é¢‘ç¹æ—¶å¯¹æœåŠ¡å™¨çš„å¤„ç†èƒ½åŠ›è¦æ±‚è¾ƒé«˜ã€‚æœåŠ¡å™¨ä¸€ç›´ä¿æŒè¿æ¥ä¼šæ¶ˆè€—èµ„æºï¼Œéœ€è¦åŒæ—¶ç»´æŠ¤å¤šä¸ªçº¿ç¨‹ï¼ŒæœåŠ¡å™¨æ‰€èƒ½æ‰¿è½½çš„ TCP è¿æ¥æ•°æ˜¯æœ‰ä¸Šé™çš„ï¼Œè¿™ç§è½®è¯¢å¾ˆå®¹æ˜“æŠŠè¿æ¥æ•°é¡¶æ»¡ã€‚æ¯æ¬¡é€šè®¯éƒ½éœ€è¦å®¢æˆ·ç«¯å‘èµ·ï¼ŒæœåŠ¡ç«¯ä¸èƒ½ä¸»åŠ¨æ¨é€ã€‚ã€<code>æ— æ³•å¤„ç†é«˜å¹¶å‘ï¼Œæ¶ˆè€—æœåŠ¡å™¨èµ„æºä¸¥é‡ï¼ŒæœåŠ¡ç«¯ä¸èƒ½ä¸»åŠ¨æ¨é€</code>ã€‘</p>
</li>
<li><p><strong>iframe é•¿è¿æ¥</strong></p>
<p> <strong>å®ç°åŸç†ï¼š</strong><br> åœ¨ç½‘é¡µä¸ŠåµŒå…¥ä¸€ä¸ª iframe æ ‡ç­¾ï¼Œè¯¥æ ‡ç­¾çš„ src å±æ€§æŒ‡å‘ä¸€ä¸ªé•¿è¿æ¥è¯·æ±‚ã€‚è¿™æ ·æœåŠ¡ç«¯å°±å¯ä»¥æºæºä¸æ–­åœ°ç»™å®¢æˆ·ç«¯ä¼ è¾“ä¿¡æ¯ã€‚ä¿éšœä¿¡æ¯å®æ—¶æ›´æ–°ã€‚</p>
<p> <strong>ä¼˜ç‚¹</strong>ï¼šæ¶ˆæ¯åŠæ—¶ä¼ è¾“ã€‚</p>
<p> <strong>ç¼ºç‚¹</strong>ï¼š<code>æ¶ˆè€—æœåŠ¡å™¨èµ„æº</code>ã€‚</p>
</li>
<li><p><strong>WebSocket</strong></p>
<p> <strong>å®ç°åŸç†</strong>ï¼š<br> Websocket å®ç°äº†å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯çš„åŒå‘é€šä¿¡ï¼Œåªéœ€è¦è¿æ¥ä¸€æ¬¡ï¼Œå°±å¯ä»¥ç›¸äº’ä¼ è¾“æ•°æ®ï¼Œå¾ˆé€‚åˆå®æ—¶é€šè®¯ã€æ•°æ®å®æ—¶æ›´æ–°ç­‰åœºæ™¯ã€‚</p>
<p> Websocket åè®®ä¸ HTTP åè®®æ²¡æœ‰å…³ç³»ï¼Œå®ƒæ˜¯ä¸€ä¸ªå»ºç«‹åœ¨ TCP åè®®ä¸Šçš„å…¨æ–°åè®®ï¼Œä¸ºäº†å…¼å®¹ HTTP æ¡æ‰‹è§„èŒƒï¼Œåœ¨æ¡æ‰‹é˜¶æ®µä¾ç„¶ä½¿ç”¨ HTTP åè®®ï¼Œæ¡æ‰‹å®Œæˆä¹‹åï¼Œæ•°æ®é€šè¿‡ TCP é€šé“è¿›è¡Œä¼ è¾“ã€‚</p>
<p> Websoket æ•°æ®ä¼ è¾“æ˜¯é€šè¿‡ frame å½¢å¼ï¼Œä¸€ä¸ªæ¶ˆæ¯å¯ä»¥åˆ†æˆå‡ ä¸ªç‰‡æ®µä¼ è¾“ã€‚è¿™æ ·å¤§æ•°æ®å¯ä»¥åˆ†æˆä¸€äº›å°ç‰‡æ®µè¿›è¡Œä¼ è¾“ï¼Œä¸ç”¨è€ƒè™‘ç”±äºæ•°æ®é‡å¤§å¯¼è‡´æ ‡å¿—ä½ä¸å¤Ÿçš„æƒ…å†µã€‚ä¹Ÿå¯ä»¥è¾¹ç”Ÿæˆæ•°æ®è¾¹ä¼ é€’æ¶ˆæ¯ï¼Œæé«˜ä¼ è¾“æ•ˆç‡ã€‚</p>
<p> <strong>ä¼˜ç‚¹</strong>ï¼š<br> åŒå‘é€šä¿¡ã€‚å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯åŒæ–¹éƒ½å¯ä»¥ä¸»åŠ¨å‘èµ·é€šè®¯ã€‚<br> æ²¡æœ‰åŒæºé™åˆ¶ã€‚å®¢æˆ·ç«¯å¯ä»¥ä¸ä»»æ„æœåŠ¡ç«¯é€šä¿¡ï¼Œä¸å­˜åœ¨è·¨åŸŸé—®é¢˜ã€‚<br> æ•°æ®é‡è½»ã€‚ç¬¬ä¸€æ¬¡è¿æ¥æ—¶éœ€è¦æºå¸¦è¯·æ±‚å¤´ï¼Œåé¢æ•°æ®é€šä¿¡éƒ½ä¸éœ€è¦å¸¦è¯·æ±‚å¤´ï¼Œå‡å°‘äº†è¯·æ±‚å¤´çš„è´Ÿè·ã€‚<br> ä¼ è¾“æ•ˆç‡é«˜ã€‚å› ä¸ºåªéœ€è¦ä¸€æ¬¡è¿æ¥ï¼Œæ‰€ä»¥æ•°æ®ä¼ è¾“æ•ˆç‡é«˜ã€‚</p>
<p> <strong>ç¼ºç‚¹</strong>ï¼š<br> é•¿è¿æ¥éœ€è¦åç«¯å¤„ç†ä¸šåŠ¡çš„ä»£ç æ›´ç¨³å®šï¼Œæ¨é€æ¶ˆæ¯ç›¸å¯¹å¤æ‚ï¼›<br> é•¿è¿æ¥å—ç½‘ç»œé™åˆ¶æ¯”è¾ƒå¤§ï¼Œéœ€è¦å¤„ç†å¥½é‡è¿ã€‚<br> å…¼å®¹æ€§ï¼ŒWebSocket åªæ”¯æŒ IE10 åŠå…¶ä»¥ä¸Šç‰ˆæœ¬ã€‚<br> æœåŠ¡å™¨é•¿æœŸç»´æŠ¤é•¿è¿æ¥éœ€è¦ä¸€å®šçš„æˆæœ¬ï¼Œå„ä¸ªæµè§ˆå™¨æ”¯æŒç¨‹åº¦ä¸ä¸€ï¼›<br> æˆç†Ÿçš„ HTTP ç”Ÿæ€ä¸‹æœ‰å¤§é‡çš„ç»„ä»¶å¯ä»¥å¤ç”¨ï¼ŒWebSocket åˆ™æ²¡æœ‰ï¼Œé‡åˆ°å¼‚å¸¸é—®é¢˜éš¾ä»¥å¿«é€Ÿå®šä½å¿«é€Ÿè§£å†³ã€‚ã€éœ€è¦åç«¯ä»£ç ç¨³å®šï¼Œå—ç½‘ç»œé™åˆ¶å¤§ï¼Œå…¼å®¹æ€§å·®ï¼Œç»´æŠ¤æˆæœ¬é«˜ï¼Œç”Ÿæ€åœˆå°ã€‘</p>
</li>
</ol>
<h3 id="åˆ©ç”¨Socketå»ºç«‹ç½‘ç»œè¿æ¥çš„æ­¥éª¤"><a href="#åˆ©ç”¨Socketå»ºç«‹ç½‘ç»œè¿æ¥çš„æ­¥éª¤" class="headerlink" title="åˆ©ç”¨Socketå»ºç«‹ç½‘ç»œè¿æ¥çš„æ­¥éª¤"></a>åˆ©ç”¨Socketå»ºç«‹ç½‘ç»œè¿æ¥çš„æ­¥éª¤</h3><p>å»ºç«‹Socketè¿æ¥è‡³å°‘éœ€è¦ä¸€å¯¹å¥—æ¥å­—ï¼Œå…¶ä¸­ä¸€ä¸ªè¿è¡Œäºå®¢æˆ·ç«¯ï¼Œç§°ä¸ºClientSocket ï¼Œå¦ä¸€ä¸ªè¿è¡ŒäºæœåŠ¡å™¨ç«¯ï¼Œç§°ä¸ºServerSocket ã€‚</p>
<p>å¥—æ¥å­—ä¹‹é—´çš„è¿æ¥è¿‡ç¨‹åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼šæœåŠ¡å™¨ç›‘å¬ï¼Œå®¢æˆ·ç«¯è¯·æ±‚ï¼Œè¿æ¥ç¡®è®¤ã€‚</p>
<p>ã€€ã€€1ã€æœåŠ¡å™¨ç›‘å¬ï¼šæœåŠ¡å™¨ç«¯å¥—æ¥å­—å¹¶ä¸å®šä½å…·ä½“çš„å®¢æˆ·ç«¯å¥—æ¥å­—ï¼Œè€Œæ˜¯å¤„äºç­‰å¾…è¿æ¥çš„çŠ¶æ€ï¼Œå®æ—¶ç›‘æ§ç½‘ç»œçŠ¶æ€ï¼Œç­‰å¾…å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚ã€‚</p>
<p>ã€€ã€€2ã€å®¢æˆ·ç«¯è¯·æ±‚ï¼šæŒ‡å®¢æˆ·ç«¯çš„å¥—æ¥å­—æå‡ºè¿æ¥è¯·æ±‚ï¼Œè¦è¿æ¥çš„ç›®æ ‡æ˜¯æœåŠ¡å™¨ç«¯çš„å¥—æ¥å­—ã€‚</p>
<p>ã€€ã€€ä¸ºæ­¤ï¼Œå®¢æˆ·ç«¯çš„å¥—æ¥å­—å¿…é¡»é¦–å…ˆæè¿°å®ƒè¦è¿æ¥çš„æœåŠ¡å™¨çš„å¥—æ¥å­—ï¼ŒæŒ‡å‡ºæœåŠ¡å™¨ç«¯å¥—æ¥å­—çš„åœ°å€å’Œç«¯å£å·ï¼Œç„¶åå°±å‘æœåŠ¡å™¨ç«¯å¥—æ¥å­—æå‡ºè¿æ¥è¯·æ±‚ã€‚</p>
<p>ã€€ã€€3ã€è¿æ¥ç¡®è®¤ï¼šå½“æœåŠ¡å™¨ç«¯å¥—æ¥å­—ç›‘å¬åˆ°æˆ–è€…è¯´æ¥æ”¶åˆ°å®¢æˆ·ç«¯å¥—æ¥å­—çš„è¿æ¥è¯·æ±‚æ—¶ï¼Œå°±å“åº”å®¢æˆ·ç«¯å¥—æ¥å­—çš„è¯·æ±‚ï¼Œå»ºç«‹ä¸€ä¸ªæ–°çš„çº¿ç¨‹ï¼ŒæŠŠæœåŠ¡å™¨ç«¯å¥—æ¥å­—çš„æè¿°å‘ç»™å®¢æˆ·ç«¯ï¼Œä¸€æ—¦å®¢æˆ·ç«¯ç¡®è®¤äº†æ­¤æè¿°ï¼ŒåŒæ–¹å°±æ­£å¼å»ºç«‹è¿æ¥ã€‚</p>
<p>è€ŒæœåŠ¡å™¨ç«¯å¥—æ¥å­—ç»§ç»­å¤„äºç›‘å¬çŠ¶æ€ï¼Œç»§ç»­æ¥æ”¶å…¶ä»–å®¢æˆ·ç«¯å¥—æ¥å­—çš„è¿æ¥è¯·æ±‚ã€‚</p>
<h3 id="éå¯¹ç§°åŠ å¯†RSA"><a href="#éå¯¹ç§°åŠ å¯†RSA" class="headerlink" title="éå¯¹ç§°åŠ å¯†RSA"></a>éå¯¹ç§°åŠ å¯†RSA</h3><p>ç®€ä»‹ï¼š</p>
<ol>
<li>å¯¹ç§°åŠ å¯†ç®—æ³•åˆç§°ç°ä»£åŠ å¯†ç®—æ³•ã€‚</li>
<li>éå¯¹ç§°åŠ å¯†æ˜¯è®¡ç®—æœºé€šä¿¡å®‰å…¨çš„åŸºçŸ³ï¼Œä¿è¯äº†åŠ å¯†æ•°æ®ä¸ä¼šè¢«ç ´è§£ã€‚</li>
<li>éå¯¹ç§°åŠ å¯†ç®—æ³•éœ€è¦ä¸¤ä¸ªå¯†é’¥ï¼šå…¬å¼€å¯†é’¥(publickey) å’Œç§æœ‰å¯†(privatekey)</li>
<li>å…¬å¼€å¯†é’¥å’Œç§æœ‰å¯†é’¥æ˜¯ä¸€å¯¹</li>
</ol>
<p>å¦‚æœç”¨å…¬å¼€å¯†é’¥å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œåªæœ‰ç”¨å¯¹åº”çš„ç§æœ‰å¯†é’¥æ‰èƒ½è§£å¯†ã€‚<br>å¦‚æœç”¨ç§æœ‰å¯†é’¥å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œåªæœ‰ç”¨å¯¹åº”çš„å…¬å¼€å¯†é’¥æ‰èƒ½è§£å¯†ã€‚</p>
<p>ç‰¹ç‚¹ï¼š<br>ç®—æ³•å¼ºåº¦å¤æ‚ï¼Œå®‰å…¨æ€§ä¾èµ–äºç®—æ³•ä¸å¯†é’¥ã€‚<br>åŠ å¯†è§£å¯†é€Ÿåº¦æ…¢ã€‚</p>
<p>ä¸å¯¹ç§°åŠ å¯†ç®—æ³•çš„å¯¹æ¯”ï¼š<br>å¯¹ç§°åŠ å¯†åªæœ‰ä¸€ç§å¯†é’¥ï¼Œå¹¶ä¸”æ˜¯éå…¬å¼€çš„ï¼Œå¦‚æœè¦è§£å¯†å°±å¾—è®©å¯¹æ–¹çŸ¥é“å¯†é’¥ã€‚<br>éå¯¹ç§°åŠ å¯†æœ‰ä¸¤ç§å¯†é’¥ï¼Œå…¶ä¸­ä¸€ä¸ªæ˜¯å…¬å¼€çš„ã€‚</p>
<p>RSAåº”ç”¨åœºæ™¯ï¼š<br>ç”±äºRSAç®—æ³•çš„åŠ å¯†è§£å¯†é€Ÿåº¦è¦æ¯”å¯¹ç§°ç®—æ³•é€Ÿåº¦æ…¢å¾ˆå¤šï¼Œåœ¨å®é™…åº”ç”¨ä¸­ï¼Œé€šå¸¸é‡‡å–<br>æ•°æ®æœ¬èº«çš„åŠ å¯†å’Œè§£å¯†ä½¿ç”¨å¯¹ç§°åŠ å¯†ç®—æ³•(AES)ã€‚ ç”¨RSAç®—æ³•åŠ å¯†å¹¶ä¼ è¾“å¯¹ç§°ç®—æ³•æ‰€éœ€çš„å¯†é’¥ã€‚</p>
<h3 id="HTTP1ã€HTTP2ã€HTTP3"><a href="#HTTP1ã€HTTP2ã€HTTP3" class="headerlink" title="HTTP1ã€HTTP2ã€HTTP3"></a>HTTP1ã€HTTP2ã€HTTP3</h3><p>HTTP&#x2F;2 ç›¸æ¯”äº HTTP&#x2F;1.1ï¼Œå¯ä»¥è¯´æ˜¯å¤§å¹…åº¦æé«˜äº†ç½‘é¡µçš„æ€§èƒ½ï¼Œåªéœ€è¦å‡çº§åˆ°è¯¥åè®®å°±å¯ä»¥å‡å°‘å¾ˆå¤šä¹‹å‰éœ€è¦åšçš„æ€§èƒ½ä¼˜åŒ–å·¥ä½œï¼Œè™½å¦‚æ­¤ä½†HTTP&#x2F;2å¹¶éå®Œç¾çš„ï¼ŒHTTP&#x2F;3 å°±æ˜¯ä¸ºäº†è§£å†³ HTTP&#x2F;2 æ‰€å­˜åœ¨çš„ä¸€äº›é—®é¢˜è€Œè¢«æ¨å‡ºæ¥çš„ã€‚</p>
<h3 id="HTTP1-1-çš„ç¼ºé™·"><a href="#HTTP1-1-çš„ç¼ºé™·" class="headerlink" title="HTTP1.1 çš„ç¼ºé™·"></a><strong>HTTP1.1 çš„ç¼ºé™·</strong></h3><ol>
<li><p>é«˜å»¶è¿Ÿ â€” é˜Ÿå¤´é˜»å¡(Head-Of-Line Blocking)</p>
<p><code>é˜Ÿå¤´é˜»å¡</code>æ˜¯æŒ‡å½“é¡ºåºå‘é€çš„è¯·æ±‚åºåˆ—ä¸­çš„ä¸€ä¸ªè¯·æ±‚å› ä¸ºæŸç§åŸå› è¢«é˜»å¡æ—¶ï¼Œåœ¨åé¢æ’é˜Ÿçš„æ‰€æœ‰è¯·æ±‚ä¹Ÿä¸€å¹¶è¢«é˜»å¡ï¼Œä¼šå¯¼è‡´å®¢æˆ·ç«¯è¿Ÿè¿Ÿæ”¶ä¸åˆ°æ•°æ®ã€‚</p>
<p>é’ˆå¯¹é˜Ÿå¤´é˜»å¡çš„è§£å†³åŠæ³•:</p>
<ul>
<li><code>å°†åŒä¸€é¡µé¢çš„èµ„æºåˆ†æ•£åˆ°ä¸åŒåŸŸåä¸‹ï¼Œæå‡è¿æ¥ä¸Šé™</code>ã€‚</li>
<li><code>åˆå¹¶å°æ–‡ä»¶å‡å°‘èµ„æºæ•°</code>ï¼Œä½¿ç”¨ç²¾çµå›¾ã€‚</li>
<li><code>å†…è”(Inlining)èµ„æº</code>æ˜¯å¦å¤–ä¸€ç§é˜²æ­¢å‘é€å¾ˆå¤šå°å›¾è¯·æ±‚çš„æŠ€å·§ï¼Œå°†å›¾ç‰‡çš„åŸå§‹æ•°æ®åµŒå…¥åœ¨CSSæ–‡ä»¶é‡Œé¢çš„URLé‡Œï¼Œå‡å°‘ç½‘ç»œè¯·æ±‚æ¬¡æ•°ã€‚</li>
<li><code>å‡å°‘è¯·æ±‚æ•°é‡</code>ï¼Œåˆå¹¶æ–‡ä»¶ã€‚</li>
</ul>
</li>
<li><p>æ— çŠ¶æ€ç‰¹æ€§ â€” é˜»ç¢äº¤äº’</p>
<p><code>æ— çŠ¶æ€æ˜¯æŒ‡åè®®å¯¹äºè¿æ¥çŠ¶æ€æ²¡æœ‰è®°å¿†èƒ½åŠ›</code>ã€‚çº¯å‡€çš„ HTTP æ˜¯æ²¡æœ‰ cookie ç­‰æœºåˆ¶çš„ï¼Œæ¯ä¸€ä¸ªè¿æ¥éƒ½æ˜¯ä¸€ä¸ªæ–°çš„è¿æ¥ã€‚</p>
<p><code>Headeré‡Œæºå¸¦çš„å†…å®¹è¿‡å¤§ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šå¢åŠ äº†ä¼ è¾“çš„æˆæœ¬</code>ã€‚ä¸”è¯·æ±‚å“åº”æŠ¥æ–‡é‡Œæœ‰å¤§é‡å­—æ®µå€¼éƒ½æ˜¯é‡å¤çš„ã€‚</p>
</li>
<li><p>æ˜æ–‡ä¼ è¾“ â€” ä¸å®‰å…¨æ€§</p>
<p>HTTP&#x2F;1.1åœ¨ä¼ è¾“æ•°æ®æ—¶ï¼Œæ‰€æœ‰<code>ä¼ è¾“çš„å†…å®¹éƒ½æ˜¯æ˜æ–‡</code>ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯éƒ½æ— æ³•éªŒè¯å¯¹æ–¹çš„èº«ä»½ï¼Œæ— æ³•ä¿è¯æ•°æ®çš„å®‰å…¨æ€§ã€‚</p>
</li>
<li><p>ä¸æ”¯æŒæœåŠ¡ç«¯æ¨é€</p>
</li>
</ol>
<blockquote>
<p>è®°å¿†å£è¯€ï¼šé˜Ÿå¤´é˜»å¡é«˜å»¶è¿Ÿï¼Œæ— çŠ¶æ€é˜»äº¤äº’ï¼Œæ˜æ–‡ä¼ è¾“ä¸å®‰å…¨ï¼ŒæœåŠ¡æ¨é€ä¸æ”¯æŒã€‚</p>
</blockquote>
<p><strong>HTTP 1.1 æ’é˜Ÿé—®é¢˜</strong></p>
<p>HTTP 1.1å¤šä¸ªæ–‡ä»¶å…±ç”¨ä¸€ä¸ªTCPï¼Œè¿™æ ·å¯ä»¥å‡å°‘tcpæ¡æ‰‹ï¼Œè¿™æ ·3ä¸ªæ–‡ä»¶å°±ä¸ç”¨æ¡æ‰‹9æ¬¡äº†ï¼Œä¸è¿‡è¿™æ ·è¯·æ±‚æ–‡ä»¶éœ€è¦æ’é˜Ÿï¼Œè¯·æ±‚å’Œè¿”å›éƒ½éœ€è¦æ’é˜Ÿï¼Œ å¦‚æœç¬¬ä¸€ä¸ªæ–‡ä»¶å“åº”æ…¢ï¼Œä¼šé˜»å¡åé¢çš„æ–‡ä»¶ï¼Œè¿™æ ·å°±äº§ç”Ÿäº†å¯¹å¤´çš„ç­‰å¾…é—®é¢˜ã€‚</p>
<p>æœ‰çš„ç½‘ç«™å¯èƒ½ä¼šæœ‰å¾ˆå¤šæ–‡ä»¶ï¼Œæµè§ˆå™¨å¤„äºå¯¹æœºå™¨æ€§èƒ½çš„è€ƒè™‘ï¼Œå®ƒä¸å¯èƒ½è®©ä½ æ— é™åˆ¶çš„å‘è¯·æ±‚å»ºè¿æ¥ï¼Œå› ä¸ºå»ºç«‹è¿æ¥éœ€è¦å ç”¨èµ„æºï¼Œæµè§ˆå™¨ä¸æƒ³æŠŠç”¨æˆ·çš„ç½‘ç»œèµ„æºéƒ½å ç”¨äº†ï¼Œæ‰€ä»¥æµè§ˆå™¨æœ€å¤šä¼šå»ºç«‹6ä¸ªtcpè¿æ¥ï¼›å¦‚æœæœ‰ä¸Šç™¾ä¸ªæ–‡ä»¶å¯èƒ½éƒ½éœ€è¦æ’é˜Ÿï¼Œhttp2.0æ­£åœ¨è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8ecdc60670194df7957ee59e1f56701f~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h3 id="SPDY-åè®®ä¸-HTTP-x2F-2-ç®€ä»‹"><a href="#SPDY-åè®®ä¸-HTTP-x2F-2-ç®€ä»‹" class="headerlink" title="SPDY åè®®ä¸ HTTP&#x2F;2 ç®€ä»‹"></a>SPDY åè®®ä¸ HTTP&#x2F;2 ç®€ä»‹</h3><h4 id="1ã€HTTP-x2F-2-ç®€ä»‹"><a href="#1ã€HTTP-x2F-2-ç®€ä»‹" class="headerlink" title="1ã€HTTP&#x2F;2 ç®€ä»‹"></a>1ã€HTTP&#x2F;2 ç®€ä»‹</h4><p>HTTP&#x2F;2æ˜¯ç°è¡ŒHTTPåè®®ï¼ˆHTTP&#x2F;1.xï¼‰çš„æ›¿ä»£ï¼Œä½†å®ƒä¸æ˜¯é‡å†™ã€‚<strong>HTTP&#x2F;2åŸºäºSPDYï¼Œä¸“æ³¨äºæ€§èƒ½ï¼Œæœ€å¤§çš„ä¸€ä¸ªç›®æ ‡æ˜¯åœ¨ç”¨æˆ·å’Œç½‘ç«™é—´åªç”¨ä¸€ä¸ªè¿æ¥ï¼ˆconnectionï¼‰</strong> ã€‚</p>
<h4 id="2ã€HTTP-x2F-2-æ–°ç‰¹æ€§"><a href="#2ã€HTTP-x2F-2-æ–°ç‰¹æ€§" class="headerlink" title="2ã€HTTP&#x2F;2 æ–°ç‰¹æ€§"></a>2ã€HTTP&#x2F;2 æ–°ç‰¹æ€§</h4><h4 id="1ã€äºŒè¿›åˆ¶ä¼ è¾“"><a href="#1ã€äºŒè¿›åˆ¶ä¼ è¾“" class="headerlink" title="1ã€äºŒè¿›åˆ¶ä¼ è¾“"></a>1ã€äºŒè¿›åˆ¶ä¼ è¾“</h4><p><code>HTTP/2ä¼ è¾“æ•°æ®é‡çš„å¤§å¹…å‡å°‘,ä¸»è¦æœ‰ä¸¤ä¸ªåŸå› :ä»¥äºŒè¿›åˆ¶æ–¹å¼ä¼ è¾“å’ŒHeader å‹ç¼©</code>ã€‚æˆ‘ä»¬å…ˆæ¥ä»‹ç»äºŒè¿›åˆ¶ä¼ è¾“,HTTP&#x2F;2 é‡‡ç”¨äºŒè¿›åˆ¶æ ¼å¼ä¼ è¾“æ•°æ®ï¼Œè€ŒéHTTP&#x2F;1.x é‡Œçº¯æ–‡æœ¬å½¢å¼çš„æŠ¥æ–‡ ï¼ŒäºŒè¿›åˆ¶åè®®è§£æèµ·æ¥æ›´é«˜æ•ˆã€‚<code>HTTP/2 å°†è¯·æ±‚å’Œå“åº”æ•°æ®åˆ†å‰²ä¸ºæ›´å°çš„å¸§ï¼Œå¹¶ä¸”å®ƒä»¬é‡‡ç”¨äºŒè¿›åˆ¶ç¼–ç </code>ã€‚</p>
<h4 id="2ã€Header-å‹ç¼©"><a href="#2ã€Header-å‹ç¼©" class="headerlink" title="2ã€Header å‹ç¼©"></a>2ã€Header å‹ç¼©</h4><p>HTTP&#x2F;2å¹¶æ²¡æœ‰ä½¿ç”¨ä¼ ç»Ÿçš„å‹ç¼©ç®—æ³•ï¼Œè€Œæ˜¯å¼€å‘äº†ä¸“é—¨çš„â€HPACKâ€ç®—æ³•ï¼Œåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¸¤ç«¯å»ºç«‹â€œå­—å…¸â€ï¼Œç”¨ç´¢å¼•å·è¡¨ç¤ºé‡å¤çš„å­—ç¬¦ä¸²ï¼Œè¿˜é‡‡ç”¨å“ˆå¤«æ›¼ç¼–ç æ¥å‹ç¼©æ•´æ•°å’Œå­—ç¬¦ä¸²ï¼Œå¯ä»¥è¾¾åˆ°50%~90%çš„é«˜å‹ç¼©ç‡ã€‚</p>
<h4 id="3ã€å¤šè·¯å¤ç”¨"><a href="#3ã€å¤šè·¯å¤ç”¨" class="headerlink" title="3ã€å¤šè·¯å¤ç”¨"></a>3ã€å¤šè·¯å¤ç”¨</h4><p>åœ¨ HTTP&#x2F;2 ä¸­å¼•å…¥äº†å¤šè·¯å¤ç”¨çš„æŠ€æœ¯ã€‚å¤šè·¯å¤ç”¨å¾ˆå¥½çš„è§£å†³äº†æµè§ˆå™¨é™åˆ¶åŒä¸€ä¸ªåŸŸåä¸‹çš„è¯·æ±‚æ•°é‡çš„é—®é¢˜ï¼ŒåŒæ—¶ä¹Ÿæ›´å®¹æ˜“å®ç°å…¨é€Ÿä¼ è¾“ã€‚</p>
<p><img src="https://gitee.com/xjxjxj123/xiaojun-personal-blog/raw/master/images/f756ad3403bc4fe18e970c56677c796e~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h4 id="4ã€Server-Push"><a href="#4ã€Server-Push" class="headerlink" title="4ã€Server Push"></a>4ã€Server Push</h4><p>HTTP2è¿˜åœ¨ä¸€å®šç¨‹åº¦ä¸Šæ”¹å˜äº†ä¼ ç»Ÿçš„â€œè¯·æ±‚-åº”ç­”â€å·¥ä½œæ¨¡å¼ï¼ŒæœåŠ¡å™¨ä¸å†æ˜¯å®Œå…¨è¢«åŠ¨åœ°å“åº”è¯·æ±‚ï¼Œä¹Ÿå¯ä»¥æ–°å»ºâ€œæµâ€ä¸»åŠ¨å‘å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯ã€‚å‡å°‘ç­‰å¾…çš„å»¶è¿Ÿï¼Œè¿™è¢«ç§°ä¸ºâ€<code>æœåŠ¡å™¨æ¨é€</code>â€œï¼ˆ Server Pushï¼Œä¹Ÿå« Cache pushï¼‰</p>
<h4 id="5ã€æé«˜å®‰å…¨æ€§"><a href="#5ã€æé«˜å®‰å…¨æ€§" class="headerlink" title="5ã€æé«˜å®‰å…¨æ€§"></a>5ã€æé«˜å®‰å…¨æ€§</h4><p>å‡ºäºå…¼å®¹çš„è€ƒè™‘ï¼ŒHTTP&#x2F;2å»¶ç»­äº†HTTP&#x2F;1çš„â€œæ˜æ–‡â€ç‰¹ç‚¹ï¼Œå¯ä»¥åƒä»¥å‰ä¸€æ ·ä½¿ç”¨æ˜æ–‡ä¼ è¾“æ•°æ®ï¼Œä¸å¼ºåˆ¶ä½¿ç”¨åŠ å¯†é€šä¿¡ï¼Œä¸è¿‡æ ¼å¼è¿˜æ˜¯äºŒè¿›åˆ¶ï¼Œåªæ˜¯ä¸éœ€è¦è§£å¯†ã€‚</p>
<p>ä½†ç”±äºHTTPSå·²ç»æ˜¯å¤§åŠ¿æ‰€è¶‹ï¼Œè€Œä¸”ä¸»æµçš„æµè§ˆå™¨Chromeã€Firefoxç­‰éƒ½å…¬å¼€å®£å¸ƒåªæ”¯æŒåŠ å¯†çš„HTTP&#x2F;2ï¼Œ<strong>æ‰€ä»¥â€œäº‹å®ä¸Šâ€çš„HTTP&#x2F;2æ˜¯åŠ å¯†çš„</strong>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œäº’è”ç½‘ä¸Šé€šå¸¸æ‰€èƒ½è§åˆ°çš„HTTP&#x2F;2éƒ½æ˜¯ä½¿ç”¨â€httpsâ€åè®®åï¼Œè·‘åœ¨TLSä¸Šé¢ã€‚HTTP&#x2F;2åè®®å®šä¹‰äº†ä¸¤ä¸ªå­—ç¬¦ä¸²æ ‡è¯†ç¬¦ï¼šâ€œh2â€è¡¨ç¤ºåŠ å¯†çš„HTTP&#x2F;2ï¼Œâ€œh2câ€è¡¨ç¤ºæ˜æ–‡çš„HTTP&#x2F;2ã€‚</p>
<h4 id="6ã€é˜²æ­¢å¯¹å¤´é˜»å¡"><a href="#6ã€é˜²æ­¢å¯¹å¤´é˜»å¡" class="headerlink" title="6ã€é˜²æ­¢å¯¹å¤´é˜»å¡"></a>6ã€é˜²æ­¢å¯¹å¤´é˜»å¡</h4><p>http1.1å¦‚æœç¬¬ä¸€ä¸ªæ–‡ä»¶é˜»å¡ï¼Œç¬¬äºŒä¸ªæ–‡ä»¶ä¹Ÿå°±é˜»å¡äº†ã€‚</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b67bd1f793a3425d9e8a415cae9b7863~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>http2.0çš„è§£å†³ï¼ŒæŠŠ3ä¸ªè¯·æ±‚æ‰“åŒ…æˆä¸€ä¸ªå°å—å‘é€è¿‡å»ï¼Œå³ä½¿ç¬¬ä¸€ä¸ªé˜»å¡äº†ï¼Œåé¢2ä¸ªä¹Ÿå¯ä»¥å›æ¥ï¼›ç›¸å½“äº3ä¸ªæ–‡ä»¶åŒæ—¶è¯·æ±‚ï¼Œå°±çœ‹è°å…ˆå›æ¥è°åå›æ¥ï¼Œé˜»å¡çš„å¯èƒ½å°±åå›æ¥ï¼Œå¯¹å¸¦å®½çš„åˆ©ç”¨æ˜¯æœ€é«˜çš„ï¼›ä½†æ²¡æœ‰è§£å†³TCPçš„å¯¹å¤´é˜»å¡ï¼Œå¦‚æœTCPå‘è¿‡å»çš„ä¸€ä¸ªåˆ†åŒ…å‘ä¸¢äº†ï¼Œä»–ä¼šé‡æ–°å‘ä¸€æ¬¡ï¼›http2.0çš„è§£å†³äº†å¤§æ–‡ä»¶çš„é˜»å¡ã€‚</p>
<p><img src="https://gitee.com/xjxjxj123/xiaojun-personal-blog/raw/master/images/77d8ae8e0de44f3aa693f0626a346d4c~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>ä¸€ä¸ªåˆ†åŒ…è¯·æ±‚3ä¸ªæ–‡ä»¶ï¼Œå³ä½¿ç¬¬ä¸€ä¸ªé˜»å¡äº†ï¼Œç¬¬äºŒä¸ªä¹Ÿèƒ½è¿”å›</p>
<h3 id="HTTP-x2F-2-çš„ç¼ºç‚¹"><a href="#HTTP-x2F-2-çš„ç¼ºç‚¹" class="headerlink" title="HTTP&#x2F;2 çš„ç¼ºç‚¹"></a>HTTP&#x2F;2 çš„ç¼ºç‚¹</h3><p>è™½ç„¶ HTTP&#x2F;2 è§£å†³äº†å¾ˆå¤šä¹‹å‰æ—§ç‰ˆæœ¬çš„é—®é¢˜ï¼Œä½†å®ƒè¿˜æ˜¯å­˜åœ¨ä¸€ä¸ªå·¨å¤§çš„é—®é¢˜ï¼Œ<strong>ä¸»è¦æ˜¯åº•å±‚æ”¯æ’‘çš„ TCP åè®®é€ æˆçš„</strong>ã€‚HTTP&#x2F;2çš„ç¼ºç‚¹ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ol>
<li>TCP ä»¥åŠ TCP+TLS å»ºç«‹è¿æ¥æ—¶å»¶æ—¶</li>
<li>TCP çš„é˜Ÿå¤´é˜»å¡å¹¶æ²¡æœ‰å½»åº•è§£å†³</li>
<li>å¤šè·¯å¤ç”¨å¯¼è‡´æœåŠ¡å™¨å‹åŠ›ä¸Šå‡ä¹Ÿå®¹æ˜“ Timeout</li>
</ol>
<h3 id="HTTP-x2F-3-æ–°ç‰¹æ€§"><a href="#HTTP-x2F-3-æ–°ç‰¹æ€§" class="headerlink" title="HTTP&#x2F;3 æ–°ç‰¹æ€§"></a>HTTP&#x2F;3 æ–°ç‰¹æ€§</h3><h4 id="1ã€HTTP-x2F-3ç®€ä»‹"><a href="#1ã€HTTP-x2F-3ç®€ä»‹" class="headerlink" title="1ã€HTTP&#x2F;3ç®€ä»‹"></a>1ã€HTTP&#x2F;3ç®€ä»‹</h4><p>Google åœ¨æ¨SPDYçš„æ—¶å€™å°±æäº†ä¸ªåŸºäº UDP åè®®çš„â€œQUICâ€åè®®ï¼Œè®©HTTPè·‘åœ¨QUICä¸Šè€Œä¸æ˜¯TCPä¸Šã€‚è€Œâ€œHTTP over QUICâ€å°±æ˜¯HTTP&#x2F;3ï¼ŒçœŸæ­£â€œå®Œç¾â€åœ°è§£å†³äº†â€œé˜Ÿå¤´é˜»å¡â€é—®é¢˜ã€‚</p>
<p>QUIC è™½ç„¶åŸºäº UDPï¼Œä½†æ˜¯åœ¨åŸæœ¬çš„åŸºç¡€ä¸Šæ–°å¢äº†å¾ˆå¤šåŠŸèƒ½ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬é‡ç‚¹ä»‹ç»å‡ ä¸ªQUICæ–°åŠŸèƒ½ã€‚</p>
<h4 id="2ã€QUICæ–°åŠŸèƒ½"><a href="#2ã€QUICæ–°åŠŸèƒ½" class="headerlink" title="2ã€QUICæ–°åŠŸèƒ½"></a>2ã€QUICæ–°åŠŸèƒ½</h4><p>QUICåŸºäºUDPï¼Œè€ŒUDPæ˜¯â€œæ— è¿æ¥â€çš„ï¼Œæ ¹æœ¬å°±ä¸éœ€è¦â€œæ¡æ‰‹â€å’Œâ€œæŒ¥æ‰‹â€ï¼Œæ‰€ä»¥å°±æ¯”TCPæ¥å¾—å¿«ã€‚æ­¤å¤–QUICä¹Ÿå®ç°äº†å¯é ä¼ è¾“ï¼Œä¿è¯æ•°æ®ä¸€å®šèƒ½å¤ŸæŠµè¾¾ç›®çš„åœ°ã€‚å®ƒè¿˜å¼•å…¥äº†ç±»ä¼¼HTTP&#x2F;2çš„â€œæµâ€å’Œâ€œå¤šè·¯å¤ç”¨â€ï¼Œå•ä¸ªâ€œæµâ€æ˜¯æœ‰åºçš„ï¼Œå¯èƒ½ä¼šå› ä¸ºä¸¢åŒ…è€Œé˜»å¡ï¼Œä½†å…¶ä»–â€œæµâ€ä¸ä¼šå—åˆ°å½±å“ã€‚å…·ä½“æ¥è¯´QUICåè®®æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ul>
<li><p><strong>å®ç°äº†ç±»ä¼¼TCPçš„æµé‡æ§åˆ¶ã€ä¼ è¾“å¯é æ€§çš„åŠŸèƒ½</strong></p>
<p>  è™½ç„¶UDPä¸æä¾›å¯é æ€§çš„ä¼ è¾“ï¼Œä½†QUICåœ¨UDPçš„åŸºç¡€ä¹‹ä¸Šå¢åŠ äº†ä¸€å±‚æ¥ä¿è¯æ•°æ®å¯é æ€§ä¼ è¾“ã€‚å®ƒæä¾›äº†æ•°æ®åŒ…é‡ä¼ ã€æ‹¥å¡æ§åˆ¶ä»¥åŠå…¶ä»–ä¸€äº›TCPä¸­å­˜åœ¨çš„ç‰¹æ€§ã€‚</p>
</li>
<li><p><strong>å®ç°äº†å¿«é€Ÿæ¡æ‰‹åŠŸèƒ½</strong></p>
<p>  ç”±äºQUICæ˜¯åŸºäºUDPçš„ï¼Œæ‰€ä»¥QUICå¯ä»¥å®ç°ä½¿ç”¨0-RTTæˆ–è€…1-RTTæ¥å»ºç«‹è¿æ¥ï¼Œè¿™æ„å‘³ç€QUICå¯ä»¥ç”¨æœ€å¿«çš„é€Ÿåº¦æ¥å‘é€å’Œæ¥æ”¶æ•°æ®ï¼Œè¿™æ ·å¯ä»¥å¤§å¤§æå‡é¦–æ¬¡æ‰“å¼€é¡µé¢çš„é€Ÿåº¦ã€‚<strong>0RTT å»ºè¿å¯ä»¥è¯´æ˜¯ QUIC ç›¸æ¯” HTTP2 æœ€å¤§çš„æ€§èƒ½ä¼˜åŠ¿</strong>ã€‚</p>
</li>
<li><p><strong>é›†æˆäº†TLSåŠ å¯†åŠŸèƒ½</strong></p>
</li>
<li><p><strong>å¤šè·¯å¤ç”¨ï¼Œå½»åº•è§£å†³TCPä¸­é˜Ÿå¤´é˜»å¡çš„é—®é¢˜</strong></p>
<p>  å’ŒTCPä¸åŒï¼ŒQUICå®ç°äº†åœ¨åŒä¸€ç‰©ç†è¿æ¥ä¸Šå¯ä»¥æœ‰å¤šä¸ªç‹¬ç«‹çš„é€»è¾‘æ•°æ®æµã€‚å®ç°äº†æ•°æ®æµçš„å•ç‹¬ä¼ è¾“ï¼Œå°±è§£å†³äº†TCPä¸­é˜Ÿå¤´é˜»å¡çš„é—®é¢˜ã€‚</p>
</li>
<li><p><strong>è¿æ¥è¿ç§»</strong></p>
<p>  TCP æ˜¯æŒ‰ç…§ 4 è¦ç´ ï¼ˆå®¢æˆ·ç«¯ IPã€ç«¯å£, æœåŠ¡å™¨ IPã€ç«¯å£ï¼‰ç¡®å®šä¸€ä¸ªè¿æ¥çš„ã€‚è€Œ QUIC åˆ™æ˜¯è®©å®¢æˆ·ç«¯ç”Ÿæˆä¸€ä¸ª Connection ID ï¼ˆ64 ä½ï¼‰æ¥åŒºåˆ«ä¸åŒè¿æ¥ã€‚åªè¦ Connection ID ä¸å˜ï¼Œè¿æ¥å°±ä¸éœ€è¦é‡æ–°å»ºç«‹ï¼Œå³ä¾¿æ˜¯å®¢æˆ·ç«¯çš„ç½‘ç»œå‘ç”Ÿå˜åŒ–ã€‚ç”±äºè¿ç§»å®¢æˆ·ç«¯ç»§ç»­ä½¿ç”¨ç›¸åŒçš„ä¼šè¯å¯†é’¥æ¥åŠ å¯†å’Œè§£å¯†æ•°æ®åŒ…ï¼ŒQUIC è¿˜æä¾›äº†è¿ç§»å®¢æˆ·ç«¯çš„è‡ªåŠ¨åŠ å¯†éªŒè¯ã€‚</p>
</li>
</ul>
<h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul>
<li>HTTP&#x2F;1.1æœ‰ä¸¤ä¸ªä¸»è¦çš„ç¼ºç‚¹ï¼šå®‰å…¨ä¸è¶³å’Œæ€§èƒ½ä¸é«˜ã€‚</li>
<li>HTTP&#x2F;2å®Œå…¨å…¼å®¹HTTP&#x2F;1ï¼Œæ˜¯â€œæ›´å®‰å…¨çš„HTTPã€æ›´å¿«çš„HTTPSâ€ï¼ŒäºŒè¿›åˆ¶ä¼ è¾“ã€å¤´éƒ¨å‹ç¼©ã€å¤šè·¯å¤ç”¨ã€æœåŠ¡å™¨æ¨é€ç­‰æŠ€æœ¯å¯ä»¥å……åˆ†åˆ©ç”¨å¸¦å®½ï¼Œé™ä½å»¶è¿Ÿï¼Œä»è€Œå¤§å¹…åº¦æé«˜ä¸Šç½‘ä½“éªŒï¼›</li>
<li>QUIC åŸºäº UDP å®ç°ï¼Œæ˜¯ HTTP&#x2F;3 ä¸­çš„åº•å±‚æ”¯æ’‘åè®®ï¼Œè¯¥åè®®åŸºäº UDPï¼Œåˆå–äº† TCP ä¸­çš„ç²¾åï¼Œå®ç°äº†å³å¿«åˆå¯é çš„åè®®ã€‚</li>
</ul>
<h3 id="ç†è§£xssï¼Œcsrfï¼Œddosæ”»å‡»åŸç†ä»¥åŠé¿å…æ–¹å¼"><a href="#ç†è§£xssï¼Œcsrfï¼Œddosæ”»å‡»åŸç†ä»¥åŠé¿å…æ–¹å¼" class="headerlink" title="ç†è§£xssï¼Œcsrfï¼Œddosæ”»å‡»åŸç†ä»¥åŠé¿å…æ–¹å¼"></a>ç†è§£xssï¼Œcsrfï¼Œddosæ”»å‡»åŸç†ä»¥åŠé¿å…æ–¹å¼</h3><p><code>XSS</code>(<code>Cross-Site Scripting</code>ï¼Œ<strong>è·¨ç«™è„šæœ¬æ”»å‡»</strong>)æ˜¯ä¸€ç§ä»£ç æ³¨å…¥æ”»å‡»ã€‚æ”»å‡»è€…åœ¨ç›®æ ‡ç½‘ç«™ä¸Šæ³¨å…¥æ¶æ„ä»£ç ï¼Œå½“è¢«æ”»å‡»è€…ç™»é™†ç½‘ç«™æ—¶å°±ä¼šæ‰§è¡Œè¿™äº›æ¶æ„ä»£ç ï¼Œè¿™äº›è„šæœ¬å¯ä»¥è¯»å– <code>cookieï¼Œsession tokens</code>ï¼Œæˆ–è€…å…¶å®ƒæ•æ„Ÿçš„ç½‘ç«™ä¿¡æ¯ï¼Œå¯¹ç”¨æˆ·è¿›è¡Œé’“é±¼æ¬ºè¯ˆï¼Œç”šè‡³å‘èµ·è •è™«æ”»å‡»ç­‰ã€‚</p>
<p><code>CSRF</code>ï¼ˆ<code>Cross-site request forgery</code>ï¼‰<strong>è·¨ç«™è¯·æ±‚ä¼ªé€ </strong>ï¼šæ”»å‡»è€…è¯±å¯¼å—å®³è€…è¿›å…¥ç¬¬ä¸‰æ–¹ç½‘ç«™ï¼Œåœ¨ç¬¬ä¸‰æ–¹ç½‘ç«™ä¸­ï¼Œå‘è¢«æ”»å‡»ç½‘ç«™å‘é€è·¨ç«™è¯·æ±‚ã€‚åˆ©ç”¨å—å®³è€…åœ¨è¢«æ”»å‡»ç½‘ç«™å·²ç»è·å–çš„æ³¨å†Œå‡­è¯ï¼Œç»•è¿‡åå°çš„ç”¨æˆ·éªŒè¯ï¼Œè¾¾åˆ°å†’å……ç”¨æˆ·å¯¹è¢«æ”»å‡»çš„ç½‘ç«™æ‰§è¡ŒæŸé¡¹æ“ä½œçš„ç›®çš„ã€‚</p>
<p><strong>XSSé¿å…æ–¹å¼ï¼š</strong></p>
<ol>
<li><code>url</code>å‚æ•°ä½¿ç”¨<code>encodeURIComponent</code>æ–¹æ³•è½¬ä¹‰</li>
<li>å°½é‡ä¸æ˜¯æœ‰<code>InnerHtml</code>æ’å…¥<code>HTML</code>å†…å®¹</li>
<li>ä½¿ç”¨ç‰¹æ®Šç¬¦å·ã€æ ‡ç­¾è½¬ä¹‰ç¬¦ã€‚</li>
</ol>
<p><code>CSRF</code>é¿å…æ–¹å¼ï¼š</p>
<ol>
<li><p>æ·»åŠ éªŒè¯ç </p>
</li>
<li><p>ä½¿ç”¨token</p>
<ul>
<li>æœåŠ¡ç«¯ç»™ç”¨æˆ·ç”Ÿæˆä¸€ä¸ªtokenï¼ŒåŠ å¯†åä¼ é€’ç»™ç”¨æˆ·</li>
<li>ç”¨æˆ·åœ¨æäº¤è¯·æ±‚æ—¶ï¼Œéœ€è¦æºå¸¦è¿™ä¸ªtoken</li>
<li>æœåŠ¡ç«¯éªŒè¯tokenæ˜¯å¦æ­£ç¡®</li>
</ul>
</li>
</ol>
<p><code>DDoS</code>åˆå«åˆ†å¸ƒå¼æ‹’ç»æœåŠ¡ï¼Œå…¨ç§° <code>Distributed Denial of Service</code>ï¼Œå…¶åŸç†å°±æ˜¯åˆ©ç”¨å¤§é‡çš„è¯·æ±‚é€ æˆèµ„æºè¿‡è½½ï¼Œå¯¼è‡´æœåŠ¡ä¸å¯ç”¨ã€‚</p>
<p><strong><code>DDos</code>é¿å…æ–¹å¼ï¼š</strong></p>
<ol>
<li>é™åˆ¶å•IPè¯·æ±‚é¢‘ç‡ã€‚</li>
<li>é˜²ç«å¢™ç­‰é˜²æŠ¤è®¾ç½®ç¦æ­¢<code>ICMP</code>åŒ…ç­‰</li>
<li>æ£€æŸ¥ç‰¹æƒç«¯å£çš„å¼€æ”¾</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://770746548.github.io/2025/02/28/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" data-id="cmkgdulh7000ry4mh9rf65q43" data-title="ğŸ”¥ è®¡ç®—æœºç½‘ç»œ" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%85%AB%E8%82%A1%E6%96%87/" rel="tag">å‰ç«¯å…«è‚¡æ–‡</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%85%AB%E8%82%A1%E6%96%87/" rel="tag">å‰ç«¯å…«è‚¡æ–‡</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/" rel="tag">å‰ç«¯åŸºç¡€</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%90%AD%E5%BB%BA%E7%BB%84%E4%BB%B6%E5%BA%93/" rel="tag">æ­å»ºç»„ä»¶åº“</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/%E5%89%8D%E7%AB%AF%E5%85%AB%E8%82%A1%E6%96%87/" style="font-size: 20px;">å‰ç«¯å…«è‚¡æ–‡</a> <a href="/tags/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/" style="font-size: 10px;">å‰ç«¯åŸºç¡€</a> <a href="/tags/%E6%90%AD%E5%BB%BA%E7%BB%84%E4%BB%B6%E5%BA%93/" style="font-size: 10px;">æ­å»ºç»„ä»¶åº“</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2026/01/">January 2026</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/03/">March 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/02/">February 2025</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2026/01/16/%E6%90%AD%E5%BB%BA%E7%BB%84%E4%BB%B6%E5%BA%93/">åŸºäº Vue3 + VitePress + Element Plus çš„ç»„ä»¶åº“æ–‡æ¡£</a>
          </li>
        
          <li>
            <a href="/2026/01/15/jenkins%E9%83%A8%E7%BD%B2/">jenkins éƒ¨ç½²æ•™ç¨‹æŒ‡å—</a>
          </li>
        
          <li>
            <a href="/2025/03/28/TypeScript/">ğŸ”¥ TypeScript</a>
          </li>
        
          <li>
            <a href="/2025/03/28/vue%E9%9D%A2%E8%AF%95%E4%B8%93%E9%A2%98/">ğŸ”¥ vueé¢è¯•ä¸“é¢˜</a>
          </li>
        
          <li>
            <a href="/2025/03/19/%E9%A5%BF%E4%BA%86%E4%B9%88%E7%BB%84%E4%BB%B6%E5%BA%93%E8%B8%A9%E5%9D%91/">element-uiè¸©å‘ç‚¹</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2026 å°ä¿Š<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>